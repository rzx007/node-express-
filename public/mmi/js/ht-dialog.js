!function(d,e){"use strict";var K="ht",k=d[K],z="px",l="left",W="top",u="bottom",Y="right",t="innerHTML",i="className",o="",D="width",q="height",p="string",S="position",x="absolute",A="0",H="opacity",R="background",j=k.Default,a=j.getInternal(),v=k.Color,s=j.animate,X=j.isTouchable,L=null,Z=(Math.sqrt,d.parseInt),w=d.setTimeout,J=(Math.round,v.titleIconBackground),Q=function(K){return typeof K===p||K instanceof String},m=function(){return document},I=function(L){return m().createElement(L)},g=function(){var f=I("div");return f.tabIndex=-1,f.style.outline="none",f},P=function(){return I("canvas")},B=function(j,V){h(j,"-webkit-transform",V),h(j,"-ms-transform",V),h(j,"transform",V)},h=function(S,a,n){S.style.setProperty(a,n,L)},U=function(D,s,m){j.def(k.widget[D],s,m)},N=function(K,G){K.appendChild(G)},r=function(){return m().documentElement},_=function(){return r().clientWidth},n=function(){return r().clientHeight},b=a.addEventListener,f=a.removeEventListener,y=function(k){var m=k.touches[0];return m?m:k.changedTouches[0]};a.addMethod(j,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:J},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:J}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:J},{type:"rect",rect:[10,10,80,20],background:J}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:J},{type:"rect",rect:[10,34,56,14],background:J},{type:"rect",rect:[34,10,56,14],background:J},{type:"rect",rect:[82,10,8,56],background:J},{type:"rect",rect:[66,62,24,8],background:J}]},dialogTitleLabelColor:j.labelSelectColor,dialogTitleLabelFont:(X?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:j.labelFont,dialogTitleBackground:v.titleBackground,dialogHeaderBackground:v.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var G=function(c){var q=this;q.$1d=c,q.addListeners()};j.def(G,e,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(R){var K=this,Z=K.$1d,g=Z.$6d,b=Z._config,W=Z.$7d,H=R,i=R.target;if(W.contains(i)||j.preventDefault(R),j.isLeftButton(R)){X&&(H=y(R));var E=K.$8d={x:H.pageX,y:H.pageY};K.$9d={x:E.x,y:E.y},!b.maximized&&b.draggable&&g.contains(i)&&(K.$4d=!0,j.startDragging(K,R)),K.handle_mousemove(R)&&(K.$2d=!0,j.startDragging(K,R)),W.contains(R.target)||Z.$41d.focus()}},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchend:function(K){if(j.isLeftButton(K)&&!this.$5d&&!this.$3d){var S=this,r=S.$1d,e=K.target,V=r._config,Q=r.$18d,W=r.$16d;for(V.closable&&Q.contains(e)&&r.hide(),V.maximizable&&W.contains(e)&&(V.maximized?r.restore():r.maximize());e&&(e.className||"").indexOf("dialog-button")<0;)e=e.parentNode;e&&e.buttonItem&&r.action&&r.action(e.buttonItem,K),delete S.$8d,delete S.$9d}},handle_mouseup:function(q){this.handle_touchend(q)},handleWindowTouchEnd:function(s){var S=this,j=S.$1d,q=j.$10d;S.$2d&&S.$3d?q.fire({kind:"endResize",target:j,originEvent:s}):S.$4d&&S.$5d&&q.fire({kind:"endMove",target:j,originEvent:s}),this.clear()},handleWindowMouseUp:function(U){this.handleWindowTouchEnd(U)},handle_mousemove:function(S){var T=this.$1d._config;if(T.maximized)return!1;if("w"!==T.resizeMode&&"h"!==T.resizeMode&&"wh"!==T.resizeMode)return!1;var p=this,s=p.getView(),L=s.querySelector(".resize-area"),w=L.getBoundingClientRect(),e={x:w.left,y:w.top,width:w.width,height:w.height};S=X?y(S):S;var r=S.clientX,G=S.clientY,x={x:r,y:G};return j.containsPoint(e,x)?(h(s,"cursor","nwse-resize"),!0):(h(s,"cursor",o),void 0)},handleWindowTouchMove:function(u){u.preventDefault();var a=u;X&&(a=y(u));var T=this,k=T.$8d,d=T.$9d;if(!(d.x==k.x&&d.y==k.y&&j.getDistance(d,{x:a.pageX,y:a.pageY})<=1)){var q=T.$1d,B=q._config,V=q.$21d,H=B.resizeMode||"wh",s=a.pageX-k.x,D=a.pageY-k.y;if(T.$2d){var m=V.offsetWidth,A=V.offsetHeight,r=m+s,p=A+D;if(r=Math.max(r,50),p=Math.max(p,50),"center"===B.position||B.position==L){var R={},i=V.getBoundingClientRect();R.x=i.left,R.y=i.top,B.position=R}"w"===H?(q.setSize(r,A),k.x+=r-m):"h"===H?(q.setSize(m,p),k.y+=p-A):"wh"===H&&(q.setSize(r,p),k.x+=r-m,k.y+=p-A),T.$3d?q.$10d.fire({kind:"betweenResize",target:q,originEvent:u}):(T.$3d=!0,q.$10d.fire({kind:"beginResize",target:q,originEvent:u}))}else if(T.$4d){var F=V.getBoundingClientRect(),G=F.width,U=F.height,o=_(),g=n(),e=Z(V.style.left)||0,w=Z(V.style.top)||0,Q=e+s,Y=w+D,P=q.adjustPosition({x:Q,y:Y},{width:G,height:U},{width:o,height:g});P&&(Q=P.x,Y=P.y);var E=Q-e,C=Y-w;h(V,l,Q+z),h(V,W,Y+z),k.x+=E,k.y+=C,B.position={x:Q,y:Y},T.$5d?q.$10d.fire({kind:"betweenMove",target:q,originEvent:u}):(T.$5d=!0,q.$10d.fire({kind:"beginMove",target:q,originEvent:u}))}}},handleWindowMouseMove:function(S){this.handleWindowTouchMove(S)},handleWindowResize:function(){var M=this,H=M,u=H._config,G=H.$21d,E=_(),Q=n(),U=u.width,k=u.height,S=u.position||"center";u.maximized?(h(G,D,E+z),h(G,q,Q+z),h(G,W,A),h(G,l,A)):(h(G,D,U+z),h(G,q,k+z),"center"===S?(h(G,l,(E-U)/2+z),h(G,W,(Q-k)/2+z)):(h(G,l,S.x+z),h(G,W,S.y+z))),H.iv()},handle_mousewheel:function(m){m.stopPropagation()},handle_DOMMouseScroll:function(F){F.stopPropagation()}}),k.widget.Dialog=function(C){var y=this,s=y._view=a.createView(null,y);s[i]="ht-widget-dialog",h(s,S,x),j.baseZIndex!=L&&h(s,"z-index",j.baseZIndex+"");var B=y.$11d=new G(y);y.bindingHandleWindowResize=B.handleWindowResize.bind(y),y.$10d=new k.Notifier,C&&y.setConfig(C)},U("Dialog",e,{ms_v:1,ms_fire:1,setTitle:function(O){this._config.title=O,this.getView().querySelector(".dialog-container-title span").innerHTML=O},clearNodes:function(o){if(o)for(;o.firstChild;)o.removeChild(o.firstChild)},$31d:function(){var E=this,Y=E.$6d=g(),Z=E._config,M=E.$12d=E.$13d();Y[i]="dialog-container-title",h(Y,"cursor","default"),h(Y,"white-space","nowrap"),h(Y,"overflow","hidden"),h(Y,"font",j.dialogTitleLabelFont),h(Y,R,Z.titleBackground||j.dialogTitleBackground),h(Y,"color",Z.titleColor||j.dialogTitleLabelColor);var F=I("span"),$=E.$25d();if(Z.titleAlign&&h(Y,"text-align",Z.titleAlign),Z.titleIcon){var B=E.$14d=E.$15d();N(Y,B)}if(Z.title&&Z.title.trim&&(Z.title=Z.title.trim()),F[t]=Z.title||"&nbsp;",N(Y,F),Z.maximizable){var v=E.$16d=E.$17d();N(M,v)}if(Z.closable){var A=E.$18d=E.$19d();N(M,A)}return N(Y,M),h(Y,"display","block"),h(Y,"line-height",$+z),Y},$13d:function(){var m=g();return h(m,S,x),h(m,l,A),h(m,Y,5+z),h(m,W,A),h(m,u,A),h(m,"text-align",Y),h(m,"white-space","nowrap"),m[i]="dialog-title-controls",m},$20d:function(){var Q=this.$21d=g(),u=this._config,e=u.borderWidth;return h(Q,S,"fixed"),h(Q,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),h(Q,"padding",A+" "+e+z+" "+e+z+" "+e+z),h(Q,"box-sizing","border-box"),h(Q,"-moz-box-sizing","border-box"),Q[i]="dialog-container",h(Q,R,u.titleBackground||j.dialogTitleBackground),Q},$22d:function(){var G,w=this,v=w._config,y=w.$7d=g(),Z=v.content,B=0,X=v.contentPadding||0;v.buttons!=L&&v.buttons.length>0&&(B=32),Q(Z)?y[t]=Z:Z.getView?(G=Z.getView(),N(y,G)):(G=Z,N(y,G)),h(y,S,x),h(y,"font",j.dialogContentLabelFont),k.Default.appendToScreen(y);var e=y.offsetWidth+1,$=y.offsetHeight,p=w.$25d();return v.width==L&&(v.width=e+10+2*X),v.height==L&&(v.height=$+p+B+5+2*X),k.Default.removeHTML(y),G&&(h(G,"box-sizing","border-box"),h(G,"-moz-box-sizing","border-box"),h(G,D,"100%"),h(G,q,"100%")),y[i]="dialog-content",h(y,W,p+X+z),h(y,u,B+X+z),h(y,l,X+z),h(y,Y,X+z),h(y,"overflow","hidden"),y},getOverlayDiv:function(){return this.$41d},$23d:function(){var t=this.$41d=g();return t[i]="dialog-overlay",h(t,D,"100%"),h(t,q,"100%"),h(t,S,"fixed"),h(t,W,A),h(t,l,A),h(t,R,"rgba(235, 235, 235, 0.7)"),t},_config:L,setSize:function(c,$){var F=this,Q=F._config;Q&&(Q.width=c,Q.height=$,F.isShowing()&&(F.bindingHandleWindowResize(),F.iv()))},getConfig:function(){return this._config},$24d:function(){var F=this._config,g=F.titleIconSize||16;return X&&(g*=1.2),g},$25d:function(){var X=this._config,m=X.titleHeight||j.widgetTitleHeight;return m},$26d:function(a){h(a,"cursor","pointer"),h(a,"display","inline-block"),h(a,"margin-right",(X?8:4)+z),h(a,"vertical-align",W)},$27d:function(){var F=this.$30d=g(),T=10;return X&&(T=20),h(F,D,T+z),h(F,q,T+z),h(F,S,x),h(F,u,A),h(F,Y,A),F[i]="resize-area",F},$15d:function(){var U=this,c=P();c[i]="dialog-title-control dialog-title-control-icon";var y=U.$25d(),k=U.$24d();return U.$26d(c),a.setCanvas(c,k,y),c},$17d:function(){var R=P();R[i]="dialog-title-control dialog-title-control-maximize";var T=this.$25d(),S=this.$24d();return this.$26d(R),a.setCanvas(R,S,T),R},$19d:function(){var s=P();s[i]="dialog-title-control dialog-title-control-close";var D=this.$25d(),$=this.$24d();return this.$26d(s),a.setCanvas(s,$,D),s},$28d:function(){var i=g();return h(i,R,j.dialogContentBackground||"white"),h(i,D,"100%"),h(i,q,"100%"),h(i,S,"relative"),i},$29d:function(){var w=this,r=g();h(r,"line-height",32+z),h(r,S,x),h(r,u,A),h(r,l,A),h(r,"white-space","nowrap"),h(r,"overflow","hidden"),h(r,Y,A),h(r,R,j.dialogHeaderBackground),r[i]="dialog-container-buttons";var M=this._config,I=M.buttonsAlign||Y,q=0;return h(r,"text-align",I),w.$42d=[],M.buttons.forEach(function(R){var M=new k.widget.Button,B=M.getView();B[i]="dialog-button "+R.className,B.buttonItem=R,w.$42d.push(M),M.setBorderColor(L),M.setBackground(j.dialogButtonBackground),M.setSelectBackground(j.dialogButtonSelectBackground),M.setLabelColor(j.dialogButtonLabelColor),h(B,S,"relative"),h(B,"display","inline-block"),h(B,"text-align",l),h(B,"height",24+z);var W=X?10:5;I===l||I===Y?h(B,"margin-"+I,W+z):0===q||h(B,"margin-"+l,W+z),h(B,"vertical-align","middle");var H=j.getTextSize(M.getLabelFont(),R.label).width+10;M.onClicked=function(m){R.action&&R.action.call(w,R,m)},M.setLabel(R.label),M.setDisabled(R.disabled),h(B,D,H+z),N(r,M.getView()),q++}),r},setConfig:function(i){if(i){var p=this,g=p._view;p._config=i,p.action=i.action,p.clearNodes(g),i.borderWidth==L&&(i.borderWidth=5);var A=p.$23d(),x=p.$28d(),D=p.$31d(),Y=p.$22d(),P=p.$20d(),d=p.$30d=p.$27d();if(N(g,A),N(g,P),N(P,x),N(x,D),N(x,Y),i.buttons!=L&&i.buttons.length>0){var $=p.$29d();N(x,$)}N(P,d),i.maximized?(i.maximized=!1,p.bindingHandleWindowResize(),p.maximize(!0)):p.bindingHandleWindowResize(),p.isShowing()&&p.iv()}},hide:function(){var V=this,b=V.$21d,Q=V.$41d,O=V._view;O[i]="ht-widget-dialog",s(b).duration(200).scale(.7).set(H,A).end(function(){V.onHidden&&V.onHidden(),k.Default.removeHTML(O),V.$10d.fire({kind:"hide",target:V})}),s(Q).duration(200).set(H,A).end(),f(d,"resize",V.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(z){this.$41d.style.display=z?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var l=this,P=l._config,T=l.$21d;B(T,o),l.iv(),P.maximized?l.$10d.fire({kind:"maximize",target:l}):l.$10d.fire({kind:"restore",target:l})},maximize:function(h){var T=this,b=T.$21d,d=T._config;if(!d.maximized){d.maximized=!0,T.$33d(),T.$16d[i]="dialog-title-control dialog-title-control-minimize";var y=_(),P=n(),X=d.width,J=d.height,r=Z(b.style.left)||0,L=Z(b.style.top)||0;T.$36d=X,T.$37d=J,T.$34d=r,T.$35d=L;var K=h?0:200;s(b).duration(K).set(l,A).set(W,A).set(D,y+z).set(q,P+z).end(function(){T.$32d()})}},restore:function(){var c=this,V=c.$34d,$=c.$35d,M=c.$36d,A=c.$37d,I=c._config;if(I.maximized&&(I.maximized=!1,c.$33d(),c.$16d[i]="dialog-title-control dialog-title-control-maximize",c.isShowing()&&V!=L&&$!=L&&M!=L&&A!=L)){var C=c.$21d;s(C).duration(200).set(l,V+z).set(W,$+z).set(D,M+z).set(q,A+z).end(function(){c.$32d()})}delete c.$34d,delete c.$35d,delete c.$36d,delete c.$37d},show:function(){var x=this,j=x._view,F=x._config,G=x.$21d,R=x.$41d;F&&F.zIndex!=L&&h(j,"z-index",F.zIndex+o),k.Default.appendToScreen(j),B(G,"scale(0.7)"),h(G,H,A),x.iv(),x.validate(),x._view[i]+=" dialog-show",w(function(){s(G).duration(200).scale(1).set(H,"1").end(function(){h(G,D,G.clientWidth+z),h(G,q,G.clientHeight+z),x.onShown&&x.onShown(),x.$10d.fire({kind:"show",target:x});var Z=F&&F.content;Z&&Z.iv&&Z.iv()}),s(R).duration(200).set(H,"1").end(),b(d,"resize",x.bindingHandleWindowResize)},30)},setPosition:function(U){var Y=this.$21d;Y.style.left=U.x+"px",Y.style.top=U.y+"px"},addEventListener:function(K,i,N){this.$10d.add(K,i,N)},removeEventListener:function(a,y){this.$10d.remove(a,y)},$38d:function(i,_,g,f){var l=a.initContext(i);a.translateAndScale(l,0,0,1),l.clearRect(0,0,g,g);var H=(g-f)/2;j.drawStretchImage(l,j.getImage(_),"fill",0,H,f,f),l.restore()},$33d:function(){var E=this,w=E._config,K=E.$16d,b=w.maximized?j.dialogRestoreIcon:j.dialogMaximizeIcon;if(K&&b){var f=E.$25d(),L=E.$24d();E.$38d(K,j.getImage(b),f,L)}},$39d:function(){var T=this,w=T._config,N=T.$14d,z=w.titleIcon;if(N&&z){var q=T.$25d(),D=T.$24d();T.$38d(N,j.getImage(z),q,D)}},$40d:function(){var E=this,o=E.$18d,L=j.dialogCloseIcon;if(o&&L){var $=E.$25d(),B=E.$24d();E.$38d(o,j.getImage(L),$,B)}},invalidate:function(I){var N=this,d=N.$42d;N._68I||(N._68I=1,j.callLater(N.validate,N,L,I),N.onInvalidated&&N.onInvalidated(),N.fireViewEvent("invalidate"));var c=N._config.content;c.invalidate&&c.invalidate(),d&&d.forEach(function(R){R.iv()})},validateImpl:function(){var M=this;M.$40d(),M.$33d(),M.$39d();var m=M._config.content;m.initView&&(m.setX(0),m.setY(0),m.setWidth(M.$7d.clientWidth),m.setHeight(M.$7d.clientHeight))},adjustPosition:function(m,N,d){var W=N.width,A=N.height,v=d.width,w=d.height,X=m.x,u=m.y,a=this._config,G=a.minDragSize||20;return"inside"===a.dragMode?(X+W>v&&(X=v-W),u+A>w&&(u=w-A),0>X&&(X=0),0>u&&(u=0)):(null==a.dragMode||"none"===a.dragMode)&&(-W+G>X&&(X=-W+G),X>v-G&&(X=v-G),u>w-G&&(u=w-G),0>u&&(u=0)),{x:X,y:u}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);