!function(r,j,x){"use strict";!function(){var s=Element.prototype.setAttribute;Element.prototype.setAttribute=function(B,R){try{s.call(this,B,R)}catch(G){}}}();var q="ht",E=r.document,P=null,J=r[q],N=J.ui={},O=N.uiTheme={},m=J.List,a=J.DataModel,F=J.Notifier,_=J.Default,C=Math,h=C.min,A=C.max,I=C.abs,G=C.cos,V=C.acos,f=C.sin,T=C.asin,H=C.pow,X=C.round,$=C.floor,w=C.ceil,B=C.sqrt,W=C.PI,D=W/2,o=2*W,n=C.tan,Y=0,s=C.atan2,L=C.random,Z=!1,K=P,z=function(I){return I*I},l={x:0,y:0,width:0,height:0},R="pointer",k="ew-resize",g="ns-resize",c="boolean",v="int",i="number",U="color",p="uncheck",u="check",t="radioOn",Q="radioOff",y="tristate",M="labelFont",S="labelColor",b="selectLabelColor",d="rowHeight",Tl="columnLineColor",Hf="rowLineColor",Rj="columnLineVisible",Ld="rowLineVisible",Gi="visibleFunc",pg="sortFunc",Rd="editable",bi="autoMakeVisible",Ce="batchEditable",aj="checkMode",vk="indent",el="top",sr="left",eh="bottom",$r="center",Vb="right",id="middle",Ki="match_parent",zb="wrap_content",wc="px",ks="asc",fp="desc",ss="rect",Yc="border",nj="shape",Eq="circle",pd="visible",uh="width",_o="height",ye="remove",Ij="clear",op="default",Bd="children",np="centerUniform",Ue="multiple",Nh="dataModel",wm="none",$g="block",nd="preferredSize",Th="minSize",kh="maxSize",xb="layoutParams",Ie="normal",Yh="hover",hh="active",Hp="zoom",xq="style",$c="parent",rc=_.getInternal(),Fq=rc.getPropertyValue,Wg=rc.fillRect,Ak=rc.drawBorder,pq=rc.addMethod,Cq=rc.addMSMap,Gq=rc.getDragger,No=rc.createAnim,Pl=rc.setPropertyValue,Hm=_.createObject,oe=_.sortFunc,Sn=_.callLater,Qd=_.startDragging,sq=_.checkLoadingImage,Je=_.clone,gp=_.isLeftButton,mr=_.isDoubleClick,fm=_.preventDefault,lh=_.isSelectAll,tc=_.isTouchable,$q=_.getClientPoint,Zr=_.getPagePoint,Bp=_.getDistance,Rg=_.disabledOpacity,Gl=_.isString,Lk=_.isNumber,bm=_.isBoolean,Gr=_.isArray,lg=_.isFunction,Zh=_.createDiv,Se=_.createCanvas,Xk=_.createDisabledDiv,kd=_.unionRect,Ig=function(O){return r.TouchEvent&&O instanceof r.TouchEvent?_.getTargetElement(O):_.getTarget(O)},Mg=_.def,Bi=_.getClass,rj=_.setImage,Xe=_.getImage,wr=_.setCanvas,Ll=_.initContext,_l=_.translateAndScale,uc=_.appendChild,$l=_.drawRoundRect,Hl=_.drawStretchImage,_f=_.drawImage,Xh=_.drawText,Rl=_.removeHTML,be=_.containsPoint,Qo=_.getWindowInfo,Tn=_.isEnter,jm=_.isEsc,Nd=_.isSpace,rh=_.isLeft,As=_.isUp,Ng=_.isRight,Fp=_.isDown,$b=_.isDelete,cc=_.isCtrlDown,dd=_.isShiftDown,Qk=r.parseInt||global.parseInt,kc=r[q+"config"],rl=[],tr=[],Mr=[],sl=[],um=[],ii,tn=kc&&kc.IsGetter||{},Nn=["aqua","black","blue","fuchsia","gray","green","lime","orange","maroon","navy","olive","purple","red","silver","teal","white","yellow"],_p=function(y){return y instanceof MouseEvent||0===y.type.indexOf("mouse")},Ch=function(a,n,A){a.translate(n,A)},ch=function(U,c){c&&U.rotate(c)},Kp=function(j){if(j)for(;j.firstChild;)j.removeChild(j.firstChild)},Pq=function(c,w){if(c===w)return!0;if(c instanceof Date||w instanceof Date)return c===w;if(c&&w&&"object"==typeof c&&"object"==typeof w){var K=!0;for(var U in c)if(c[U]!==w[U]){K=!1;break}if(K)for(var U in w)if(c[U]!==w[U]){K=!1;break}return K}if(c instanceof J.List&&w instanceof J.List&&(c=c._as,w=w._as),Gr(c)&&Gr(w)){for(var K=!0,I=0,H=c.length;H>I;I++)if(c[I]!==w[I]){K=!1;break}if(K)for(var I=0,H=w.length;H>I;I++)if(c[I]!==w[I]){K=!1;break}return K}return!1},Xh=function(B,d,o,T,W,s,u,U,z,H){if(d!=P){var M=Kd(o,d),p={};p.y=H&&H!==id?H===el?s+M.height/2:s+U-M.height/2:s+U/2,p.x=z&&z!==sr?z===Vb?W+u-M.width/2:W+u/2:W+M.width/2,gq(B,d,p,o,T)}},gq=function(C,F,H,E,s){C.font=E,C.fillStyle=s,C.textAlign=$r,C.textBaseline=id;var n,e;H?H.width===x?(n=H.x,e=H.y):(n=H.x+H.width/2,e=H.y+H.height/2):(n=0,e=0),C.fillText(F,X(n),X(e))},Kd=function(){var k={},$=E?Se().getContext("2d"):P;return function(e,f){$.font=e?e:O.font;var U=k[$.font];return U||(U=2*$.measureText("e").width+4,k[$.font]=U),{width:$.measureText(f).width,height:U}}}(),Qn=_.getBreakableTextSize=function(z,i){for(var s,N=i.split("\n"),d=0,j=N.length,L=0;j>L;L++){var S=Kd(z,N[L]);S.width>d&&(d=S.width),s||(s=S.height)}return{width:d,height:s*j}},Tc=function(l,n){var d,H,C;try{d=l.toString().split(".")[1].length}catch(h){d=0}try{H=n.toString().split(".")[1].length}catch(h){H=0}return C=Math.pow(10,Math.max(d,H)),(l*C+n*C)/C},zr=function(U,$){var x,n,J,L;try{x=U.toString().split(".")[1].length}catch(l){x=0}try{n=$.toString().split(".")[1].length}catch(l){n=0}return J=Math.pow(10,Math.max(x,n)),L=(x=n)?x:n,((U*J-$*J)/J).toFixed(L)},rq=function(b,i){for(var F=Ig(b);F;){if(F.htComp&&(i?i(F.htComp):!0))return F.htComp;F=F.parentNode}},Ug=function(p){return!p||"dragEnter"!==p.kind&&"dragMove"!==p.kind&&"dragExit"!==p.kind&&"dragCompleted"!==p.kind&&"dragCanceled"!==p.kind?void 0:!0},xf=function(q,J,R){J===x&&(J=1),R===x&&(R=1),(1!==J||1!==R)&&q.scale(J,R)},ts=function($,G,T){return{width:$,height:G,comps:Gr(T)?T:[T]}},Vk=_.checkTouch=function(G){if(!_p(G)){var e=G.touches[0];if(e)return e;if(e=G.changedTouches,e&&e[0])return e[0]}return G},$j=function(F){return"set"+F.charAt(0).toUpperCase()+F.slice(1)},ij=function(u,s){return s||(s=/ble$/.test(u)||/ed$/.test(u)||tn[u]?"is":"get"),s+u.charAt(0).toUpperCase()+u.slice(1)},Qr=function(i,_){var q=[i].concat(_);return i.bind.apply(i,q)},pn=[function(_){return _&&Gl(_)&&(0===_.indexOf("#")||0===_.indexOf("rgb")||0===_.indexOf("rgba")||Nn.indexOf(_)>=0)?new N.drawable.ColorDrawable(_):void 0},function(F){return F&&Gl(F)&&F.indexOf(".9.")>=0?new N.drawable.NinePatchImageDrawable(F):void 0},function(H){if(H&&Gr(H)){var l=H[0],w=H.slice(1),C=new(Qr(_.getClass(l),w));return C}}],fd=_.toDrawable=function(E){if(E){if(E instanceof N.drawable.Drawable)return E;for(var q=0,m=pn.length;m>q;q++){var k=pn[q](E);if(k)return k}return new N.drawable.ImageDrawable(E)}},ui=function(k,L,V,$){var y=$[L];return y!==x||J.$341u||$.getStyleValue&&$.isStyleProperty(k)&&(y=$.getStyleValue(k),y===x&&(y=$[V])),y},Xf=function(H,T,e,t){if(J.$341u)return ui(H,T,e,t);var C=t,I="___styleConvert"+H,z="___convert"+H,b=C[T],g=C.$353u;if(g||(g=C.$353u={}),b===x){var k=H.substr(0,H.length-8),N=C["_"+k];if(b=C[T]=_.toDrawable(N),N===x&&b===x){var v=C instanceof Aq;v&&C.isStyleProperty(H)&&(b=C.getStyleValue(H)),b===x?(b=C[e],b===x?(N=x,b=g[I],b===x&&v&&C.isStyleProperty(k)&&(N=C.getStyleValue(k),b=_.toDrawable(N)),b?(g[I]=b,C[z]=x):g[I]=x,N===x&&b===x&&(b=C[z],b===x&&(b=_.toDrawable(C["__"+k])),C[z]=b?b:x)):g[I]=C[z]=x):g[I]=C[z]=x}else g[I]=C[z]=x}else g[I]=C[z]=x;return b},_j=function(H,F){return-1!==H.indexOf("Drawable",H.length-8)?Xf(H,"_"+H,"__"+H,F):ui(H,"_"+H,"__"+H,F)},Em=function(F,B){for(;F;){if(F===B)return!0;var z=Bi(F);z?(z=z.superClass,F=z&&z.getClassName?z.getClassName():P):F=P}},oq=function(Q,A){var W="_"+A;Q[ij(A)]=function(){return this[W]},Q[$j(A)]=function(c){var E=this[W];this[W]=c,this.fp(A,E,c)}},cr=function(e,H){var j,h;0===H.indexOf("drawable:")&&(j=!0),0===H.indexOf("get:")?h="get":0===H.indexOf("is:")&&(h="is"),H=H.substr(H.indexOf(":")+1);var L=e.hasOwnProperty("_styleProps")&&e._styleProps;if(!L){var s=e.getSuperClass().prototype._styleProps;L=s?Je(s):{},e._styleProps=L}L[H]=!0;var D="_"+H,g="__"+H;e[ij(H,h)]="get"===h&&-1!==H.indexOf("Drawable",H.length-8)?function(){return Xf(H,D,g,this)}:function(){return ui(H,D,g,this)},e[$j(H)]=j?function(f){var Y=ui(H,D,g,this);this[D]=f,this[D+"Drawable"]=x,this.fp(H,Y,f)}:function(m){var o=ui(H,D,g,this);this[D]=m,this.fp(H,o,m)},j&&cr(e,"get:"+H+"Drawable")},Xj=function(S,g){for(var W=S[0],N=S[1],y=!1,C=0,B=g.length-1;C<g.length;B=C++){var A=g[C][0],s=g[C][1],b=g[B][0],d=g[B][1],E=s>N!=d>N&&(b-A)*(N-s)/(d-s)+A>W;E&&(y=!y)}return y},vn=function(y,r,Q,M,A){arguments.length<=3&&(Q=r.y,M=r.width,A=r.height,r=r.x);var C=y&&y.getView?y.getView():y,g=C.style;r=X(r),Q=X(Q),M=X(M),A=X(A),r!=P&&(g.left=r+wc),Q!=P&&(g.top=Q+wc),M!=P&&(0>M&&(M=0),y.tagName&&(g.width=M+wc)),A!=P&&(0>A&&(A=0),y.tagName&&(g.height=A+wc))};N.border={},N.drawable={},N.editor={};var sg=kc&&kc.uiTheme||{},An=_.moveThreshold==P?2:_.moveThreshold;O.baseColor=sg.baseColor===x?"#3399ff":sg.baseColor,O.hoverColor=sg.hoverColor===x?_.darker(O.baseColor,11):sg.hoverColor,O.activeColor=sg.activeColor?sg.activeColor:_.darker(sg.hoverColor,15),O.font=sg.font===x?"12px Arial":sg.font,O.textColor=sg.textColor===x?"#737373":sg.textColor,O.borderColor=sg.borderColor===x?"#E6E6E6":sg.borderColor,O.iconColor=sg.iconColor===x?"#8A8A8A":sg.iconColor,O.borderRadius=sg.borderRadius||0,O.normalBackground=sg.normalBackground===x?"#979797":sg.normalBackground,O.layoutToggleBackground=sg.layoutToggleBackground===x?"#f7f7f7":sg.layoutToggleBackground,O.barBackground=sg.barBackground===x?"#EBEBEB":sg.barBackground,O.headerBackground=sg.headerBackground===x?"#F7F7F7":sg.headerBackground,O.lineColor=sg.lineColor===x?"#EBEBEB":sg.lineColor,O.insertColor=sg.insertColor===x?"#12bc00":sg.insertColor,O.hoverBackground=sg.hoverBackground===x?"#F7F7F7":sg.hoverBackground,O.activeBackground=sg.activeBackground===x?"#EBEBEB":sg.activeBackground,O.rowSelectBackground=sg.rowSelectBackground===x?"#E0E0E0":sg.rowSelectBackground,O.dimColor=sg.dimColor===x?"#EBEBEB":sg.dimColor,O.textDimColor=sg.textDimColor===x?"#BEBEBE":sg.textDimColor,O.viewGroupBackground=sg.viewGroupBackground,O.popupBackground=sg.popupBackground===x?"#fff":sg.popupBackground,O.popupBoxShadow=sg.popupBoxShadow===x?"0 8px 22px rgba(0,0,0,0.3)":sg.popupBoxShadow,O.inputBackground=sg.inputBackground===x?"#fff":sg.inputBackground,O.placeholderTextColor=sg.placeholderTextColor===x?"#BEBEBE":sg.placeholderTextColor,O.okFirst=sg.okFirst===x?!1:sg.okFirst,Cq({ui_ac:function(o,D){o.$108u==P&&(oq(o,xq),o._styleProps||(o._styleProps=[]),o.isStyleProperty=function(B){return this._styleProps[B]},o.getStyleProperties=function(){return this._styleProps},o.addStyleProperty=function(S){var V=Je(this._styleProps);this._styleProps=V,V[S]=!0},o.removeStyleProperty=function(o){var X=Je(this._styleProps);this._styleProps=X,delete X[o]},o.$108u=function(v,m,$,Y){var c=v.indexOf(":nth-child(");if(c>0){var T=v.substring(c+11,v.length-1);if(v=v.substring(0,c),!this._matchIndex(Y,T))return!1}var n=!1;if("*"===v)n=!0;else if(0===v.indexOf("&")){if(m&&m.length>0)for(var D=v.split("&").slice(1),B=0;B<m.length;B++){var d=D.indexOf(m[B]);if(d>-1&&(D.splice(d,1),0===D.length)){n=!0;break}}}else if(v===$)n=!0;else if(-1!==v.indexOf("*",v.length-1))for(v=v.substr(0,v.length-1);$;){if($===v){n=!0;break}var A=Bi($);A?(A=A.superClass,$=A&&A.getClassName?A.getClassName():P):$=P}else if(v.indexOf("&")>0&&m&&m.length>0){var F=v.split("&"),M=F[0],D=F.slice(1);if(M===$)for(var B=0;B<m.length;B++){var d=D.indexOf(m[B]);if(d>-1&&(D.splice(d,1),0===D.length)){n=!0;break}}}return n},o._matchIndex=function(B,G){var V=B._parent;if(!V)return!1;var C=V._children,o=C.indexOf(B);return"odd"===G?0!==(o+1)%2?!0:!1:"even"===G?0===(o+1)%2?!0:!1:"last"===G?o===C.size()-1?!0:!1:o===G-1?!0:!1},o.$109u=function(u){var H=this,k=u.split(/\s+/),o=!1;k.reverse();for(var S=H,q=0,R=!0;S;){var f=k[q];if(f.indexOf(">")>0){for(var Z=S,Y=S,K=f.split(">"),V=!0,B=K.length-1;B>=0;B--){if(!Z){V=!1;break}var U=Z.getStyle(),j=P,b=Z.getClassName(),L=K[B];if(U&&(j=U.split(/\s+/)),!H.$108u(L,j,b,Z)){V=!1;break}B>0&&(Z=Z.getStyleParent())}V?(q++,S=Z):S=Y}else{var d=S.getClassName(),m=S.getStyle(),W=P;m&&(W=m.split(/\s+/)),H.$108u(f,W,d,S)&&q++}if(R&&0===q){o=!1;break}if(q===k.length){o=!0;break}R=!1,S=S.getStyleParent()}return o},o.getStyleValue=function(r){var c=this,v=c.getMatchedStyles();return v[r]},o.getStyleParent=function(){return this._parent},o.getMatchedStyles=function(){var a=this,Q=a.$199u;if(!Q){var P=_.uiStyles,M=[],C=_.loadedUIStyles;if(C){P=P.slice(0);for(var y in C){var m=C[y].style;P.push(m)}}for(var f=0;f<P.length;f++){var o=P[f];for(var w in o)if(w.indexOf(",")>0)for(var v=w.split(","),O=0;O<v.length;O++){var e=v[O].trim();if(a.$109u(e)){var c=js(e);j.defineProperty(o[w],"_priority",{value:c,enumerable:!1,configurable:!0}),-1===M.indexOf(o[w])&&M.push(o[w])}}else a.$109u(w)&&M.push(o[w])}M.sort(function(N,p){return N._priority>p._priority?1:N._priority===p._priority?0:-1}),Q=a.$199u={};for(var f=0;f<M.length;f++){var m=M[f];for(var E in m){var x=m[E];if(lg(x)){var i=m["_@"+E];i||(i=m["_@"+E]=x()),Q[E]=i}else 0!=E.indexOf("_@")&&(Q[E]=x)}}}return Q});for(var x=D.ui_ac,W=0;W<x.length;W++)cr(o,x[W])}}),Cq({ui_attr:function(c){c.a=function(O,i){var L=this;if(2===arguments.length)L.setAttr(O,i);else{if(!_.isObject(O))return L.getAttr(O);for(var l in O)L.setAttr(l,O[l])}return L},c.getAttr=function(c){return this._attrObject&&c in this._attrObject?this._attrObject[c]:x},c.setAttr=function(X,T){var u=this;u._attrObject||(u._attrObject={});var n=u._attrObject[X];T===x?delete u._attrObject[X]:u._attrObject[X]=T,u.firePropertyChange("a:"+X,n,T)},c.getSerializableAttrs=function(){var O,l={};for(O in this._attrObject)l[O]=1;return l}}}),Cq({ui_txy:function(b){cr(b,"autoScrollSize"),cr(b,"scrollBarColor"),cr(b,"scrollBarSize"),cr(b,"scrollBarTimeout"),cr(b,"scrollBarMinLength"),cr(b,"scrollBarActiveSize"),cr(b,"scrollBarMode"),b.$118u=l,b.$188u=0,b.$189u=0,b.$191u=0,b.$192u=0,b.showScrollBar=function(){this.showVScrollBar(),this.showHScrollBar()},b.$127u=function(){var a=this,m=a.getScrollBarMode();"off"===m||"hidden"===m?a.$365&&(Rl(a.$365),delete a.$365,delete a.$260u,delete a.$259u):a.$365||(a.$365=Zh(!1,a.$239u),a.$260u=Zh(!1,a.$365),a.$259u=Zh(!1,a.$365),a.$365.setAttribute(q,"ht-scrollBar"),a.$365.style.setProperty("-webkit-transform","translateZ(0)")),this.$128u(),this.$129u()},b.tx=function(w){return w===x?this.getTranslateX():(this.setTranslateX(w),void 0)},b.ty=function(z){return z===x?this.getTranslateY():(this.setTranslateY(z),void 0)},b.autoScroll=function(u,V){var T=this,r=T.getAutoScrollSize(),z=r,w=r/4,f=T.$118u,s=T.lp(u),P={x:T.getTranslateX(),y:T.getTranslateY()};return r>0&&(s.x-f.x<z?T.translate(w,0):f.x+f.width-s.x<z&&T.translate(-w,0),s.y-f.y<z?T.translate(0,w):f.y+f.height-s.y<z&&T.translate(0,-w)),P.x=T.getTranslateX()-P.x,P.y=T.getTranslateY()-P.y,V&&(V.x+=P.x,V.y+=P.y),P},b.isCloseToHScrollBar=function(h){var L=this,v=L.$118u;return L.isHScrollable()&&v.y+v.height-L.lp(h).y+L.getPaddingBottom()<L.getScrollBarActiveSize()},b.isCloseToVScrollBar=function(X){var x=this,o=x.$118u;return x.isVScrollable()&&o.x+o.width-x.lp(X).x+x.getPaddingRight()<x.getScrollBarActiveSize()},b.showVScrollBar=function(){var u=this;u.isVScrollable()&&"on"!==u.getScrollBarMode()&&(u.$157u||(setTimeout(function(){u.$246u()},u.getScrollBarTimeout()),u.iv()),u.$157u=new Date)},b.$246u=function(){var Z=this;Z.$157u&&(!Z._scrolling&&(new Date).getTime()-Z.$157u.getTime()>=Z.getScrollBarTimeout()?(delete Z.$157u,Z.iv()):setTimeout(function(){Z.$246u()},Z.getScrollBarTimeout()))},b.$128u=function(){var G=this,n=G.$260u,F=G.getBorder(),T=F&&F.isCSSBorder(),C=T?0:G.getBorderLeft(),N=T?0:G.getBorderTop();if(G.$365){if("auto"===G.getScrollBarMode()&&!G.$157u)return n.style.visibility="hidden",void 0;var W=1,i=G.getPaddingLeft()+C,Z=G.getPaddingTop()+N,j=G.getScrollBarSize(),P=G.getScrollBarMinLength(),E=G.getViewRect(),V=G.getScrollRect(),M=E.height*W,Y=V.height*W,x=i+E.width*W+G.getPaddingRight()-j-2,c=Z+M*((E.y-V.y)*W/Y),R=M*(M/Y),o=n.style;Y>M?(P>R&&(c=c+R/2-P/2,Z>c&&(c=Z),c+P>M+Z&&(c=M+Z-P),R=P),vn(n,x,c,j,R),o.visibility=pd,o.background=G.getScrollBarColor(),o.borderRadius=j/2+wc):o.visibility="hidden"}},b.showHScrollBar=function(){var E=this;E.isHScrollable()&&"on"!==E.getScrollBarMode()&&(E.$155u||(setTimeout(function(){E.$247u()},E.getScrollBarTimeout()),E.iv()),E.$155u=new Date)},b.$247u=function(){var E=this;E.$155u&&(!E._scrolling&&(new Date).getTime()-E.$155u.getTime()>=E.getScrollBarTimeout()?(delete E.$155u,E.iv()):setTimeout(function(){E.$247u()},E.getScrollBarTimeout()))},b.$129u=function(){var o=this,J=o.$259u,v=o.getBorder(),F=v&&v.isCSSBorder(),I=F?0:o.getBorderLeft(),X=F?0:o.getBorderTop();if(o.$365){if("auto"===o.getScrollBarMode()&&!o.$155u)return J.style.visibility="hidden",void 0;var O=o.getScrollBarIndent?o.getScrollBarIndent()||0:0,K=o.getRightScrollBarIndent?o.getRightScrollBarIndent()||0:0,D=o.getPaddingLeft()+I+O,Y=o.getPaddingTop()+X,p=o.getScrollBarSize(),Z=o.getScrollBarMinLength(),h=o.getViewRect(),A=o.getScrollRect(),B=h.width-O-K,G=A.width-O-K,f=Y+h.height+o.getPaddingBottom()-p-2,z=D+B*((h.x-A.x)/G),g=B*(B/G),H=J.style;G>B?(Z>g&&(z=z+g/2-Z/2,D>z&&(z=D),z+Z>B+D&&(z=B+D-Z),g=Z),vn(J,z,f,g,p),H.visibility=pd,H.background=o.getScrollBarColor(),H.borderRadius=p/2+wc):H.visibility="hidden"}},b.setTranslate=function(w,Q,F){var v=this;if(F=No(F)){v.$156u&&v.$156u.stop(!0);var d=v.getTranslateX(),C=v.getTranslateY();F.action=function(K){v.setTranslate(d+(w-d)*K,C+(Q-C)*K)},F.innerFunc=function(){delete v.$130u,delete v.$156u},v.$130u=!0,v.$156u=startAnim(F)}else v.setTranslateX(w),v.setTranslateY(Q)},b.adjustTranslateX=function(q){var J=this.getContentWidth()-this.$189u;return J>q&&(q=J),q>0?0:X(q)},b.adjustTranslateY=function(Y){var o=this.getContentHeight()-this.$188u;return o>Y&&(Y=o),Y>0?0:X(Y)},b.translate=function(o,n,X){this.setTranslate(this.getTranslateX()+o,this.getTranslateY()+n,X)},b.getTranslateX=function(){return this.$191u},b.setTranslateX=function(b){var w=this,c=w.$191u;b=w.adjustTranslateX(b),w.$191u=b,w.fp("translateX",c,b)},b.getTranslateY=function(){return this.$192u},b.setTranslateY=function(A){var o=this,U=o.$192u;A=o.adjustTranslateY(A),o.$192u=A,o.fp("translateY",U,A)},b.getViewRect=function(){return this.$118u},b.getScrollRect=function(){var g,R=this,x=R.$118u;return g=R.getContentRect?kd(R.getContentRect(),x):{x:0,y:0,width:A(x.width,R.$189u),height:A(x.height,R.$188u)}},b.isVScrollable=function(){return"off"!==this.getScrollBarMode()&&this.$118u.height<this.getScrollRect().height},b.isHScrollable=function(){return"off"!==this.getScrollBarMode()&&this.$118u.width<this.getScrollRect().width}}}),Cq({ui_monitor:function(R){R.onOnce=function(J,l,G,C){this.on(J,l,G,C,!0)},R.on=function(F,g,M,Y,C){var N,I=this;if(M=M||I,!(M&&M!==I||Y||C)){var y=I._serializableListeners;y||(y=I._serializableListeners={}),y[F]=g}var v=I.$352u;v||(v=I.$352u=[]),0===F.indexOf("p:")?(N=function(K){K.property===F.substr(2)&&(g.call(this,K),C&&I.off(F,g,M))},I.addPropertyChangeListener(N,M,Y)):0===F.indexOf("a:")?(N=function(e){e.property===F&&(g.call(this,e),C&&I.off(F,g,M))},I.addPropertyChangeListener(N,M,Y)):0===F.indexOf("d:")?(N=function(x){g.call(M,x),C&&I.off(F,g,M,Y)},I.getView().addEventListener(F.substr(2),N,Y)):(N=function(U){U.kind===F&&(g.call(this,U),C&&I.off(F,g,M))},I.addViewListener(N,M,Y)),v.push({name:F,listener:g,proxy:N,scope:M,ahead:Y})},R.off=function(p,y,m,x){var L=this,v=L.$352u;if(v&&0!==v.length){if(m=m||L,!(m&&m!==L||x)){var f=L._serializableListeners;f&&(f[p]=P)}if(0===p.indexOf("p:"))for(var c=0;c<v.length;c++){var r=v[c];if(r.name===p&&r.listener===y&&r.scope==m){L.removePropertyChangeListener(r.proxy,m),v.splice(c,1);break}}else if(0===p.indexOf("a:"))for(var c=0;c<v.length;c++){var r=v[c];if(r.name===p&&r.listener===y&&r.scope==m){L.removePropertyChangeListener(r.proxy,m),v.splice(c,1);break}}else if(0===p.indexOf("d:"))for(var c=0;c<v.length;c++){var r=v[c];if(r.name===p&&r.listener===y&&r.scope==m&&r.ahead===x){L.getView().removeEventListener(p.substr(2),r.proxy,x),v.splice(c,1);break}}else for(var c=0;c<v.length;c++){var r=v[c];if(r.name===p&&r.listener===y&&r.scope==m){L.removeViewListener(r.proxy,m),v.splice(c,1);break}}}}}});var Fc=function(){for(var S=10,v=0,s=tr.length;s>v;v++){var y=tr[v];y.setY(S),S+=y.getHeight()+10}},Iq=function(){for(var I=10,c=0,C=rl.length;C>c;c++){var z=rl[c];z.setY(I),I+=z.getHeight()+10}},tm=function(){for(var Y=10,F=0,e=um.length;e>F;F++){var h=um[F];h.setY(Y),Y+=h.getHeight()+10}},dh=function(){for(var v=10,u=_.getWindowInfo(),R=u.top+u.height,l=0,e=sl.length;e>l;l++){var U=sl[l];U.setY(R-v-U.getPreferredSize().height),v+=U.getHeight()+10}};pq(_,{getUIVersion:function(){return"4.4.0.7"},getViewAt:rq,isDragDropEvent:Ug,isSubClassOf:Em,createUIEditor:function(V,E){var v="",b=[],D=!1;if(lg(V))v=V;else for(var U=0;U<V.length;U++){var h=V[U];"&"===h?(D=!0,b.push("")):D?b[b.length-1]+=h:v+=h}var x=Bi(v);if(x){var P=new x;if(E)for(var W in E)P.setPropertyValue(W,E[W]);return P.__style=b.join(" "),P}},warnMessage:function(s,N,a,Y,V){_.showMessage(s,N,"warn",a,Y,V)},successMessage:function(f,z,E,u,P){_.showMessage(f,z,"success",E,u,P)},errorMessage:function(J,j,L,m,p){_.showMessage(J,j,"error",L,m,p)},infoMessage:function(u,C,j,g,A){_.showMessage(u,C,"info",j,g,A)},showMessage:function(Z,C,K,W,t,Q){var G,T=new N.Message;if(1===arguments.length&&"object"==typeof Z&&(G=_.clone(Z),C=Z.title,K=Z.icon,W=Z.region,t=Z.fixedWidth,Q=Z.duration,Z=Z.content,delete G.title,delete G.icon,delete G.region,delete G.fixedWidth,delete G.duration,delete G.content),T.setContent(Z),T.setTitle(C),t!==x&&T.setFixedWidth(t),Q=Q===x?4e3:Q,W=W==P?"topRight":W,"success"===K?T.setIcon("ui_success"):"warn"===K?T.setIcon("ui_warn"):"error"===K?T.setIcon("ui_error"):"info"===K?T.setIcon("ui_info"):T.setIcon(K),G)for(var m in G)T[$j(m)](G[m]);var B=T.getPreferredSize(),R=Qo();if(W===el){for(var o=10,b=0,H=um.length;H>b;b++){var Y=um[b];o+=Y.getHeight()+10}T.addToDOM(r,{x:R.left+(R.width-B.width)/2,y:R.top+o,width:B.width,height:B.height}),T.getView().style.opacity="0",um.push(T),_.startAnim({duration:200,action:function(V){T.getView().style.opacity=X(100*V)/100+""}});var f=function(){T.$366||(T.$366=!0,_.startAnim({duration:200,finishFunc:function(){T.removeFromDOM(),um.splice(um.indexOf(T),1),tm()},action:function(l){T.getView().style.opacity=X(100*(1-l))/100+""}}))};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}else if("topLeft"===W){for(var $=10,b=0,H=rl.length;H>b;b++){var Y=rl[b];$+=Y.getHeight()+10}T.addToDOM(r,{x:R.left-B.width,y:R.top+$,width:B.width,height:B.height}),rl.push(T),_.startAnim({duration:200,action:function(n){T.setX(R.left-B.width+(B.width+10)*n)}});var f=function(){if(!T.$366){T.$366=!0;var g=R.left+10;_.startAnim({duration:200,finishFunc:function(){T.removeFromDOM(),rl.splice(rl.indexOf(T),1),Iq()},action:function(f){T.setX(g-(B.width+10)*f)}})}};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}else if("topRight"===W){for(var $=10,b=0,H=tr.length;H>b;b++){var Y=tr[b];$+=Y.getHeight()+10}var q=E.body.style.overflow;E.body.style.overflow="hidden",T.addToDOM(r,{x:R.left+R.width,y:R.top+$,width:B.width,height:B.height}),tr.push(T),_.startAnim({duration:200,finishFunc:function(){E.body.style.overflow=q},action:function(o){T.setX(R.left+R.width-(B.width+10)*o)}});var f=function(){if(!T.$366){T.$366=!0;var K=R.left+R.width-(B.width+10),W=E.body.style.overflow;E.body.style.overflow="hidden",_.startAnim({duration:200,finishFunc:function(){E.body.style.overflow=W,T.removeFromDOM(),tr.splice(tr.indexOf(T),1),Fc()},action:function(L){T.setX(K+(B.width+10)*L)}})}};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}else if("bottomLeft"===W){for(var U=10,L=R.top+R.height,b=0,H=Mr.length;H>b;b++){var Y=Mr[b];U+=Y.getHeight()+10}T.addToDOM(r,{x:R.left-B.width,y:L-U-B.height,width:B.width,height:B.height}),Mr.push(T),_.startAnim({duration:200,action:function(e){T.setX(R.left-B.width+(B.width+10)*e)}});var f=function(){if(!T.$366){T.$366=!0;var p=R.left+10;_.startAnim({duration:200,finishFunc:function(){T.removeFromDOM(),Mr.splice(Mr.indexOf(T),1),resetBottomLeftMessagesPosition()},action:function(h){T.setX(p-(B.width+10)*h)}})}};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}else if("bottomRight"===W){for(var U=10,L=R.top+R.height,b=0,H=sl.length;H>b;b++){var Y=sl[b];U+=Y.getHeight()+10}var q=E.body.style.overflow;E.body.style.overflow="hidden",T.addToDOM(r,{x:R.left+R.width,y:L-U-B.height,width:B.width,height:B.height}),sl.push(T),_.startAnim({duration:200,finishFunc:function(){E.body.style.overflow=q},action:function(t){T.setX(R.left+R.width-(B.width+10)*t)}});var f=function(){if(!T.$366){T.$366=!0;var V=R.left+R.width-(B.width+10),y=E.body.style.overflow;E.body.style.overflow="hidden",_.startAnim({duration:200,finishFunc:function(){E.body.style.overflow=y,T.removeFromDOM(),sl.splice(sl.indexOf(T),1),dh()},action:function(g){T.setX(V+(B.width+10)*g)}})}};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}else if(W===$r){ii&&(ii.removeFromDOM(),ii=P),T.addToDOM(r,{x:R.left+(R.width-B.width)/2,y:R.top+(R.height-B.height)/2,width:B.width,height:B.height}),T.getView().style.opacity="0",ii=T,_.startAnim({duration:200,action:function(U){T.getView().style.opacity=X(100*U)/100+""}});var f=function(){!T.$366&&T.isInDOM()&&(T.$366=!0,_.startAnim({duration:200,finishFunc:function(){T===ii&&(T.removeFromDOM(),ii=P)},action:function(H){T.getView().style.opacity=X(100*(1-H))/100+""}}))};Q&&setTimeout(function(){f()},Q),T.on("clickCloseIcon",function(){f()})}},alert:function(X,S,s,h,M,n){var t=new N.Alert;return 1!==arguments.length||Gl(X)?(t.setContentText(X),t.setTitle(S),t.setButtons(s),t.setContentIcon(h),t.setContentInput(M),n!=P&&t.setFixedWidth(n)):t.set(X),t.show(),t}}),function(w,H){function f(W,E,r){return W.addEventListener?(W.addEventListener(E,r,!1),void 0):void 0}function l(r,h,v){return r.removeEventListener?(r.removeEventListener(h,v,!1),void 0):void 0}function g(j){if("keypress"==j.type){var C=String.fromCharCode(j.which);return j.shiftKey||(C=C.toLowerCase()),C}return F[j.which]?F[j.which]:M[j.which]?M[j.which]:String.fromCharCode(j.which).toLowerCase()}function v(b,D){return b.sort().join(",")===D.sort().join(",")}function i(v){var m=[];return v.shiftKey&&m.push("shift"),v.altKey&&m.push("alt"),v.ctrlKey&&m.push("ctrl"),v.metaKey&&m.push("meta"),m}function e(l){return l.preventDefault?(l.preventDefault(),void 0):(l.returnValue=!1,void 0)}function I(C){return C.stopPropagation?(C.stopPropagation(),void 0):(C.cancelBubble=!0,void 0)}function c(S){return"shift"==S||"ctrl"==S||"alt"==S||"meta"==S}function A(){if(!p){p={};for(var L in F)L>95&&112>L||F.hasOwnProperty(L)&&(p[F[L]]=L)}return p}function E(f,Z,t){return t||(t=A()[f]?"keydown":"keypress"),"keypress"==t&&Z.length&&(t="keydown"),t}function u(k){return"+"===k?["+"]:(k=k.replace(/\+{2}/g,"+plus"),k.split("+"))}function k(h,H){var M,w,X,Q=[];for(M=u(h),X=0;X<M.length;++X)w=M[X],T[w]&&(w=T[w]),H&&"keypress"!=H&&o[w]&&(w=o[w],Q.push("shift")),c(w)&&Q.push(w);return H=E(w,Q,H),{key:w,modifiers:Q,action:H}}function X(g,l){return g&&g!==H?g===l?!0:X(g.parentNode,l):!1}function m(T){function G(u){u=u||{};var p,z=!1;for(p in s)u[p]?z=!0:s[p]=0;z||(Y=!1)}function M(n,o,Q,T,u,M){var H,r,t=[],j=Q.type;if(!B.$361u[n])return[];for("keyup"==j&&c(n)&&(o=[n]),H=0;H<B.$361u[n].length;++H)if(r=B.$361u[n][H],(T||!r.seq||s[r.seq]==r.level)&&j==r.action&&("keypress"==j&&!Q.metaKey&&!Q.ctrlKey||v(o,r.modifiers))){var X=!T&&r.combo==u,x=T&&r.seq==T&&r.level==M;(X||x)&&B.$361u[n].splice(H,1),t.push(r)}return t}function Z(J,x,W,K){B.stopCallback(x,x.target||x.srcElement,W,K)||J(x,W)===!1&&(e(x),I(x))}function V(t){"number"!=typeof t.which&&(t.which=t.keyCode);var j=g(t);if(j)return"keyup"==t.type&&n===j?(n=!1,void 0):(B.handleKey(j,i(t),t),void 0)}function W(){clearTimeout(C),C=setTimeout(G,1e3)}function P(p,w,E,d){function I(K){return function(){Y=K,++s[p],W()}}function u(b){Z(E,b,p),"keyup"!==d&&(n=g(b)),setTimeout(G,10)}s[p]=0;for(var H=0;H<w.length;++H){var f=H+1===w.length,U=f?u:I(d||k(w[H+1]).action);K(w[H],U,d,p,H)}}function K(S,V,j,w,_){B._directMap[S+":"+j]=V,S=S.replace(/\s+/g," ");var u,F=S.split(" ");return F.length>1?(P(S,F,V,j),void 0):(u=k(S,j),B.$361u[u.key]=B.$361u[u.key]||[],M(u.key,u.modifiers,{type:u.action},w,S,_),B.$361u[u.key][w?"unshift":"push"]({callback:V,modifiers:u.modifiers,action:u.action,seq:w,level:_,combo:S}),void 0)}var B=this;if(T=T||H,!(B instanceof m))return new m(T);B.target=T,B.$361u={},B._directMap={};var C,s={},n=!1,h=!1,Y=!1;B._handleKey=function(s,D,t){var V,S=M(s,D,t),W={},T=0,k=!1;for(V=0;V<S.length;++V)S[V].seq&&(T=Math.max(T,S[V].level));for(V=0;V<S.length;++V)if(S[V].seq){if(S[V].level!=T)continue;k=!0,W[S[V].seq]=1,Z(S[V].callback,t,S[V].combo,S[V].seq)}else k||Z(S[V].callback,t,S[V].combo);var U="keypress"==t.type&&h;t.type!=Y||c(s)||U||G(W),h=k&&"keydown"==t.type},B.$367=function(J,u,L){for(var A=0;A<J.length;++A)K(J[A],u,L)},f(T,"keypress",V),f(T,"keydown",V),f(T,"keyup",V),B.dispose=function(){l(T,"keypress",V),l(T,"keydown",V),l(T,"keyup",V)}}if(w.navigator){for(var p,F={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},M={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(w.navigator.platform)?"meta":"ctrl"},h=1;20>h;++h)F[111+h]="f"+h;for(h=0;9>=h;++h)F[h+96]=h;m.prototype.bind=function(a,V,X){var o=this;return a=a instanceof Array?a:[a],o.$367.call(o,a,V,X),o},m.prototype.unbind=function(W,k){var u=this;return u.bind.call(u,W,function(){},k)},m.prototype.trigger=function(Q,j){var f=this;return f._directMap[Q+":"+j]&&f._directMap[Q+":"+j]({},Q),f},m.prototype.reset=function(){var I=this;return I.$361u={},I._directMap={},I},m.prototype.stopCallback=function(n,e,M){var z=this;return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:X(e,z.target)?!1:("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable)&&M&&1===M.length?!0:void 0},m.prototype.handleKey=function(){var B=this;return B._handleKey.apply(B,arguments)},m.init=function(){var w=m(H);for(var x in w)"_"!==x.charAt(0)&&(m[x]=function(B){return function(){return w[B].apply(w,arguments)}}(x))},m.init(),J.Mousetrap=m}}(r,E),function(){function Q(s,x){for(var K=[],o=0,I=s.length;I>o;o++)K.push(s[o].substr(0,x));return K}function T(p){return function(O,X,$){var N=$[p].indexOf(X.charAt(0).toUpperCase()+X.substr(1).toLowerCase());~N&&(O.month=N)}}function l(W,c){for(W=String(W),c=c||2;W.length<c;)W="0"+W;return W}var N=J.Default,H=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Z=/\d\d?/,v=/\d{3}/,c=/\d{4}/,w=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,k=/\[([^]*?)\]/gm,n=function(){},S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U=["January","February","March","April","May","June","July","August","September","October","November","December"],s=Q(U,3),g=Q(S,3),x={dayNamesShort:g,dayNames:S,monthNamesShort:s,monthNames:U,amPm:["am","pm"],DoFn:function(R){return R+["th","st","nd","rd"][R%10>3?0:(10!==R-R%10)*R%10]}},y={D:function(N){return N.getDate()},DD:function(b){return l(b.getDate())},Do:function(j,w){return w.DoFn(j.getDate())},d:function(r){return r.getDay()},dd:function(N){return l(N.getDay())},ddd:function(A,R){return R.dayNamesShort[A.getDay()]},dddd:function($,_){return _.dayNames[$.getDay()]},M:function(U){return U.getMonth()+1},MM:function(f){return l(f.getMonth()+1)},MMM:function(j,E){return E.monthNamesShort[j.getMonth()]},MMMM:function(O,y){return y.monthNames[O.getMonth()]},YY:function(k){return String(k.getFullYear()).substr(2)},YYYY:function(h){return h.getFullYear()},h:function(P){return P.getHours()%12||12},hh:function(b){return l(b.getHours()%12||12)},H:function(V){return V.getHours()},HH:function(L){return l(L.getHours())},m:function(s){return s.getMinutes()},mm:function(G){return l(G.getMinutes())},s:function(c){return c.getSeconds()},ss:function(L){return l(L.getSeconds())},S:function(Y){return Math.round(Y.getMilliseconds()/100)},SS:function(d){return l(Math.round(d.getMilliseconds()/10),2)},SSS:function(B){return l(B.getMilliseconds(),3)},a:function(G,F){return G.getHours()<12?F.amPm[0]:F.amPm[1]
},A:function(b,X){return b.getHours()<12?X.amPm[0].toUpperCase():X.amPm[1].toUpperCase()},ZZ:function(V){var G=V.getTimezoneOffset();return(G>0?"-":"+")+l(100*Math.floor(Math.abs(G)/60)+Math.abs(G)%60,4)}},e={D:[Z,function(P,Y){P.day=Y}],Do:[new RegExp(Z.source+w.source),function(V,M){V.day=Qk(M,10)}],M:[Z,function(s,E){s.month=E-1}],YY:[Z,function(V,$){var n=new Date,I=+(""+n.getFullYear()).substr(0,2);V.year=""+($>68?I-1:I)+$}],h:[Z,function(g,S){g.hour=S}],m:[Z,function(r,F){r.minute=F}],s:[Z,function($,O){$.second=O}],YYYY:[c,function(J,h){J.year=h}],S:[/\d/,function(K,H){K.millisecond=100*H}],SS:[/\d{2}/,function(c,y){c.millisecond=10*y}],SSS:[v,function(Z,y){Z.millisecond=y}],d:[Z,n],ddd:[w,n],MMM:[w,T("monthNamesShort")],MMMM:[w,T("monthNames")],a:[w,function(I,$,S){var G=$.toLowerCase();G===S.amPm[0]?I.isPm=!1:G===S.amPm[1]&&(I.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(p,Y){"Z"===Y&&(Y="+00:00");var z,A=(Y+"").match(/([\+\-]|\d\d)/gi);A&&(z=+(60*A[1])+Qk(A[2],10),p.timezoneOffset="+"===A[0]?z:-z)}]};e.dd=e.d,e.dddd=e.ddd,e.DD=e.D,e.mm=e.m,e.hh=e.H=e.HH=e.h,e.MM=e.M,e.ss=e.s,e.A=e.a;var P={"default":"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};N.formatDate=function(D,h,V){var B=V||x;if("number"==typeof D&&(D=new Date(D)),"[object Date]"!==j.prototype.toString.call(D)||isNaN(D.getTime()))throw new Error("Invalid Date in formatDate");h=P[h]||h||P["default"];var e=[];return h=h.replace(k,function($,b){return e.push(b),"??"}),h=h.replace(H,function(v){return v in y?y[v](D,B):v.slice(1,v.length-1)}),h.replace(/\?\?/g,function(){return e.shift()})},N.parseDate=function(w,k,C){var $=C||x;if("string"!=typeof k)throw new Error("Invalid format in parseDate");if(k=P[k]||k,w.length>1e3)return!1;var F=!0,Y={};if(k.replace(H,function(E){if(e[E]){var N=e[E],s=w.search(N[0]);~s?w.replace(N[0],function(f){return N[1](Y,f,$),w=w.substr(s+f.length),f}):F=!1}return e[E]?"":E.slice(1,E.length-1)}),!F)return!1;var D=new Date;Y.isPm===!0&&null!=Y.hour&&12!==+Y.hour?Y.hour=+Y.hour+12:Y.isPm===!1&&12===+Y.hour&&(Y.hour=0);var f;return null!=Y.timezoneOffset?(Y.minute=+(Y.minute||0)-+Y.timezoneOffset,f=new Date(Date.UTC(Y.year||D.getFullYear(),Y.month||0,Y.day||1,Y.hour||0,Y.minute||0,Y.second||0,Y.millisecond||0))):f=new Date(Y.year||D.getFullYear(),Y.month||0,Y.day||1,Y.hour||0,Y.minute||0,Y.second||0,Y.millisecond||0),f}}(),N.NinePatch=function(D){var I=this;I.setImage(D);var Z,o;o=E.createElement("canvas"),o.width=D.width,o.height=D.height,Z=o.getContext("2d"),Z.imageSmoothingEnabled=!1,Z.drawImage(D,0,0);var V=Z.getImageData(0,0,D.width,1).data,W=V[0]+","+V[1]+","+V[2]+","+V[3];I.setHorizontalPieces(I.$207u(V,W)),V=Z.getImageData(0,0,1,D.height).data,I.setVerticalPieces(I.$207u(V,W)),V=Z.getImageData(D.width-1,0,1,D.height).data,I.setPixelRatio(I.$206u(V,W))},Mg("ht.ui.NinePatch",j,{ms_ac:["horizontalPieces","verticalPieces","image","pixelRatio"],ms_fire:!0,$206u:function(R,g){var m=R[4]+","+R[5]+","+R[6]+","+R[7];if(m==g)return 1;for(var U=1,A=8,c=R.length-4;c>A&&(m=R[A]+","+R[A+1]+","+R[A+2]+","+R[A+3],m!==g);A+=4)U++;return U},$207u:function(z,r){var n,Q,N,U,B,o=new Array;U=z[4]+","+z[5]+","+z[6]+","+z[7],n=U==r?"s":"d",Q=1;for(var v=8,s=z.length-4;s>v;v+=4)U=z[v]+","+z[v+1]+","+z[v+2]+","+z[v+3],B=U==r?"s":"d",n!=B&&(N=v/4-Q,o.push(new Array(n,Q,N)),n=B,Q=v/4);return N=v/4-Q,o.push(new Array(n,Q,N)),o},draw:function(G,p,U,P,c){var E=this,i=G.imageSmoothingEnabled;G.imageSmoothingEnabled=!1,G.beginPath();for(var X,t,h=E.getPixelRatio(),K=E.getHorizontalPieces(),l=E.getVerticalPieces(),Y=0,A=0,Q=0,k=K.length;k>Q;Q++)"s"==K[Q][0]?Y+=K[Q][2]/h:A++;X=(P-Y)/A;var F=0;A=0;for(var Q=0,k=l.length;k>Q;Q++)"s"==l[Q][0]?F+=l[Q][2]/h:A++;t=(c-F)/A;for(var Q=0,T=l.length;T>Q;Q++){for(var v=0,k=K.length;k>v;v++){var D,f;D="d"==K[v][0]?X:K[v][2]/h,f="d"==l[Q][0]?t:l[Q][2]/h,G.drawImage(E.getImage(),K[v][1],l[Q][1],K[v][2],l[Q][2],p,U,D,f),G.translate(D,0)}G.translate(-P,"s"==l[Q][0]?l[Q][2]/h:t)}G.translate(0,-c),G.imageSmoothingEnabled=i}}),N.Interactor=function(m){this.$280u=m},Mg("ht.ui.Interactor",j,{ms_listener:1,getView:function(){return this.$280u.$239u},getComponent:function(){return this.$280u},addToTouchScrollClearQuene:function(L){var c=this;tc&&(L.$362?L.$362.indexOf(c)<0&&L.$362.push(c):L.$362=[c])}}),N.drawable.Drawable=function(){},Mg("ht.ui.drawable.Drawable",j,{ms_fire:!0,draw:function(){},getSerializableProperties:function(){return{}}}),N.drawable.ColorDrawable=function(x,r){N.drawable.ColorDrawable.superClass.constructor.call(this),this.setColor(x),this.setRadius(r)},Mg("ht.ui.drawable.ColorDrawable",N.drawable.Drawable,{ms_ac:[U,"radius"],draw:function(F,g,l,c,w,s,t){var I,Q,u,Z,j=this,J=s.getRootContext(t),O=j.getRadius(),W=j.getColor();Gr(O)?(I=O[0],Q=O[1],u=O[2],Z=O[3]):I=Q=u=Z=O,J.beginPath(),O!=P?(J.fillStyle=W,$l(J,F,g,l,c,I,Q,u,Z),J.fill()):(J.fillStyle=W,J.rect(F,g,l,c),J.fill())},getSerializableProperties:function(){var $=N.drawable.ColorDrawable.superClass.getSerializableProperties.call(this);return pq($,{color:1,radius:1})}}),N.drawable.ImageDrawable=function(u,U,W,L){N.drawable.ImageDrawable.superClass.constructor.call(this),this.setImage(u),U&&this.setStretch(U),W!=P&&this.setColorTint(W),L!=P&&this.setRect(L)},Mg("ht.ui.drawable.ImageDrawable",N.drawable.Drawable,{ms_ac:["image","stretch","colorTint","rect"],_stretch:"centerUniform",draw:function(h,x,g,R,H,L,i){var k=this,t=L.getRootContext(i),P=k.getColorTint(),I=Xe(k.getImage(),P),q=k.getRect();if(I){q||(q={x:h,y:x,width:g,height:R});var X=q.x,v=q.y,O=q.width,G=q.height;O==Ki?O=g-(isNaN(X)?0:X):O===zb&&(O=I?I.width:g),G==Ki?G=R-(isNaN(v)?0:v):G===zb&&(G=I?I.height:R),X===sr?X=0:X===Vb?X=g-O:X===$r&&(X=(g-O)/2),v===el?v=0:v===eh?v=R-G:v===id&&(v=(R-G)/2),t.beginPath(),Hl(t,I,k.getStretch(),X,v,O,G,H,L,P)}},getSerializableProperties:function(){var A=N.drawable.ImageDrawable.superClass.getSerializableProperties.call(this);return pq(A,{image:1,stretch:1,colorTint:1,rect:1})}}),N.drawable.NinePatchImageDrawable=function(H){N.drawable.NinePatchImageDrawable.superClass.constructor.call(this),this.setImage(H)},Mg("ht.ui.drawable.NinePatchImageDrawable",N.drawable.Drawable,{ms_ac:["image","colorTint"],onPropertyChanged:function(){this.ninePatch=P},draw:function($,e,W,b,A,c,z){var G=this,_=G.ninePatch;if(!_){var f=Xe(G.getImage(),G.getColorTint());f&&(_=G.ninePatch=new N.NinePatch(f))}if(_){var w=c.getRootContext(z);w.beginPath(),_.draw(w,$,e,W,b)}},getSerializableProperties:function(){var I=N.drawable.NinePatchImageDrawable.superClass.getSerializableProperties.call(this);return pq(I,{image:1,colorTint:1})}}),N.drawable.TabBackgroundDrawable=function(h,d,r){var C=this;N.drawable.TabBackgroundDrawable.superClass.constructor.call(C),h!=P&&C.setBorderWidth(h),d!=P&&C.setBorderColor(d),r!=P&&C.setBackground(r)},Mg("ht.ui.drawable.TabBackgroundDrawable",N.drawable.Drawable,{ms_ac:["borderWidth","borderColor","background"],draw:function(e,k,E,g,d,J,V){var o=this,I=J.getRootContext(V),m=o.getBorderWidth(),u=m/2,D=o.getBackground(),Q=o.getBorderColor(),C=J.getTabPosition(),f=J.getVisibleChildren(),x=0===f.indexOf(d);f.indexOf(d)===f.size()-1,D!=P&&(I.beginPath(),I.rect(e,k,E,g),I.fillStyle=D,I.fill()),Q!=P&&(I.beginPath(),C===el||C===eh||"top-right"===C?x?(I.rect(e+u,k+u,E-m,g-m),I.strokeStyle=Q,I.lineWidth=m,I.stroke()):(I.rect(e,k,E,m),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e+E-m,k,m,g),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e,k+g-m,E,m),I.fillStyle=Q,I.fill()):C===sr||C===Vb?x?(I.rect(e+u,k+u,E-m,g-m),I.strokeStyle=Q,I.lineWidth=m,I.stroke()):(I.rect(e,k,m,g),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e+E-m,k,m,g),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e,k+g-m,E,m),I.fillStyle=Q,I.fill()):"left-vertical"===C?x?(I.rect(e+u,k+u,E-m,g-m),I.strokeStyle=Q,I.lineWidth=m,I.stroke()):(I.rect(e,k,m,g),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e,k,E,m),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e,k+g-m,E,m),I.fillStyle=Q,I.fill()):"right-vertical"===C&&(x?(I.rect(e+u,k+u,E-m,g-m),I.strokeStyle=Q,I.lineWidth=m,I.stroke()):(I.rect(e,k,E,m),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e+E-m,k,m,g),I.fillStyle=Q,I.fill(),I.beginPath(),I.rect(e,k+g-m,E,m),I.fillStyle=Q,I.fill())))},getSerializableProperties:function(){var f=N.drawable.TabBackgroundDrawable.superClass.getSerializableProperties.call(this);return pq(f,{borderWidth:1,borderColor:1,background:1})}}),N.drawable.TabBackgroundLineDrawable=function(A,o,V){var K=this;N.drawable.TabBackgroundLineDrawable.superClass.constructor.call(K),o!=P&&K.setColor(o),A!=P&&K.setLineWidth(A),V!=P&&K.setPosition(V)},Mg("ht.ui.drawable.TabBackgroundLineDrawable",N.drawable.Drawable,{ms_ac:[U,"lineWidth","position"],draw:function(G,B,K,d,E,Y,J){var L=this,$=Y.getRootContext(J),X=L.getColor(),Q=L.getPosition(),F=L.getLineWidth(),M=Y.getTabPosition(),Q=L.getPosition();X!=P&&($.beginPath(),M===el||"top-right"===M?"outside"===Q?($.rect(G,B,K,F),$.fillStyle=X,$.fill()):($.rect(G,B+d-F,K,F),$.fillStyle=X,$.fill()):M===eh?"outside"===Q?($.rect(G,B+d-F,K,F),$.fillStyle=X,$.fill()):($.rect(G,B,K,F),$.fillStyle=X,$.fill()):M===sr?"outside"===Q?($.rect(G,B,F,d),$.fillStyle=X,$.fill()):($.rect(G+K-F,B,F,d),$.fillStyle=X,$.fill()):M===Vb?"outside"===Q?($.rect(G+K-F,B,F,d),$.fillStyle=X,$.fill()):($.rect(G,B,F,d),$.fillStyle=X,$.fill()):"left-vertical"===M?"outside"===Q?($.rect(G,B,K,F),$.fillStyle=X,$.fill()):($.rect(G,B+d-F,K,F),$.fillStyle=X,$.fill()):"right-vertical"===M&&("outside"===Q?($.rect(G,B,K,F),$.fillStyle=X,$.fill()):($.rect(G,B+d-F,K,F),$.fillStyle=X,$.fill())))},getSerializableProperties:function(){var e=N.drawable.TabBackgroundLineDrawable.superClass.getSerializableProperties.call(this);return pq(e,{color:1,lineWidth:1,position:1})}}),N.drawable.PanelHeaderBackgroundDrawable=function(C,T,h,J){N.drawable.PanelHeaderBackgroundDrawable.superClass.constructor.call(this),C!=P&&this.setBorderSize(C),T!=P&&this.setBorderColor(T),h!=P&&this.setStartColor(h),J!=P&&this.setEndColor(J)},Mg("ht.ui.drawable.PanelHeaderBackgroundDrawable",N.drawable.Drawable,{ms_ac:["borderColor","borderSize","startColor","endColor"],draw:function(w,d,Z,o,s,R,M){var C=this,c=R.getRootContext(M),Q=C.getBorderColor(),S=C.getBorderSize(),L=C.getStartColor(),n=C.getEndColor();if(c.beginPath(),c.rect(w,d,Z,o),n!=P){var k=c.createLinearGradient(w,d,w+Z,d);k.addColorStop(0,L),k.addColorStop(1,n),c.fillStyle=k}else c.fillStyle=L;c.fill(),c.beginPath(),c.rect(w,d+o-S,Z,S),c.fillStyle=Q,c.fill()},getSerializableProperties:function(){var v=N.drawable.PanelHeaderBackgroundDrawable.superClass.getSerializableProperties.call(this);return pq(v,{borderColor:1,borderSize:1,startColor:1,endColor:1})}}),N.drawable.SliderBarDrawable=function(_,l,b){N.drawable.SliderBarDrawable.superClass.constructor.call(this),_!=P&&this.setStartColor(_),l!=P&&this.setEndColor(l),b!=P&&this.setRadius(b)},Mg("ht.ui.drawable.SliderBarDrawable",N.drawable.Drawable,{ms_ac:["startColor","endColor","radius"],_radius:4,draw:function(N,K,w,t,O,a,D){var W=this,r=a.getRootContext(D),F=a.getOrientation(),L=W.getStartColor(),B=W.getEndColor(),U=W.getRadius();if(r.beginPath(),$l(r,N,K,w,t,U),"h"===F||"horizontal"===F){if(B!=P){var j=r.createLinearGradient(N,K,N+w,K);j.addColorStop(0,L),j.addColorStop(1,B),r.fillStyle=j}else r.fillStyle=L;r.fill()}else if("v"===F||"vertical"===F){if(B!=P){var j=r.createLinearGradient(N,K,N,K+t);j.addColorStop(0,B),j.addColorStop(1,L),r.fillStyle=j}else r.fillStyle=L;r.fill()}},getSerializableProperties:function(){var p=N.drawable.SliderBarDrawable.superClass.getSerializableProperties.call(this);return pq(p,{startColor:1,endColor:1,radius:1})}}),N.drawable.DateTimePaneSelectGridDrawable=function(P,r,s){N.drawable.DateTimePaneSelectGridDrawable.superClass.constructor.call(this),this.setBorderColor(P),this.setRadius(s),this.setBackground(r)},Mg("ht.ui.drawable.DateTimePaneSelectGridDrawable",N.drawable.Drawable,{ms_ac:["borderColor","radius","background"],draw:function(c,K,e,$,n,O,G){var B=this,I=O.getRootContext(G),W=B.getRadius(),Z=B.getBorderColor(),y=B.getBackground();I.beginPath(),W!=P&&0!==W?(W===!0?I.arc(c+e/2,K+$/2,h(e/2,$/2),0,2*Math.PI):$l(I,c,K,e,$,W,W,W,W),Z!=P&&(I.strokeStyle=Z,I.stroke()),y!=P&&(I.fillStyle=y,I.fill())):(I.rect(c,K,e,$),y!=P&&(I.fillStyle=y,I.fill()),Z!==P&&(I.beginPath(),_.drawBorder(I,Z,c,K,e,$,1)))},getSerializableProperties:function(){var P=N.drawable.DateTimePaneSelectGridDrawable.superClass.getSerializableProperties.call(this);return pq(P,{borderColor:1,radius:1,background:1})}}),N.drawable.GroupButtonBackgroundDrawable=function(I,a){N.drawable.GroupButtonBackgroundDrawable.superClass.constructor.call(this),null!=I&&this.setColor(I),null!=a&&this.setBackground(a)},Mg("ht.ui.drawable.GroupButtonBackgroundDrawable",N.drawable.Drawable,{ms_ac:[U,"background"],draw:function(i,H,S,D,U,I,q){var V=this,L=I.getRootContext(q),l=V.getBackground(),t=V.getColor(),u=I.getBorderRadius(),G=I._parent;if(G){var B=G.getVisibleChildren(),d=B.indexOf(I),s=B.size(),A=0===d,m=d===s-1;null!=l&&(L.beginPath(),L.rect(i,H,S,D),L.fillStyle=l,L.fill()),null!=t&&(L.beginPath(),G instanceof N.HBoxLayout?A?(L.strokeStyle=t,L.lineWidth=1,u==P?L.rect(i+.5,H+.5,S-1,D-1):Gr(u)?$l(L,i+.5,H+.5,S-1,D-1,u[0],u[1],u[3],u[2]):$l(L,i+.5,H+.5,S-1,D-1,u,0,u,0),L.stroke()):m?(L.strokeStyle=t,L.lineWidth=1,u==P?L.rect(i+.5,H+.5,S-1,D-1):Gr(u)?$l(L,i+.5,H+.5,S-1,D-1,u[0],u[1],u[3],u[2]):$l(L,i+.5,H+.5,S-1,D-1,0,u,0,u),L.stroke()):(L.rect(i,H,S,1),L.fillStyle=t,L.fill(),s-2>d&&(L.beginPath(),L.rect(i+S-1,H,1,D),L.fillStyle=t,L.fill()),L.beginPath(),L.rect(i,H+D-1,S,1),L.fillStyle=t,L.fill()):A?(L.strokeStyle=t,L.lineWidth=1,u==P?L.rect(i+.5,H+.5,S-1,D-1):Gr(u)?$l(L,i+.5,H+.5,S-1,D-1,u[0],u[1],u[3],u[2]):$l(L,i+.5,H+.5,S-1,D-1,u,u,0,0),L.stroke()):m?(L.strokeStyle=t,L.lineWidth=1,u==P?L.rect(i+.5,H+.5,S-1,D-1):Gr(u)?$l(L,i+.5,H+.5,S-1,D-1,u[0],u[1],u[3],u[2]):$l(L,i+.5,H+.5,S-1,D-1,0,0,u,u),L.stroke()):(L.rect(i,H,1,D),L.fillStyle=t,L.fill(),L.beginPath(),L.rect(i+S-1,H,1,D),L.fillStyle=t,L.fill(),s-2>d&&(L.beginPath(),L.rect(i,H+D-1,S,1),L.fillStyle=t,L.fill())))}},getSerializableProperties:function(){var W=N.drawable.GroupButtonBackgroundDrawable.superClass.getSerializableProperties.call(this);return pq(W,{color:1,background:1})}}),N.drawable.BreadcrumbItemBackgroundDrawable=function(K,m,i){N.drawable.BreadcrumbItemBackgroundDrawable.superClass.constructor.call(this),this.setBorderWidth(K),this.setBorderColor(m),this.setBackground(i)},Mg("ht.ui.drawable.BreadcrumbItemBackgroundDrawable",N.drawable.Drawable,{ms_ac:["borderWidth","borderColor","background"],drawPath:function(B,p,M,W,x,H,$){B.beginPath(),0===H?(B.moveTo(p,M),B.lineTo(p,M+x),B.lineTo(p+W-10,M+x),B.lineTo(p+W,M+x/2),B.lineTo(p+W-10,M),B.closePath()):H===$-1?(B.moveTo(p,M),B.lineTo(p+10,M+x/2),B.lineTo(p,M+x),B.lineTo(p+W,M+x),B.lineTo(p+W,M),B.closePath()):(B.moveTo(p,M),B.lineTo(p+10,M+x/2),B.lineTo(p,M+x),B.lineTo(p+W-10,M+x),B.lineTo(p+W,M+x/2),B.lineTo(p+W-10,M),B.closePath())},draw:function(u,V,h,N,C,n,j){var Z=this,f=n.getRootContext(j),c=Z.getBorderColor(),l=n.getItems(),t=l.indexOf(C);Z.drawPath(f,u,V,h,N,t,l.length);var p=Z.getBackground();p!=P&&(f.fillStyle=p,f.fill());var v=Z.getBorderWidth(),Q=v/2;Z.drawPath(f,u+Q,V+Q,h-v,N-v,t,l.length),f.strokeStyle=c,f.stroke()},getSerializableProperties:function(){var t=N.drawable.BreadcrumbItemBackgroundDrawable.superClass.getSerializableProperties.call(this);return pq(t,{borderWidth:1,borderColor:1,background:1})}}),N.drawable.ContextMenuScrollIndicatorDrawable=function(e,K,G){N.drawable.ContextMenuScrollIndicatorDrawable.superClass.constructor.call(this),e!=P&&this.setDirection(e),K!=P&&this.setBackgroundColor(K),G!=P&&this.setForegroundColor(G)},Mg("ht.ui.drawable.ContextMenuScrollIndicatorDrawable",N.drawable.Drawable,{ms_ac:["direction","backgroundColor","foregroundColor"],draw:function(Q,l,d,K,t,n,r){var W=this,F=n.getRootContext(r),Z=W.getBackgroundColor(),q=W.getForegroundColor(),c=W.getDirection();if(F.beginPath(),F.rect(Q,l,d,K),F.fillStyle=Z,F.fill(),"up"===c){var R={width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:q}]};Hl(F,R,"centerUniform",Q,l,d,K,P,W)}else{var R={width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:q,rotation:3.14}]};Hl(F,R,"centerUniform",Q,l,d,K,P,W)}},getSerializableProperties:function(){var p=N.drawable.ContextMenuScrollIndicatorDrawable.superClass.getSerializableProperties.call(this);return pq(p,{direction:1,backgroundColor:1,foregroundColor:1})}}),N.border.Border=function(){},Mg("ht.ui.border.Border",j,{ms_fire:!0,isCSSBorder:function(){return!1},getLeft:function(){return 0},getRight:function(){return 0},getTop:function(){return 0},getBottom:function(){return 0},drawBorder:function(){},tearDownBorder:function(){},getSerializableProperties:function(){return{}}}),N.border.LineBorder=function(F,U,t){N.border.LineBorder.superClass.constructor.call(this),F!=P&&this.setWidth(F),U!=P&&this.setColor(U),t!=P&&this.setRadius(t)},Mg("ht.ui.border.LineBorder",N.border.Border,{ms_ac:[uh,U,"radius"],_width:1,_color:"black",getLeft:function(){return this.getWidth()},getRight:function(){return this.getWidth()},getTop:function(){return this.getWidth()},getBottom:function(){return this.getWidth()},drawBorder:function(l,w,Y,T,n,W){var Q=this,q=Q.getWidth(),a=Q.getColor(),t=Q.getRadius();if(q&&a){var X=n.getRootContext(W);if(t===x&&n.getBorderRadius&&(t=n.getBorderRadius()),t){var B,b,G,h;Gr(t)?(B=Qk(t[0]),b=Qk(t[1]),h=Qk(t[2]),G=Qk(t[3])):B=b=h=G=Qk(t),X.beginPath(),$l(X,l+q/2,w+q/2,Y-q,T-q,B,b,G,h),X.strokeStyle=a,X.lineWidth=q,X.stroke()}else Ak(X,a,l,w,Y,T,q)}},getSerializableProperties:function(){var B=N.border.LineBorder.superClass.getSerializableProperties.call(this);return pq(B,{width:1,color:1,radius:1})}}),N.border.FocusLineBorder=function(i,k,M,f){N.border.FocusLineBorder.superClass.constructor.call(this),i!=P&&this.setWidth(i),k!=P&&this.setColor(k),M!=P&&this.setFocusColor(M),f!=P&&this.setRadius(f)},Mg("ht.ui.border.FocusLineBorder",N.border.Border,{ms_ac:[uh,U,"focusColor","radius"],_width:1,_color:"black",getLeft:function(){var z=this.getWidth();return Gr(z)?z[3]:z},getRight:function(){var R=this.getWidth();return Gr(R)?R[1]:R},getTop:function(){var c=this.getWidth();return Gr(c)?c[0]:c},getBottom:function(){var O=this.getWidth();return Gr(O)?O[2]:O},drawBorder:function(a,O,i,A,I,N){var y=this,u=y.getWidth(),f=y.getColor(),Y=y.getFocusColor(),Q=y.getRadius(),F=I.hasFocus()?Y:f;if(u){var c=I.getRootContext(N);if(Q===x&&I.getBorderRadius&&(Q=Qk(I.getBorderRadius())),Gr(u)){var Z=y.getLeft(),n=y.getRight(),m=y.getTop(),G=y.getBottom();Z&&(c.beginPath(),c.rect(a,O,Z,A),c.fillStyle=F,c.fill()),n&&(c.beginPath(),c.rect(a+i-n,O,n,A),c.fillStyle=F,c.fill()),m&&(c.beginPath(),c.rect(a,O,i,m),c.fillStyle=F,c.fill()),G&&(c.beginPath(),c.rect(a,O+A-G,i,G),c.fillStyle=F,c.fill())}else if(Q){var l,o,E,z;Gr(Q)?(l=Qk(Q[0]),o=Qk(Q[1]),z=Qk(Q[2]),E=Qk(Q[3])):l=o=z=E=Qk(Q),c.beginPath(),$l(c,a+u/2,O+u/2,i-u,A-u,l,o,E,z),c.strokeStyle=F,c.lineWidth=u,c.stroke()}else Ak(c,F,a,O,i,A,u)}},getSerializableProperties:function(){var g=N.border.FocusLineBorder.superClass.getSerializableProperties.call(this);return pq(g,{width:1,color:1,focusColor:1,radius:1})}}),N.border.IndividualLineBorder=function(q,v,y,l,j){N.border.IndividualLineBorder.superClass.constructor.call(this),q!=P&&this.setTop(q),v!=P&&this.setRight(v),y!=P&&this.setBottom(y),l!=P&&this.setLeft(l),j!=P&&this.setColor(j)},Mg("ht.ui.border.IndividualLineBorder",N.border.Border,{ms_ac:[sr,Vb,el,eh,U],_top:0,_right:0,_bottom:0,_left:0,_color:"black",drawBorder:function(f,a,c,F,P,v){var t=this,I=t.getLeft(),n=t.getRight(),z=t.getTop(),i=t.getBottom(),w=t.getColor(),m=P.getRootContext(v);I&&(m.beginPath(),m.rect(f,a,I,F),m.fillStyle=w,m.fill()),n&&(m.beginPath(),m.rect(f+c-n,a,n,F),m.fillStyle=w,m.fill()),z&&(m.beginPath(),m.rect(f,a,c,z),m.fillStyle=w,m.fill()),i&&(m.beginPath(),m.rect(f,a+F-i,c,i),m.fillStyle=w,m.fill())},getSerializableProperties:function(){var o=N.border.IndividualLineBorder.superClass.getSerializableProperties.call(this);return pq(o,{left:1,right:1,top:1,bottom:1,color:1})}}),N.border.PopoverBorder=function(X,H){N.border.LineBorder.superClass.constructor.call(this),null!=X&&this.setWidth(X),null!=H&&this.setColor(H)},Mg("ht.ui.border.PopoverBorder",N.border.Border,{ms_ac:[uh,U],_width:1,_color:O.borderColor,getLeft:function(){return 10},getRight:function(){return 10},getTop:function(){return 10},getBottom:function(){return 10},drawBorder:function(m,t,P,U,d,D){var V=this,F=V.getWidth(),Q=V.getColor(),K=d.getBorderRadius()||0,w=d.getPlacement();if(m+=10,t+=10,P-=20,U-=20,F&&Q){var h=d.getRootContext(D);h.save();var a=d.getBoxShadow();if(a){var v=a.split(/\s+/);if(v.length>2){var r=Qk(v[0]),u=Qk(v[1]),Y=Qk(v[2]),y=v[3];h.shadowOffsetX=r,h.shadowOffsetY=u,h.shadowBlur=Y,h.shadowColor=y}}h.beginPath(),$l(h,m-F/2,t-F/2,P+F,U+F,K,K,K,K),h.strokeStyle=Q,h.lineWidth=F,h.stroke(),h.restore(),h.strokeStyle=Q,h.lineWidth=F,h.beginPath(),w===eh?(h.clearRect(m+P/2-6,t-F,12,F),h.moveTo(m+P/2-6,t),h.lineTo(m+P/2,t-8),h.lineTo(m+P/2+6,t)):"bottomLeft"===w?(h.clearRect(m+10,t-F,12,F),h.moveTo(m+10,t),h.lineTo(m+10+6,t-8),h.lineTo(m+10+12,t)):"bottomRight"===w?(h.clearRect(m+P-10-12,t-F,12,F),h.moveTo(m+P-10-12,t),h.lineTo(m+P-10-6,t-8),h.lineTo(m+P-10,t)):w===el?(h.clearRect(m+P/2-6,t+U,12,F),h.moveTo(m+P/2-6,t+U),h.lineTo(m+P/2,t+U+8),h.lineTo(m+P/2+6,t+U)):"topLeft"===w?(h.clearRect(m+10,t+U,12,F),h.moveTo(m+10,t+U),h.lineTo(m+10+6,t+U+8),h.lineTo(m+10+12,t+U)):"topRight"===w?(h.clearRect(m+P-10-12,t+U,12,F),h.moveTo(m+P-10-12,t+U),h.lineTo(m+P-10-6,t+U+8),h.lineTo(m+P-10,t+U)):w===sr?(h.clearRect(m+P,t+U/2-6,F,12),h.moveTo(m+P,t+U/2-6),h.lineTo(m+P+8,t+U/2),h.lineTo(m+P,t+U/2+6)):"leftTop"===w?(h.clearRect(m+P,t+10,F,12),h.moveTo(m+P,t+10),h.lineTo(m+P+8,t+10+6),h.lineTo(m+P,t+10+12)):"leftBottom"===w?(h.clearRect(m+P,t+U-10-12,F,12),h.moveTo(m+P,t+U-10-12),h.lineTo(m+P+8,t+U-10-6),h.lineTo(m+P,t+U-10)):w===Vb?(h.clearRect(m-F,t+U/2-6,F,12),h.moveTo(m,t+U/2-6),h.lineTo(m-8,t+U/2),h.lineTo(m,t+U/2+6)):"rightTop"===w?(h.clearRect(m-F,t+10,F,12),h.moveTo(m,t+10),h.lineTo(m-8,t+10+6),h.lineTo(m,t+10+12)):"rightBottom"===w&&(h.clearRect(m-F,t+U-10-12,F,12),h.moveTo(m,t+U-10-12),h.lineTo(m-8,t+U-10-6),h.lineTo(m,t+U-10)),h.fillStyle=d.getArrowBackgroundColor(),h.strokeStyle=Q,h.lineWidth=F,h.fill(),h.stroke()}},getSerializableProperties:function(){var h=N.border.LineBorder.superClass.getSerializableProperties.call(this);return pq(h,{width:1,color:1})}}),N.border.CSSBorder=function(J,x,b){N.border.CSSBorder.superClass.constructor.call(this);var r=this;J!=P&&r.setWidth(J),x!=P&&r.setColor(x),b!=P&&r.setStyle(b)},Mg("ht.ui.border.CSSBorder",N.border.Border,{ms_ac:[uh,U,xq],_style:"solid",_color:"black",_width:1,isCSSBorder:function(){return!0},getLeft:function(){var z=this.getWidth();return Gr(z)?z[3]:z},getRight:function(){var c=this.getWidth();return Gr(c)?c[1]:c},getTop:function(){var v=this.getWidth();return Gr(v)?v[0]:v},getBottom:function(){var c=this.getWidth();return Gr(c)?c[2]:c},getLeftColor:function(){var V=this.getColor();return Gr(V)?V[3]:V},getRightColor:function(){var H=this.getColor();return Gr(H)?H[1]:H},getTopColor:function(){var $=this.getColor();return Gr($)?$[0]:$},getBottomColor:function(){var O=this.getColor();return Gr(O)?O[2]:O},getLeftStyle:function(){var o=this.getStyle();return Gr(o)?o[3]:o},getRightStyle:function(){var Y=this.getStyle();return Gr(Y)?Y[1]:Y},getTopStyle:function(){var N=this.getStyle();return Gr(N)?N[0]:N},getBottomStyle:function(){var e=this.getStyle();return Gr(e)?e[2]:e},drawBorder:function(Q,q,b,X,N,t){var l=this;t=t?t:N.$239u;var r=t.style;r.borderLeft=l.getLeft()+wc+" "+l.getLeftStyle()+" "+l.getLeftColor(),r.borderRight=l.getRight()+wc+" "+l.getRightStyle()+" "+l.getRightColor(),r.borderTop=l.getTop()+wc+" "+l.getTopStyle()+" "+l.getTopColor(),r.borderBottom=l.getBottom()+wc+" "+l.getBottomStyle()+" "+l.getBottomColor()},tearDownBorder:function(R,Q,p,f,h,v){v=v?v:h.$239u;var B=v.style;B.borderLeft="",B.borderRight="",B.borderTop="",B.borderBottom=""},getSerializableProperties:function(){var U=N.border.CSSBorder.superClass.getSerializableProperties.call(this);return pq(U,{width:1,color:1,style:1})}});var pm={translateX:1,sortColumn:1},Sj={sortable:1,sortOrder:1,sortFunc:1},up={focusData:1},Ur={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},Mi={propertyModel:1,dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},xj=function(J,l){l.add(J),J.hasChildren()&&J.eachChild(function(i){xj(i,l)})},bd=function(T,y,X,r,e,H,V,Z,E,u,$){var t=X.getValueType(u),R=$ instanceof N.PropertyView?$.getValueAlign(X):X.getAlign();if(y=X.formatValue(y,u),y!=P){if(t===U&&y){var W=Z,J=E;return W>36&&(W=36),J>18&&(J=18),R===$r?Wg(T,H+(Z-W)/2,V+(E-J)/2,W,J,y):R===sr?Wg(T,H,V+(E-J)/2,W,J,y):Wg(T,H+Z-W,V+(E-J)/2,W,J,y),void 0}if(t===c||!t&&bm(y)){var k=y?$.getCheckIconDrawable(u,X):$.getUncheckIconDrawable(u,X),v=$.getIconWidth(),g=$.getIconHeight();return R===$r?k.draw(H+(Z-v)/2,V+(E-g)/2,v,g,u,$):R===sr?k.draw(H,V+(E-g)/2,v,g,u,$):k.draw(H+Z-v,V+(E-g)/2,v,g,u,$),void 0}y&&y.toString().indexOf("\n")>=0?_.drawBreakableText(T,y.split("\n"),{x:H,y:V,width:Z,height:E},r,e,R):Xh(T,y,r,e,H,V,Z,E,R)}};Cq({$148u:function(m){m.addElement=function(h,S,J,F,b,G,p){var g,z=this,q=z.$126u;z.$126u||(q=z.$126u={});var v=q[S];v||(v=q[S]={});var j=!1;if(v[J]){if(!h)return Rl(v[J]),delete v[J],void 0;g=v[J];var O=g.firstChild;h.getView?O!==h.getView()&&(Kp(g),j=!0):O!==h&&(Kp(g),j=!0),tc&&(g.style.opacity="1")}else{if(!h)return;g=Zh(!0),g.setAttribute("render_rowId",S),g.setAttribute("render_columnId",J),z.$261u.appendChild(g),j=!0,v[J]=g}if(z.isColumnLineVisible&&z.isColumnLineVisible()&&(G-=1),z.isRowLineVisible()&&(p-=1),!(0>=G||0>=p)){G=X(G),p=X(p),j&&(h instanceof Aq?(h.setX(0),h.setY(0),h.setWidth(G),h.setHeight(p),h.getStyleParent=function(){return z},g.appendChild(h.getView()),h.__$$uiStyleVersion!==Y&&(h.refreshStyles(),h.redraw(!0),h.__$$uiStyleVersion=Y)):g.appendChild(h),h.onParentAdded&&h.onParentAdded(g));var T=g.style;T.left=X(z.getTranslateX()+F)+wc,T.top=X(z.getTranslateY()+b)+wc,T.width=G+wc,T.height=p+wc,h instanceof Aq&&(h.setX(0),h.setY(0),h.setWidth(G),h.setHeight(p))}},m.$340u=function(){var j=this,A=j.$126u,y=Gq();if(A){var W=j._dataModel,V=j.getStartRowIndex(),L=j.getEndRowIndex();for(var $ in A){var n,Y=W.getDataById($);if(Y&&(n=j.getRowIndex(Y)),!Y||n==P||V>n||n>=L){var i=A[$];for(var l in i){var e=i[l];if(tc&&y&&j._interactors[1]===y&&"p"===y.state)e.style.opacity="0";else{var w;E.activeElement.contains(e)&&(w=!0),Rl(e),w&&j.requestFocus()}}delete A[$]}else if(j.getColumnInfo){var S=j.$117u,i=A[$],a=[];for(var l in i){var o=j.getColumnInfo(S.getDataById(l));o&&j.isColumnShowing(o)||a.push(l)}a.forEach(function(Y){Rl(i[Y]),delete i[Y]})}}}}},$149u:function(E){E.getValue=function(N,h){return h.getValue?h.getValue(N,h,this):Fq(N,h.getAccessType(),h.getName())},E.isEditing=function(M,K){var d=this;return M||K?d.$231u===M&&d.$277u===K?!0:void 0:!!d.$270u}},$147u:function(S){S.setDatas=function(j){if(j){Gl(j)&&(j=JSON.parse(j));var W=this.getDataModel();W.clear();var f=function($,N){var R=new J.Data;for(var _ in $){var j=$[_];if("children"===_)for(var D=0,p=j.length;p>D;D++)f(j[D],R);else{var h;0===_.indexOf("a:")?(_=_.substr(2),h="attr"):0===_.indexOf("s:")&&(_=_.substr(2),h="style"),Pl(R,h,_,j)}}N&&R.setParent(N),W.add(R)};if(Gr(j))for(var t=0,D=j.length;D>t;t++){var P=j[t];f(P)}else f(j)}},S.init=function(F){var M=this,B=new _e(F),N=new gb(F);N.__visible=!1,M.setTableView(F),M.setTableHeader(B),M.setTableFooter(N)},S.setUpInteractors=function(){},S.setTableHeader=function(P){var s=this,x=s._tableHeader;x&&s.removeView(x),s.addView(P),s.setPropertyValue("tableHeader",P)},S.setTableFooter=function(f){var L=this,h=L._tableFooter;h&&L.removeView(h),L.addView(f),L.setPropertyValue("tableFooter",f)},S.setTableView=function(J){var B=this,m=B._tableView;m&&B.removeView(m),B.addView(J),B.setPropertyValue("tableView",J)},S.getTableHeader=function(){return this._tableHeader},S.getTableFooter=function(){return this._tableFooter},S.getTableView=function(){return this._tableView},S.getDataModel=function(){return this.getTableView().dm()},S.dm=function(M){return M?(this.getTableView().setDataModel(M),void 0):this.getTableView().dm()},S.getSelectionModel=function(){return this.getTableView().sm()},S.sm=function(){return this.getTableView().sm()},S.getColumnModel=function(){return this.getTableView().getColumnModel()},S.setColumns=function(Z){this.getTableView().setColumns(Z)},S.addColumns=function(W){this.getTableView().addColumns(W)},S.validateImpl=function(N,k,v,l){var z=this,q=z.getTableHeader(),L=z.getTableFooter(),H=z.getTableView(),o=q&&q.isVisible(),E=L&&L.isVisible();k=0;var G=0;o&&(G=q.getPreferredSize().height);var Z=0;E&&(Z=L.getPreferredSize().height),H&&H.isVisible()&&z.layoutChild(H,0,k+G,v,l-G-Z),o&&z.layoutChild(q,0,k,v,G),E&&z.layoutChild(L,0,k+l-Z,v,Z)}}}),rj("ui_tabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:"rgba(0,0,0,0)",rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:O.baseColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),rj("ui_hoverTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:O.hoverBackground,rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:O.baseColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),rj("ui_activeTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:O.activeBackground,rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:O.baseColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),rj("ui_disabledTabScrollController",{width:100,height:100,fitSize:!0,comps:[{type:"rect",background:"rgba(0,0,0,0)",rect:[0,0,100,100]},{type:"shape",borderWidth:1,rotation:3.14159,borderColor:O.textDimColor,points:[38.44028,26.10692,62.72304,49.44106,37.27696,73.89308]}]}),rj("ui_prevYear",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(W,X){return"prevYear"===X.getHitArea()?"hover"===X.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},points:[14.64231,4.62974,10.00002,10.00002,14.64231,15.37026]},{type:"shape",borderWidth:1,borderColor:{func:function(W,K){return"prevYear"===K.getHitArea()?"hover"===K.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},points:[9.99998,4.62974,5.35769,10.00002,9.99998,15.37026]}]}),rj("ui_prevMonth",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(w,p){return"prevMonth"===p.getHitArea()?"hover"===p.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},fillClipPercentage:0,rotation:6.28319,points:[12.32115,4.62974,7.67886,10.00002,12.32115,15.37026]}]}),rj("ui_nextMonth",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(L,N){return"nextMonth"===N.getHitArea()?"hover"===N.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},rotation:-3.14159,points:[12.32115,4.62974,7.67886,10.00002,12.32115,15.37026]}]}),rj("ui_nextYear",{width:20,height:20,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(a,p){return"nextYear"===p.getHitArea()?"hover"===p.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},rotation:-3.14159,points:[9.99998,4.63482,5.36209,10.00002,9.99998,15.36518]},{type:"shape",borderWidth:1,borderColor:{func:function(y,v){return"nextYear"===v.getHitArea()?"hover"===v.getHitState()?O.baseColor:O.hoverColor:O.iconColor}},rotation:-3.14159,points:[14.63791,4.63482,10.00002,10.00002,14.63791,15.36518]}]}),rj("ui_"+u,{width:16,height:16,comps:[{type:"rect",background:O.baseColor,rect:[0,0,16,16]},{type:"border",color:O.baseColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),rj("ui_hoverCheck",{width:16,height:16,comps:[{type:"rect",background:O.hoverColor,rect:[0,0,16,16]},{type:"border",color:O.hoverColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),rj("ui_activeCheck",{width:16,height:16,comps:[{type:"rect",background:O.activeColor,rect:[0,0,16,16]},{type:"border",color:O.activeColor,width:1},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3,9,6,12,13,5]}]}),rj("ui_checkDisabled",{width:16,height:16,comps:[{type:"rect",background:"rgb(255,255,255)",rect:[0,0,16,16]},{type:"border",color:O.dimColor,width:1},{type:"shape",borderWidth:1,borderColor:O.dimColor,borderCap:"round",points:[3,9,6,12,13,5]}]}),rj("ui_"+p,{width:16,height:16,comps:[{type:"rect",background:"rgb(255, 255, 255)",rect:[0,0,16,16]},{type:"border",color:O.iconColor,width:1}]}),rj("ui_hoverUncheck",{width:16,height:16,comps:[{type:"rect",background:O.hoverBackground,rect:[0,0,16,16]},{type:"border",color:O.iconColor,width:1}]}),rj("ui_activeUncheck",{width:16,height:16,comps:[{type:"rect",background:O.activeBackground,rect:[0,0,16,16]},{type:"border",color:O.iconColor,width:1}]}),rj("ui_uncheckDisabled",{width:16,height:16,comps:[{type:"rect",background:"rgb(255,255,255)",rect:[0,0,16,16]},{type:"border",color:O.dimColor,width:1}]}),rj("ui_indeterminate",{width:16,height:16,fitSize:!1,comps:[{type:"roundRect",background:"#fff",borderWidth:1,borderColor:O.baseColor,cornerRadius:Qk(O.borderRadius),rect:[1,1,14,14]},{type:"roundRect",background:O.baseColor,cornerRadius:Qk(O.borderRadius),rect:[4,4,8,8]}]}),rj("ui_"+t,{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.baseColor,rect:[1,1,14,14]},{type:"oval",background:O.baseColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),rj("ui_hoverRadioOn",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.hoverColor,rect:[1,1,14,14]},{type:"oval",background:O.hoverColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),rj("ui_activeRadioOn",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.activeColor,rect:[1,1,14,14]},{type:"oval",background:O.activeColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),rj("ui_radioOnDisabled",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.dimColor,rect:[1,1,14,14]},{type:"oval",background:O.dimColor,rect:[4.70588,4.70588,6.58824,6.58824]}]}),rj("ui_"+Q,{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.iconColor,rect:[1,1,14,14]}]}),rj("ui_hoverRadioOff",{width:16,height:16,comps:[{type:"oval",background:O.hoverBackground,borderWidth:1,borderColor:O.iconColor,rect:[1,1,14,14]}]}),rj("ui_activeRadioOff",{width:16,height:16,comps:[{type:"oval",background:O.activeBackground,borderWidth:1,borderColor:O.iconColor,rect:[1,1,14,14]}]}),rj("ui_radioOffDisabled",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.dimColor,rect:[1,1,14,14]}]}),rj("ui_slider_thumb",{width:14,height:14,comps:[{type:"circle",background:"rgb(255,255,255)",borderWidth:2,borderColor:O.baseColor,rect:[1.5,1.5,11,11]}]}),rj("ui_slider_hoverThumb",{width:14,height:14,comps:[{type:"circle",background:O.hoverBackground,borderWidth:2,borderColor:O.hoverColor,rect:[1.5,1.5,11,11]}]}),rj("ui_slider_activeThumb",{width:14,height:14,comps:[{type:"circle",background:O.activeBackground,borderWidth:2,borderColor:O.activeColor,rect:[1.5,1.5,11,11]}]}),rj("ui_borderlayoutToggle",{width:{value:40,func:function(D,f){return f.getToggleSize()
}},height:{value:9,func:function(E,N){return N.getSplitterSize()}},fitSize:!1,comps:[{type:"roundRect",cornerRadius:Qk(O.borderRadius),background:O.layoutToggleBackground,borderWidth:0,rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:{value:[16.94352,3.65393,16.94352,9.80693,23.05648,9.80693],func:function(U,q){var J=q.getToggleSize(),Y=q.getSplitterSize();return[(J-10)/2,(Y-5)/2+5,J/2,(Y-5)/2,(J-10)/2+10,(Y-5)/2+5]}}}]}),rj("ui_splitlayoutToggle",Xe("ui_borderlayoutToggle")),rj("ui_expandIcon",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.66248,4.94352,8.81548,11.05648,8.81548]}]}),rj("ui_collapseIcon",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:3.92699,points:[2.82411,4.9235,2.82411,11.0765,8.93707,11.0765]}]}),rj("ui_toggleOff",{width:26,height:16,comps:[{type:"roundRect",background:O.normalBackground,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:Qk(O.borderRadius),rect:[1.9355,2,12,12]}]}),rj("ui_hoverToggleOff",{width:26,height:16,comps:[{type:"roundRect",background:O.normalBackground,cornerRadius:Qk(O.borderRadius),shadowColor:"#1ABC9C",rect:[0,0,26,16]},{type:"roundRect",background:O.hoverBackground,borderColor:"#979797",cornerRadius:Qk(O.borderRadius),rect:[1.9355,2,12,12]}]}),rj("ui_activeToggleOff",{width:26,height:16,comps:[{type:"roundRect",background:O.normalBackground,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[1.9355,2,12,12]}]}),rj("ui_toggleOffDisabled",{width:26,height:16,comps:[{type:"roundRect",background:O.dimColor,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:Qk(O.borderRadius),rect:[1.9355,2,12,12]}]}),rj("ui_toggleOn",{width:26,height:16,comps:[{type:"roundRect",background:O.baseColor,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:Qk(O.borderRadius),rect:[12.23171,2,12,12]}]}),rj("ui_hoverToggleOn",{width:26,height:16,comps:[{type:"roundRect",background:O.baseColor,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:O.hoverBackground,cornerRadius:Qk(O.borderRadius),rect:[12.23171,2,12,12]}]}),rj("ui_activeToggleOn",{width:26,height:16,comps:[{type:"roundRect",background:O.baseColor,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[12.23171,2,12,12]}]}),rj("ui_toggleOnDisabled",{width:26,height:16,comps:[{type:"roundRect",background:O.dimColor,cornerRadius:Qk(O.borderRadius),rect:[0,0,26,16]},{type:"roundRect",background:"rgb(255,255,255)",cornerRadius:Qk(O.borderRadius),rect:[12.23171,2,12,12]}]}),rj("contextmenu_indicator",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:{func:function(T,y){return y.isHoverMenuItem(T)?y.getHoverIndicatorColor(T)||y.getHoverLabelColor(T):y.getIndicatorColor(T)||y.getLabelColor(T)}},rotation:1.57}]}),rj("colorpane_slider",{width:28,height:8,comps:[{type:"shape",borderColor:{func:function(g,t){return t.getSliderColor()}},borderWidth:1,join:"miter",points:[0,0,0,8,5,4,28,0,28,8,23,4],segments:[1,2,2,5,1,2,2,5]}]}),rj("ui_dialogCollapse",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[2,8.5,14,8.5]}]}),rj("ui_dialogExpand",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[2,7.46941,14,7.46941,8,3,8,13],segments:[1,2,1,2]}]}),rj("ui_panelExpand",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.66248,4.94352,8.81548,11.05648,8.81548]}]}),rj("ui_panelCollapse",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,7.07148,4.94352,13.22448,11.05648,13.22448]}]}),rj("ui_dialogClose",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),rj("ui_dialogMaximize",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rect:[1.39129,6.51482,13.3037,6.95402]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[1.53721,3.47701,14.53025,3.47701]}]}),rj("ui_dialogRestore",{width:16,height:16,comps:[{type:"rect",background:"rgba(255,255,255,0)",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rect:[1.50555,6.46203,9.9927,6.73558]},{type:"shape",borderWidth:1,borderColor:O.iconColor,points:[4.39729,5,4.39729,3.36114,14.60908,3.36114,14.60908,9.82982,13,9.82982]}]}),rj("ui_decreaseIcon",{width:{func:function(X,x){return x.getIconWidth()}},height:{func:function(O,e){var d=e.getIconHeight();return null==d?(e.getContentHeight()+e.getPaddingTop()+e.getPaddingBottom())/2:d/2}},comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),rj("ui_hoverDecreaseIcon",{width:{func:function(S,G){return G.getIconWidth()}},height:{func:function(e,Q){var s=Q.getIconHeight();return null==s?(Q.getContentHeight()+Q.getPaddingTop()+Q.getPaddingBottom())/2:s/2}},comps:[{type:"roundRect",background:O.hoverBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),rj("ui_activeDecreaseIcon",{width:{func:function(M,V){return V.getIconWidth()}},height:{func:function(P,r){var $=r.getIconHeight();return null==$?(r.getContentHeight()+r.getPaddingTop()+r.getPaddingBottom())/2:$/2}},comps:[{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,5,5]}]}),rj("ui_increaseIcon",{width:{func:function(B,L){return L.getIconWidth()}},height:{func:function(f,y){var e=y.getIconHeight();return null==e?(y.getContentHeight()+y.getPaddingTop()+y.getPaddingBottom())/2:e/2}},comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779+W,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),rj("ui_hoverIncreaseIcon",{width:{func:function(J,d){return d.getIconWidth()}},height:{func:function(n,H){var r=H.getIconHeight();return null==r?(H.getContentHeight()+H.getPaddingTop()+H.getPaddingBottom())/2:r/2}},comps:[{type:"roundRect",background:O.hoverBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779+W,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),rj("ui_activeIncreaseIcon",{width:{func:function(W,d){return d.getIconWidth()}},height:{func:function(o,j){var S=j.getIconHeight();return null==S?(j.getContentHeight()+j.getPaddingTop()+j.getPaddingBottom())/2:S/2}},comps:[{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779+W,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[49,5,5]}]}),rj("ui_menubutton_dropdown",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,2.57354,4.94352,8.72654,11.05648,8.72654]}]}),rj("ui_dropDownIcon",{width:{func:function(_,$){return $.getIconWidth()}},height:{func:function(L,n){var p=n.getIconHeight();return null==p?n.getContentHeight()+n.getPaddingTop()+n.getPaddingBottom():p}},comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),rj("ui_hoverDropDownIcon",{width:{func:function(e,f){return f.getIconWidth()}},height:{func:function(o,g){var L=g.getIconHeight();return null==L?g.getContentHeight()+g.getPaddingTop()+g.getPaddingBottom():L}},comps:[{type:"roundRect",background:O.hoverBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),rj("ui_activeDropDownIcon",{width:{func:function(D,y){return y.getIconWidth()}},height:{func:function(f,s){var V=s.getIconHeight();return null==V?s.getContentHeight()+s.getPaddingTop()+s.getPaddingBottom():V}},comps:[{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",rotation:5.49779,points:[4.94352,4.9235,4.94352,11.0765,11.05648,11.0765],rect:[44,7,7]}]}),rj("table_sortAsc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:O.iconColor,rotation:0}]}),rj("table_sortDesc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:O.iconColor,rotation:3.14}]}),rj("ui_tablayoutClose",{width:16,height:16,comps:[{type:"oval",background:"#FF0033",borderColor:"#FF0033",shadowColor:"#1ABC9C",rect:[5.5,5.5,5,5]}]}),rj("ui_tablayoutHoverClose",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),rj("ui_tablayoutActiveClose",{width:16,height:16,comps:[{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[0,0,16,16]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:5.49779,points:[4.94352,.58683,4.94352,6.73983,11.05648,6.73983]},{type:"shape",borderWidth:1,borderColor:"#FF0033",borderCap:"round",shadowColor:"#1ABC9C",rotation:2.35619,points:[4.94352,9.26017,4.94352,15.41317,11.05648,15.41317]}]}),rj("drag_add",{width:20,height:20,comps:[{type:"rect",rect:[17,14,4],background:O.insertColor},{type:"rect",rect:[17,4,14],background:O.insertColor}]}),rj("propertypane_activeCategory",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:O.baseColor,rect:[1.52,2.53604,12.96,12]},{type:"rect",background:O.baseColor,borderColor:O.baseColor,rect:[1.52,2.53604,12.96,3]},{type:"rect",background:O.baseColor,borderColor:O.baseColor,rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:O.baseColor,borderColor:O.baseColor,rotation:3.14159,rect:[4,8.03604,8,1]}]}),rj("propertypane_category",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:O.iconColor,rect:[1.52,2.53604,12.96,12]},{type:"rect",background:O.iconColor,borderColor:O.iconColor,rect:[1.52,2.53604,12.96,3]},{type:"rect",background:O.iconColor,borderColor:O.iconColor,rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:O.iconColor,borderColor:O.iconColor,rotation:3.14159,rect:[4,8.03604,8,1]}]}),rj("propertypane_activeSort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.baseColor,borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:O.baseColor,borderColor:O.baseColor,rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:O.baseColor,borderColor:O.baseColor,rotation:3.14159,rect:[9.5,10,5,3]}]}),rj("propertypane_sort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:O.iconColor,borderColor:O.iconColor,rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:O.iconColor,borderColor:O.iconColor,rotation:3.14159,rect:[9.5,10,5,3]}]}),rj("colorpicker_previewbackground",{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]}),rj("datetimepicker_dropDownIconSource",{width:16,height:16,comps:[{type:"roundRect",borderColor:O.iconColor,cornerRadius:Qk(O.borderRadius),shadowColor:"#1ABC9C",rect:[2.78779,7.06837,10.42442,6.08268]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",shadowColor:"#1ABC9C",closePath:!0,points:[2.78779,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,13.15105,13.21221,13.15105,13.21221,13.15105,2.78779,13.15105,2.78779,13.15105,2.78779,13.15105,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",background:"rgb(255,255,255)",borderWidth:1,borderColor:O.iconColor,borderCap:"round",shadowColor:"#1ABC9C",closePath:!0,points:[2.78779,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,3.95319,13.21221,7.03755,13.21221,7.03755,13.21221,7.03755,2.78779,7.03755,2.78779,7.03755,2.78779,7.03755,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319,2.78779,3.95319],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[5.17236,2.84895,5.17236,5.12996]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[10.84376,2.84895,10.84376,5.12996]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[4.4151,10.07213,7.21857,10.07213,8.82976,10.07213,11.65534,10.07213],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[4.4151,11.5928,11.65544,11.5928]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",points:[4.4151,8.55212,7.21857,8.55212,8.82976,8.55212,11.65534,8.55212],segments:[1,2,1,2]}]}),rj("ui_datetimepicker_dropDownIcon",{width:{func:function(l,d){return d.getIconWidth()}},height:{value:16,func:function($,_){var G=_.getIconHeight();return null==G?_.getContentHeight()+_.getPaddingTop()+_.getPaddingBottom():G}},comps:[{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),rj("ui_datetimepicker_hoverDropDownIcon",{width:{func:function(f,m){return m.getIconWidth()}},height:{value:16,func:function(y,p){var b=p.getIconHeight();return null==b?p.getContentHeight()+p.getPaddingTop()+p.getPaddingBottom():b}},comps:[{type:"roundRect",background:O.hoverBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),rj("ui_datetimepicker_activeDropDownIcon",{width:{func:function(Z,V){return V.getIconWidth()}},height:{value:16,func:function(U,d){var z=d.getIconHeight();return null==z?d.getContentHeight()+d.getPaddingTop()+d.getPaddingBottom():z}},comps:[{type:"roundRect",background:O.activeBackground,cornerRadius:Qk(O.borderRadius),rect:[17,1,1],relative:!0},{type:"image",name:"datetimepicker_dropDownIconSource",rect:[17,16,16],fill:"centerUniform"}]}),rj("propertypane_search",{background:"rgb(255,255,255)",width:16,height:16,comps:[{type:"arc",borderWidth:1,borderColor:O.iconColor,borderCap:"round",arcFrom:2.00713,arcTo:3.22886,arcClose:!1,shadowColor:"#1ABC9C",rect:[3.43716,3.6278,6,5.89981]},{type:"circle",borderWidth:1,borderColor:O.iconColor,shadowColor:"#1ABC9C",displayName:"节点",rect:[1.43716,1.6612,10,9.83302]},{type:"shape",borderWidth:1,borderColor:O.iconColor,borderCap:"round",shadowColor:"#1ABC9C",points:[11,11,14,14]}]}),rj("ui_info",{width:30,height:30,comps:[{type:"circle",background:"#3399FF",borderColor:"#979797",rect:[0,0,30,30]},{type:"circle",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.97989,6,4.02011,4.59441]},{type:"shape",background:"rgb(255,255,255)",borderColor:"#979797",points:[12,13,17,13,17,24,18,24,18,25,12,25,12,24,13,24,13,14,12,14,12,13]}]}),rj("ui_success",{width:30,height:30,comps:[{type:"circle",background:"#7ED321",borderColor:"#979797",rect:[0,0,30,30]},{type:"shape",borderWidth:4,borderColor:"rgb(255,255,255)",borderJoin:"miter",shadowColor:"#1ABC9C",points:[7.39215,16,13.36055,20.9547,22.60785,9.0453]}]}),rj("ui_warn",{width:36,height:36,comps:[{type:"triangle",background:"#F6A623",borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",rect:[0,3,36,30]},{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",gradientColor:null,shadowColor:"#1ABC9C",anchorY:.5384,closePath:!0,points:[15.95697,13,20,13,20,24,15.95697,24,15.95697,13]},{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",gradientColor:null,shadowColor:"#1ABC9C",anchorY:.5384,closePath:!0,points:[15.95697,26,20,26,20,30,15.95697,30,15.95697,26]}]}),rj("ui_error",{width:36,height:36,comps:[{type:"triangle",background:"rgb(255,64,64)",borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",rect:[0,3,36,30]},{type:"shape",borderWidth:4,borderColor:"rgb(255,255,255)",borderJoin:"miter",shadowColor:"#1ABC9C",scaleX:-1,points:[13,19,23,29,13,29,23,19],segments:[1,2,1,2]}]}),rj("ui_breadcrumb_separator",{width:6,height:10,comps:[{type:"shape",borderWidth:1,borderColor:O.iconColor,rotation:3.92699,points:[-1.99529,2,-1.99529,8,4.00471,8]}]});var Aq=N.View=function(X){var C=this;C.initView(),C.setUpInteractors();var p=C.getView();p.addEventListener("focusin",function(){C.isRedrawOnFocus()&&C.redraw()}),p.addEventListener("focusout",function(){C.isRedrawOnFocus()&&C.redraw()}),C.set(X)};Mg("ht.ui.View",j,{ms_fire:!0,ui_monitor:!0,ms_tip:!0,ui_attr:!0,_styleProps:{preferredSize:!0,minSize:!0,maxSize:!0},ui_ac:["x","y",uh,_o,Yc,"errorBorder","drawable:background","cursor","padding","disabled","disabledBackground",xb,"zIndex","boxShadow","borderRadius","is:redrawOnFocus",pd,"margin","popoverPlacements"],ms_ac:["id","focusable",$c,"popover","popoverTrigger","zoom","zoomAnchor"],$284u:{x:!0,y:!0,width:!0,height:!0,padding:!0,border:!0,style:!0,parent:!0,boxShadow:!0,borderRadius:!0},_preferredSizeProps:{padding:!0,border:!0,style:!0,parent:!0,"*":!0},_minSizeProps:{padding:!0,border:!0,style:!0,parent:!0,"*":!0},_maxSizeProps:{"*":!0},_focusable:!0,_zoom:1,__padding:0,__scrollBarMode:"auto",__scrollBarColor:"rgba(0,0,0,0.35)",__scrollBarSize:7,__scrollBarTimeout:1e3,__scrollBarMinLength:20,__scrollBarActiveSize:12,__autoScrollSize:16,__disabledBackground:"rgba(255, 255, 255, 0.65)",__visible:!0,__errorBorder:new N.border.LineBorder(1,"#FF0033"),getInteractorClasses:function(){},setUpInteractors:function(){var V=this,r=V._interactors=[],w=V.getInteractorClasses();if(w)for(var P=0,N=w.length;N>P;P++){var p=_.getClass(w[P]),s=new p(V);s.addListeners(),r.push(s)}},getZoom:function(){for(var g=this,o=g._zoom;1===o;){if(g=g._parent||g.getStyleParent(),!g)return o;o=g._zoom}return o},setZoom:function(Q){var x=this;x.setPropertyValue("zoom",Q);var N=x._view.style;N.transform="scale("+Q+")"},setZoomAnchor:function(_,e){var K=this;if("number"==typeof _&&"number"==typeof e&&(_=[_,e]),K.setPropertyValue("zoomAnchor",_),_){var Z=K._view.style;Z.transformOrigin=100*_[0]+"% "+100*_[1]+"% "}},tearDownInteractors:function(){var F=this,q=F.$53u;q&&(q.removeListeners(),F.$53u=P);var w=F._interactors;if(w){for(var o=0,U=w.length;U>o;o++)q=w[o],q.removeListeners();F._interactors=[]}},setLayoutParams:function(X,v){var k=this;if(v!==x){var R=k.getLayoutParams();if(R){var G=Je(R);R[X]!==v&&(R[X]=v,k.firePropertyChange(xb,G,R))}else R={},R[X]=v,k.setPropertyValue(xb,R)}else k.setPropertyValue(xb,X)},getLayoutParams:function(G){var S=this,v=S.getPropertyValue(xb);return G?v?v[G]:void 0:v},isSelfViewEvent:function(y){var L=this,U=Ig(y);return U===L._view||U===L.$239u||U===L.$198u||U===L.$244u||U===L._canvas||L.$365&&L.$365.contains(U)?!0:void 0},isContentEvent:function(x){var z=this,g=Ig(x),b=x;return g&&(b=z.lp(x)),z.tx&&(b.x+=z.getTranslateX(),b.y+=z.getTranslateY()),b.x>0&&b.y>0&&b.x<z.getContentWidth()&&b.y<z.getContentHeight()?!0:void 0},fixWebkitBorderOverflow:function(z){if(z!==!1){var C="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)";this.$239u.style.webkitMaskImage=C}else this.$239u.style.webkitMaskImage=""},getDOMProperties:function(){return this.$284u},getPreferredSizeProperties:function(){return this._preferredSizeProps},getMinSizeProperties:function(){return this._minSizeProps},getMaxSizeProperties:function(){return this._maxSizeProps},set:function(G){var u=this;if(G)for(var _ in G){var F=G[_],x=$j(_);x?u[x](F):u[_]=F}},isDescendantOf:function(T){if(!T)return!1;for(var o=this;o;){if(o===T)return!0;o=o._parent}},setFocusable:function(r){var S=this,B=S._view,P=S.$198u,T=S.$239u,W=S.hasFocus();r?(B.setAttribute("tabIndex",-1),T.setAttribute("tabIndex",-1),P.setAttribute("tabIndex",-1)):(B.removeAttribute("tabIndex"),T.removeAttribute("tabIndex"),P.removeAttribute("tabIndex"),W&&E.body.focus()),S.setPropertyValue("focusable",!!r)},hasFocus:function(){for(var H=this,G=E.activeElement;G;){var X=G.htComp;if(X)return X===H?!0:!1;G=G.parentNode}return!1},hasContentCanvas:function(){return!!this._canvas},getContentCanvas:function(){return this._canvas},getContentContext:function(){var l=this;return l.getRootContext(l.getContentCanvas())},initView:function(c){var r=this,p=r._view=Zh();p.htComp=r,p.className="ht_ui_view ht-ui-view",p.setAttribute(q,"ht-view "+r.getClassName()),p.style.overflow="visible",r.$239u=Zh(!1,r._view),r.$239u.style.overflow="hidden",r.$239u.setAttribute(q,"ht-interaction");var C=r.$198u=Zh(!0,r.$239u);if(C.style.zIndex="0",C.style.setProperty("-webkit-transform","translateZ(0)"),C.setAttribute(q,"ht-content"),c){var O=r._canvas=Se(C);O.setAttribute(q,"ht-canvas")}},getContentDiv:function(){return this.$198u},getBorderLeft:function(){var t=this.getCurrentBorder();return t?t.getLeft():0},getBorderTop:function(){var B=this.getCurrentBorder();return B?B.getTop():0},getBorderRight:function(){var Q=this.getCurrentBorder();return Q?Q.getRight():0},getBorderBottom:function(){var f=this.getCurrentBorder();return f?f.getBottom():0},getPaddingLeft:function(){var o=this.getPadding();return Gr(o)?o[3]:o},getPaddingTop:function(){var r=this.getPadding();return Gr(r)?r[0]:r},getPaddingRight:function(){var k=this.getPadding();return Gr(k)?k[1]:k},getPaddingBottom:function(){var $=this.getPadding();return Gr($)?$[2]:$},getMarginLeft:function(){var E=this.getMargin();return Gr(E)?E[3]:E},getMarginTop:function(){var S=this.getMargin();return Gr(S)?S[0]:S},getMarginRight:function(){var u=this.getMargin();return Gr(u)?u[1]:u},getMarginBottom:function(){var S=this.getMargin();return Gr(S)?S[2]:S},getContentWidth:function(){var i=this,P=i.getWidth();return P-=i.getBorderLeft()+i.getBorderRight(),P-=i.getPaddingLeft()+i.getPaddingRight()},getContentHeight:function(){var Z=this,K=Z.getHeight();return K-=Z.getBorderTop()+Z.getBorderBottom(),K-=Z.getPaddingTop()+Z.getPaddingBottom()},getContentLeft:function(){var R,b=this,z=b.getCurrentBorder();return R=z&&z.isCSSBorder()?b.getPaddingLeft():b.getBorderLeft()+b.getPaddingLeft()},getContentRight:function(){var y,l=this,N=l.getCurrentBorder();return y=N&&N.isCSSBorder()?l.getPaddingRight():l.getBorderRight()+l.getPaddingRight()},getContentTop:function(){var N,L=this,Q=L.getCurrentBorder();return N=Q&&Q.isCSSBorder()?L.getPaddingTop():L.getBorderTop()+L.getPaddingTop()},getContentBottom:function(){var M,i=this,D=i.getCurrentBorder();return M=D&&D.isCSSBorder()?i.getPaddingBottom():i.getBorderBottom()+i.getPaddingBottom()},setPropertyValue:function(I,G){var f=_j(I,this);this["_"+I]=G,this.fp(I,f,G)},getPropertyValue:function(A){return _j(A,this)},getView:function(){return this._view},figurePreferredSize:function(){var q=this;return{width:w(q.getPaddingLeft()+q.getPaddingRight()+q.getBorderLeft()+q.getBorderRight()),height:w(q.getPaddingTop()+q.getPaddingBottom()+q.getBorderTop()+q.getBorderBottom())}},getPreferredSizeImpl:function(){if(J.$341u)return this.$145u?this._preferredSize:x;var Z,h=this,m=h._preferredSize,Y=h.getStyleValue(nd);return Z=m?m:m===P?Y?Y:P:Y,Z===x&&(Z=h.__preferredSize),Z||(Z=h._preferredSize=h.figurePreferredSize()),Z},getPreferredSize:function(){var q=this,s=q.getPreferredSizeImpl();if(!s)return s;var _=q._preferredSizeForPart;return s.width==P?(_||(_=q._preferredSizeForPart=q.figurePreferredSize()),s=Je(s),s.width=_.width):s.height==P&&(_||(_=q._preferredSizeForPart=q.figurePreferredSize()),s=Je(s),s.height=_.height),s},figureMinSize:function(){var g=this;return{width:w(g.getPaddingLeft()+g.getPaddingRight()+g.getBorderLeft()+g.getBorderRight()),height:w(g.getPaddingTop()+g.getPaddingBottom()+g.getBorderTop()+g.getBorderBottom())}},getMinSizeImpl:function(){if(J.$341u)return this.$143u?this._minSize:x;var e,b=this,G=b._minSize,Q=b.getStyleValue(Th);return e=G?G:G===P?Q?Q:P:Q,e===x&&(e=b.__minSize),e||(e=b._minSize=b.figureMinSize()),e},getMinSize:function(){var s=this,D=s.getMinSizeImpl();if(!D)return D;var b=s._minSizeForPart;return D.width==P?(b||(b=s._minSizeForPart=s.figureMinSize()),D=Je(D),D.width=b.width):D.height==P&&(b||(b=s._minSizeForPart=s.figureMinSize()),D=Je(D),D.height=b.height),D},figureMaxSize:function(){return{width:1/0,height:1/0}},getMaxSizeImpl:function(){if(J.$341u)return this.$144u?this._maxSize:x;var i,a=this,z=a._maxSize,o=a.getStyleValue(kh);return i=z?z:z===P?o?o:P:o,i===x&&(i=a.__maxSize),i||(i=a._maxSize=a.figureMaxSize()),i},getMaxSize:function(){var B=this,X=B.getMaxSizeImpl();if(!X)return X;var w=B._maxSizeForPart;return X.width==P?(w||(w=B._maxSizeForPart=B.figureMaxSize()),X=Je(X),X.width=w.width):X.height==P&&(w||(w=B._maxSizeForPart=B.figureMaxSize()),X=Je(X),X.height=w.height),X},$100u:function(g,$){var p;return _.isObject(g)?p=g:(g!=P||$!=P)&&(p={width:g,height:$}),p},isPreferredSizeSet:function(){return this.$145u},isMinSizeSet:function(){return this.$143u},isMaxSizeSet:function(){return this.$144u},setMinSize:function(q,$){var T=this.$100u(q,$);this.$143u=T!==x?!0:!1,this.setPropertyValue(Th,T)},setMaxSize:function($,R){var q=this.$100u($,R);this.$144u=q!==x?!0:!1,this.setPropertyValue(kh,q)},setPreferredSize:function(c,$){var F=this.$100u(c,$);this.$145u=F!==x?!0:!1,this.setPropertyValue(nd,F)},removeFromDOM:function(){var h=this,A=h.getView(),G=h.$285u,F=A.parentNode;F&&(F.removeChild(A),r.removeEventListener("orientationchange",G,!1),r.removeEventListener("resize",G,!1),h.closePopup(),h.fireViewEvent("unmounted"))},refreshStyles:function(){this.$106u(),this.$105u(),this.iv(!0)},addToDOM:function(q,$){var y=this,K=y.getView();if(q=q||r,q===r){if(uc(q.document.body,K),$)y.setX($.x),y.setY($.y),y.setWidth($.width),y.setHeight($.height);else{var t=y.$285u=function(){var n=Qo(q),m=y.getLayoutParams()||{},s=m.marginLeft||0,M=m.marginRight||0,U=m.marginTop||0,J=m.marginBottom||0;y.setX(s),y.setY(U),y.setWidth(n.width-s-M),y.setHeight(n.height-U-J)};q.addEventListener("orientationchange",t,!1),q.addEventListener("resize",t,!1),t()}y.fireViewEvent("mounted")}else uc(q,K),$||($={x:0,y:0,width:q.clientWidth,height:q.clientHeight}),y.setX($.x),y.setY($.y),y.setWidth($.width),y.setHeight($.height);y.refreshStyles()},requestFocus:function(){var h=this;if(h.isFocusable()){var a=h.$239u;if(E.activeElement,E.activeElement!==a){for(var b=[],Q=a.parentNode;Q;)b.push([Q,Q.scrollLeft,Q.scrollTop]),Q=Q.parentNode;if(!Z){var k=[];try{for(var u=r.parent,T=r;u!==T;)k.push([u,u.scrollX,u.scrollY]),T=u,u=r.parent}catch(z){Z=!0}}if(tc)a.focus();else{var N=Qo(),x=N.target;a.focus(),x.scrollLeft=N.left,x.scrollTop=N.top}b.forEach(function(m){m[0].scrollLeft=m[1],m[0].scrollTop=m[2]}),Z||k.forEach(function(Z){Z[0].scrollTo(Z[1],Z[2])})}}},getLogicalPoint:function(E){var v=this,P=v.$198u.getBoundingClientRect(),r=v.tx?v.tx():0,B=v.ty?v.ty():0,c=v.getZoom();E=Vk(E);var f={x:(E.clientX-P.left)/c-r,y:(E.clientY-P.top)/c-B};return f},getContentPoint:function(J){var h=this,f=h.$198u.getBoundingClientRect(),F=h.tx?h.tx():0,y=h.ty?h.ty():0,t=h.getZoom();return J=Vk(J),{x:(J.clientX-f.left)/t-F,y:(J.clientY-f.top)/t-y}},getViewPoint:function(o){var E=this,H=E._view.getBoundingClientRect(),G=E.tx?E.tx():0,n=E.ty?E.ty():0,x=E.getZoom();return o=Vk(o),{x:(o.clientX-H.left)/x-G,y:(o.clientY-H.top)/x-n}},lp:function(R){return this.getLogicalPoint(R)},redraw:function(V){var p=this;p.$103u=!0,p.$104u=!0,p.$113u=!0,p.iv(V)},iv:function(A){this.invalidate(A)},invalidateDOM:function(){var T=this;T.$113u||(T.$113u=!0,T.iv())},invalidate:function(Z){var X=this;Z&&(X.$102u=!0),X.$112u||(X.$112u=!0,Sn(X.validate,X),X.onInvalidated&&X.onInvalidated(),X.fireViewEvent("invalidate"))},$101u:function(l,a){return l==a?!0:l&&a?l.width===a.width&&l.height===a.height:void 0},checkPreferredSize:function(n){var d=this,h=d.getPreferredSizeProperties();d._preferredSize&&h[n]&&!d.isPreferredSizeSet()&&(d._preferredSize=x,d._preferredSizeForPart=x,d.getStyleValue(nd)||(d.fireViewEvent("invalidatePreferredSize"),d.iv()))},checkMinSize:function(h){var M=this,Y=M.getMinSizeProperties();M._minSize&&Y[h]&&!M.isMinSizeSet()&&(M._minSizeForPart=x,M._minSize=x,M.getStyleValue(Th)||(M.fireViewEvent("invalidateMinSize"),M.iv()))},checkMaxSize:function(a){var T=this,n=T.getMaxSizeProperties();T._maxSize&&n[a]&&!T.isMaxSizeSet()&&(T._maxSizeForPart=x,T._maxSize=x,T.getStyleValue(kh)||(T.fireViewEvent("invalidateMaxSize"),T.iv()))},getCurrentBorder:function(){var V=this,$=V.$346u,k=V.getBorder(),T=k;return $&&(T=V.getErrorBorder()||k),T},$348u:function(j){var W=this;"endValidate"===j.kind&&(W.$344u&&(W.$344u.isInDOM()?W.$344u.resetPosition():W.$344u.show()),j.source.removeViewListener(W.$348u,W))},$349u:function(i){var P=this,g=i.kind;("mounted"===g||"unmounted"===g)&&(P.isInDOM()?i.source.addViewListener(P.$348u,P):P.$344u.hide())},$343u:function(j){var x=this,H=x.$344u,l=j.property;if("translateX"===l||"translateY"===l||"x"===l||"y"===l||l===uh||l===_o)x.isInDOM()&&(j.source instanceof N.Dialog&&("x"===l||"y"===l)?(j.source.callLaterId!=P&&(clearTimeout(j.source.callLaterId),delete j.source.callLaterId),j.source.callLaterId=setTimeout(function(){x.$344u.isInDOM()?x.$344u.resetPosition():x.$344u.show(),delete j.source.callLaterId})):j.source.addViewListener(x.$348u,x));else if(l===pd)j.newValue?j.source.addViewListener(x.$348u,x):H.hide();else if(l===$c){for(var e=j.oldValue,T=j.newValue;e;)e.removePropertyChangeListener(x.$343u,x),e.removeViewListener(x.$349u,x),e.removeViewListener(x.$348u,x),e=e._parent;for(;T;)T.addPropertyChangeListener(x.$343u,x),T.addViewListener(x.$349u,x),T=T._parent;x.isInDOM()?j.newValue.addViewListener(x.$348u,x):H.hide()}},setErrorBorder:function(H){var V=this,Y=V.getErrorBorder();V.setPropertyValue("errorBorder",H),Y!==H&&V.getErrorMessage()!=P&&V.$240u()},setErrorMessage:function(w,Y){var m=this,H=m.$344u,c=!1;if(w!=P){if(H==P){H=m.$344u=new N.ErrorMessagePopover(Y);for(var f=m;f;)f.addPropertyChangeListener(m.$343u,m),f.addViewListener(m.$349u,m),f=f._parent}else H.set(Y),c=!0;m.$346u||(m.$346u=!0,m.$240u()),H.setContentView(new N.HtmlView('<div style="color: '+H.getColor()+"; font: "+H.getFont()+'">'+w+"</div>")),H.setMaster(m),m.isInDOM()&&m.addViewListener(m.$348u,m),c&&H.show()}else if(m.$346u&&(delete m.$346u,m.$240u()),H){H.hide();for(var f=m;f;)f.removePropertyChangeListener(m.$343u,m),f.removeViewListener(m.$349u,m),f.removeViewListener(m.$348u,m),f=f._parent;
delete m.$344u}return m.setPropertyValue("errorMessage",w),m.$344u},getErrorMessage:function(){return this.getPropertyValue("errorMessage")},showPopover:function(){var Q=this,I=Q.getPopover();if(I&&!I.isInDOM()){var S=Q.getPopoverPlacements();S&&I.setPlacements(S),I.show(),"hover"!==Q.getPopoverTrigger()||tc?r.addEventListener(tc?"touchstart":"mousedown",Q.$241u):(r.addEventListener("mousemove",Q.$287u),K!==I&&(K&&K.getMaster().hidePopover(),K=I))}},hidePopover:function(){var b=this,W=b.getPopover();W&&W.isInDOM()&&(W.hide(),"hover"!==b.getPopoverTrigger()||tc?r.removeEventListener(tc?"touchstart":"mousedown",b.$241u):(r.removeEventListener("mousemove",b.$287u),delete b.$359u,K=P))},setPopoverTrigger:function(m){var L=this,f=L.getInteractionDiv();if(L.hidePopover(),m=m||"hover",this.setPropertyValue("popoverTrigger",m),L.$242u&&f.removeEventListener("mouseenter",L.$242u),L.$286u&&f.removeEventListener(tc?"touchstart":"mousedown",L.$286u),"hover"!==m||tc){if("click"===m){var n=L.$286u,t=L.$241u;n||(n=L.$286u=function(){var s=L.getPopover();s.isInDOM()?L.hidePopover():L.showPopover()}),t||(t=L.$241u=function(W){L.containsEvent(W)||L.hidePopover()}),f.addEventListener(tc?"touchstart":"mousedown",n)}}else{var x=L.$242u,e=L.$287u;x||(x=L.$242u=function(){L.showPopover()}),e||(e=L.$287u=function(A){L.containsEvent(A)?L.$359u!=P&&(clearTimeout(L.$359u),delete L.$359u):L.$359u==P&&(L.$359u=setTimeout(function(){L.hidePopover()},_.toolTipDelay))}),f.addEventListener("mouseenter",x)}},containsEvent:function(J){for(var D=this,n=Ig(J);n&&!n.htComp;)n=n.parentNode;var Q;n&&(Q=n.htComp);for(var V;Q;){if(Q===D){V=!0;break}Q=Q._parent||Q.getStyleParent()}return V},setPopover:function(g,Q){var E=this;if(E.hidePopover(),g&&!(g instanceof N.View)){var I=new N.HtmlView(g);g=new N.Popover,g.setContentView(I)}g&&(g.setMaster(E),g.getStyleParent=function(){return E}),E.setPropertyValue("popover",g),E.setPopoverTrigger(Q)},getInteractionDiv:function(){return this.$239u},getContextMenu:function(){return this._contextMenu},setContextMenu:function(L){var d=this,s=d._contextMenu;if(s!==L){d.setPropertyValue("contextMenu",L);var $=d.$243u;if(L&&!$){var $=d.$243u=new N.ViewContextMenuInteractor(d);$.addListeners()}else!L&&$&&($.removeListeners(),d.$243u=P)}},$105u:function(){var T=this;if(T.getChildren)for(var Y=T._children,v=0,n=Y.size();n>v;v++){var C=Y.get(v);C.$106u(),C.$105u()}var S=T.$230u;S&&(S.$106u(),S.$105u())},$106u:function(){var v=this;v.$199u=P,v.checkPreferredSize("*"),v.checkMaxSize("*"),v.checkMinSize("*"),v.$353u=P,v.hasContentCanvas()&&(v.$103u=!0),v.$104u=!0,v.$113u=!0},$305u:function(c,L){var m=this.getView(),h=m.style;return h.left=c+wc,h.top=L+wc,!0},onPropertyChanged:function(E){var c=this,A=E.property;if(A===$c&&(c.isInDOM()||c.closePopup()),"x"!==A&&"y"!==A||!c.$305u(c.getX(),c.getY()))if(A===xq)c.$106u(),c.$105u(),c.iv(!0);else if("zoom"===A)c.iv(!0);else if(A===$c);else{var z=c.getDOMProperties();if(z[A]&&(c.$113u=!0),c.checkPreferredSize(A),c.checkMinSize(A),c.checkMaxSize(A),A===Yc)c.hasContentCanvas()&&(c.$103u=!0),c.$104u=!0;else if(A===uh||A===_o){if(c.endEdit&&c.endEdit(),c.hasContentCanvas()){c.$103u=!0;var H=c.getCurrentBorder();H&&!H.isCSSBorder()&&(c.$104u=!0)}}else("backgroundDrawable"===A||"background"===A)&&c.hasContentCanvas()&&(c.$103u=!0);c.iv()}},$240u:function(){var o=this;o.checkPreferredSize(Yc),o.checkMinSize(Yc),o.checkMaxSize(Yc),o.hasContentCanvas()&&(o.$103u=!0),o.$104u=!0,o.$113u=!0,o.iv()},isInDOM:function(){for(var m=this.getView();m;){if(m===E.body)return!0;m=m.parentNode}return!1},drawBackground:function(F,e,T,b,r,V){if(F){var j=this;if(e==P){e=j.getContentLeft()-j.getPaddingLeft(),T=j.getContentTop()-j.getPaddingTop();var f=j.getWidth(),C=j.getHeight(),K=j.getBorderLeft(),z=j.getBorderRight(),N=j.getBorderTop(),L=j.getBorderBottom();b=f-K-z,r=C-N-L}F.draw(e,T,b,r,P,j,V)}},drawBorder:function(v,M,q,I,d,D){if(v){var b=this;M==P&&(M=0,q=0,I=b.getWidth(),d=b.getHeight()),v.drawBorder(M,q,I,d,b,D)}},tearDownBorder:function(a,i,o,s,Y,W){if(a){var t=this;1===arguments.length&&(i=0,o=0,s=t.getWidth(),Y=t.getHeight()),a.tearDownBorder(i,o,s,Y,t,W)}},$176u:function(P,n,X,C){var U=this;if(U.$244u){var H=U.getRootContext();H.clearRect(P,n,X,C)}},getRootCanvas:function(){return this.$244u},getRootContext:function(Z){var v=this,s=Z||v.$244u,L=v.getZoom(),u=s&&s.$93u;if(!u){if(!s){var Q=v.$239u,S=Q.children,t=v.getCurrentBorder();s=v.$244u=Se(),s.setAttribute(q,"ht-rootCanvas"),t&&t.isCSSBorder()?wr(s,(v.getWidth()-v.getBorderLeft()-v.getBorderRight())*L,v.getHeight()-v.getBorderTop()-v.getBorderBottom())*L:wr(s,v.getWidth()*L,v.getHeight()*L),S.length>0?Q.insertBefore(s,S[0]):Q.appendChild(s)}s===v.$244u&&(t&&t.isCSSBorder()?wr(s,X((v.getWidth()-v.getBorderLeft()-v.getBorderRight())*L),X((v.getHeight()-v.getBorderTop()-v.getBorderBottom())*L)):wr(s,X(v.getWidth()*L),X(v.getHeight()*L))),u=s.$93u=Ll(s),u[kh]=0,_l(u,0,0,L),s.style.transform="scale("+1/L+")",s.style.transformOrigin="left top"}return u},processValidateImpl:function(){var K=this,o=K.getCurrentBorder(),L=K.getContentWidth(),s=K.getContentHeight(),j=K.getContentLeft(),D=K.getContentTop(),M=!1,k=K.getId();null!=k&&(K._view.id=k);var u=K.$279u;u!==o&&(u&&(u.removePropertyChangeListener(K.$240u,K),K.tearDownBorder(u)),o&&o.addPropertyChangeListener(K.$240u,K),K.$279u=o),o&&o.isCSSBorder()&&(M=!0),K.hasContentCanvas()&&K.$103u===!1?K.validateImpl(j,D,L,s):(K.$176u(0,0,K.getWidth(),K.getHeight()),K.drawBackground(K.getBackgroundDrawable()),K.validateImpl(j,D,L,s),(!K.hasContentCanvas()&&!M||K.$104u!==!1)&&K.drawBorder(o),K.$103u=!1,K.$104u=!1);var q=K.$244u;q&&q.$93u&&(q.$93u.restore(),q.$93u=P);var b=K._canvas;b&&b.$93u&&(b.$93u.restore(),b.$93u=P)},layoutDOM:function(B,s,m,h){var I=this,a=I._view,v=I.getCurrentBorder(),q=I.$244u,S=I._canvas,T=I.getBorderLeft(),U=I.getBorderRight(),e=I.getBorderTop(),R=I.getBorderBottom(),M=I.getPaddingLeft(),H=I.getPaddingTop(),u=I.getBoxShadow(),j=I.getBorderRadius(),r=I.$198u;vn(a,B,s,m,h),vn(I.$239u,0,0,m,h);var n,F,X,N;if(v&&v.isCSSBorder()?(n=M,F=H):(n=M+T,F=H+e),X=I.getContentWidth(),N=I.getContentHeight(),vn(r,n,F,X,N),q&&(v&&v.isCSSBorder()?wr(q,m-T-U,h-e-R):wr(q,m,h)),S&&wr(S,X,N),u!=P&&I.setBoxShadowStyle(u),j!=P){if(Gr(j)){for(var Y=j.slice(0),w=0;w<Y.length;w++){var O=Y[w];Lk(O)&&(Y[w]=O+wc)}j=Y.join(" ")}else j=Qk(j)+wc;I.$239u.style.borderRadius=j,I._view.style.borderRadius=j,I.$289u&&(I.$289u.style.borderRadius=j),I.fixWebkitBorderOverflow()}else I.$239u.style.borderRadius="",I._view.style.borderRadius="",I.$289u&&(I.$289u.style.borderRadius="")},setBoxShadowStyle:function(w){var P=this.getView();P.style.boxShadow=w},$306u:function(a,w){a.display=w?$g:wm},validate:function(){var b=this;if(b.$112u){delete b.$112u;var u=b.getView(),f=b.getX(),t=b.getY(),o=b.getWidth(),E=b.getHeight();if(o!=P&&E!=P){b.$113u&&(b.layoutDOM(f,t,o,E),b.$113u=P);var A=u.style;if(!tc){var C=b.getCursor();C==P&&(C=""),A.cursor=C}var v=b.getZIndex();A.zIndex=v!=P?v+"":"";var y=b._parent,r=y?y.isChildVisible?y.isChildVisible(b):!0:!0;b.$306u(A,r&&b.isVisible()),b.fireViewEvent("beginValidate"),b.processValidateImpl(),b.fireViewEvent("endValidate"),b.$127u&&b.$127u();var M=b.isDisabled(),Y=b.$289u;M&&!Y&&(Y=b.$289u=Xk(x,!1),Y.className="ht-ui-disabled",Y.setAttribute(q,"ht-disabled"),Y.style.width="100%",Y.style.height="100%"),b.makeDisabled(M,Y),sq(b),delete b.$102u}}},makeDisabled:function(F,j){var W=this;if(F){if(uc(W._view,j),j.style.background=W.getDisabledBackground(),Gl(F)){var D=j.className;D?D.indexOf(F)<0&&(j.className=D+" "+F):j.className=F}}else j&&(Rl(j),W.$289u=P)},validateImpl:function(){},addViewListener:function(L,x,Z){var N=this;N.$107u||(N.$107u=new J.Notifier),N.$107u.add(L,x,Z)},removeViewListener:function(d,z){this.$107u.remove(d,z)},fireViewEvent:function(T){var q=this;q.$107u&&(Gl(T)&&(T={kind:T,source:q}),q.$107u.fire(T)),_.viewListener&&_.viewListener(q,T)},closePopup:function(){var O=this.getContextMenu();O&&O.hide(),this.hidePopover()},getSerializableProperties:function(){return{x:1,y:1,width:1,height:1,border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,margin:1,disabled:1,toolTipEnabled:1,disabledBackground:1,layoutParams:1,zIndex:1,preferredSize:1,minSize:1,maxSize:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,contextMenu:1,"is:redrawOnFocus":1,visible:1,popover:1,popoverTrigger:1,errorMessage:1,errorBorder:1}}});var fn=Aq.prototype;N.ViewContextMenuInteractor=function(A){var x=this;N.ViewContextMenuInteractor.superClass.constructor.call(x,A),x.$336u=x.$338u.bind(x),x.$131u=x.$337u.bind(x)},Mg("ht.ui.ViewContextMenuInteractor",N.Interactor,{addListeners:function(){var b=this,m=b.getView();m.addEventListener("contextmenu",b.$336u)},removeListeners:function(){var V=this,K=V.getView();K.removeEventListener("contextmenu",V.$336u)},$338u:function(x){tc&&(x=Vk(x)),x.preventDefault();var k=this.getComponent().getContextMenu();k.$226u=this.getComponent(),k.show(x),E.addEventListener(tc?"touchstart":"mousedown",this.$131u,!0)},$337u:function(k){var d=this.getComponent().getContextMenu();d.getView().contains(Ig(k))||(d.hide(),d.$226u=P,E.removeEventListener(tc?"touchstart":"mousedown",this.$131u,!0))}});var ym=N.ViewGroup=function(){var m=this;ym.superClass.constructor.call(m),m._children=new J.List};Mg("ht.ui.ViewGroup",Aq,{ui_ac:["overflow","is:autoCloseChildrenPopup"],ui_txy:1,__overflow:"hidden",__autoCloseChildrenPopup:!0,_preferredSizeProps:pq(Je(fn._preferredSizeProps),{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0}),_minSizeProps:pq(Je(fn._minSizeProps),{children:!0,childMinSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0}),_maxSizeProps:pq(Je(fn._maxSizeProps),{children:!0,childMaxSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0}),$284u:pq(Je(fn.$284u),{overflow:!0}),_focusable:!1,__background:N.uiTheme.viewGroupBackground,fixWebkitBorderOverflow:function(){var J,y=this,z=y.getOverflow();"hidden"===z||(J=!1),N.ViewGroup.superClass.fixWebkitBorderOverflow.call(y,J)},layoutDOM:function(Z,j,s,l){var $=this,L=$.getOverflow();N.ViewGroup.superClass.layoutDOM.call($,Z,j,s,l),$.$239u.style.overflow=L,$.$198u.style.overflow=L},closeChildrenPopup:function(m){var x=this;m==P&&(m=x._children);for(var J=m.size(),f=0;J>f;f++){var g=m.get(f);g.closeChildrenPopup&&x.closeChildrenPopup(g._children),g.closePopup()}},onPropertyChanged:function(f){var r=this,v=f.property;!r.isAutoCloseChildrenPopup()||"translateX"!==v&&"translateY"!==v&&v!==uh&&v!==_o||(r.$350u==P?r.closeChildrenPopup():r.$351u==P&&(r.$351u=setTimeout(function(){r.closeChildrenPopup(),delete r.$351u},200)),r.$350u!=P&&(clearTimeout(r.$350u),delete r.$350u),r.$350u=setTimeout(function(){delete r.$350u},1e3)),ym.superClass.onPropertyChanged.call(r,f)},initView:function(r){var B=this;N.ViewGroup.superClass.initView.call(B,r),B.$198u.style.zIndex="0"},getInteractorClasses:function(){return[N.ViewGroupScrollInteractor]},adjustChildHeight:function(j,a){var s=j.getMaxSize(),X=j.getMinSize();return a=h(s.height,a),a=A(X.height,a)},adjustChildWidth:function(f,z){var B=f.getMaxSize(),G=f.getMinSize();return z=h(B.width,z),z=A(G.width,z)},getExpressionValue:function(d,O){for(var A=/(\d+)%/g,R=O,B;null!=(B=A.exec(O));){var T=Qk(B[1]),D=d*T/100;R=R.replace(B[1]+"%",D)}return eval(R)},isSelfViewEvent:function(X){var q=this,b=ym.superClass.isSelfViewEvent.call(q,X);if(!b){var h=Ig(X);(h===q.$40u||h===q.$41u)&&(b=!0)}return b},$308u:function(){var o=this,F=o.$198u,J=o.$40u=Zh(),M=o.$41u=Zh();J.setAttribute(q,"ht-rightMargin"),J.style.top="0",J.style.height=1+wc,J.style.width=1+wc,M.setAttribute(q,"ht-bottomMargin"),M.style.left="0",M.style.width=1+wc,M.style.height=1+wc,F.appendChild(J),F.appendChild(M)},setChildren:function(K){if(K instanceof J.List&&(K=K._as),Gr(K))for(var r=0,d=K.length;d>r;r++)this.addView(K[r])},getChildren:function(){return this._children},getVisibleChildren:function(){var b=this._children,o=new J.List;return b.each(function(p){p.isVisible()&&o.add(p)}),o},getChildLayoutParams:function(q){var H=q.getMarginLeft(),s=q.getMarginRight(),x=q.getMarginTop(),Y=q.getMarginBottom(),n=q.getLayoutParams();if(n){var Z=!1;n.marginLeft==P&&H!=P&&(Z=!0,n=Je(n),n.marginLeft=H),n.marginRight==P&&s!=P&&(Z||(Z=!0,n=Je(n)),n.marginRight=s),n.marginTop==P&&x!=P&&(Z||(Z=!0,n=Je(n)),n.marginTop=x),n.marginBottom==P&&Y!=P&&(Z||(Z=!0,n=Je(n)),n.marginBottom=Y)}else n={},H!=P&&(n.marginLeft=H),s!=P&&(n.marginRight=s),x!=P&&(n.marginTop=x),Y!=P&&(n.marginBottom=Y);return n},addView:function(B,r,A){var J=this;r!=P&&B.setLayoutParams(r),J.$175u(B,A)},clear:function(){var V=this,x=V._children;if(x.size()>0){for(var J=x._as.slice(0),s=0;s<J.length;s++){var O=J[s];O.removePropertyChangeListener(V.$174u,V),O.removeViewListener(V.$173u,V),O.getView().parentNode===V.$198u&&V.$198u.removeChild(O.getView()),x.remove(O),O.setParent(P)}V.fp(Bd,P,x),V.$105u(),V.iv(!0)}},removeView:function(T){var Z=this;if(T&&T._parent===Z){Z.fireViewEvent({kind:"beforeRemoveView",source:Z,child:T});var M=Z._children;T.removePropertyChangeListener(Z.$174u,Z),T.removeViewListener(Z.$173u,Z),T.getView().parentNode===Z.$198u&&Z.$198u.removeChild(T.getView()),M.remove(T),T.setParent(P),Z.fireViewEvent({kind:"removeView",source:Z,child:T}),Z.fp(Bd,P,M),Z.$105u(),Z.iv(!0)}},removeViewAt:function(q){var w=this._children.get(q);this.removeView(w)},findViewById:function(o,Z){return this.$225u(o,this._children,Z)},$225u:function(Z,h,v){if(h)for(var j=0,Y=h.size();Y>j;j++){var E=h.get(j);if(E.getId()===Z)return E;if(v){var e=this.$225u(Z,E._children,v);if(e)return e}}},layoutChild:function(F,E,f,q,l){F._fullscreen||(F.setX($(E)),F.setY($(f)),F.setWidth($(q)),F.setHeight($(l)),this.$102u&&F.iv(!0),F.validate())},getChildAt:function(W){var f=this,G=Ig(W),U=W,F=f._children;G&&(U=f.lp(W));for(var Z=0,P=F.size();P>Z;Z++){var C=F.get(Z);if(be({x:C.getX(),y:C.getY(),width:C.getWidth(),height:C.getHeight()},U))return C}},$174u:function(c){var n=this,T=c.property,C=c.source;T===pd?(n.checkPreferredSize("childVisible"),n.checkMinSize("childVisible"),n.checkMaxSize("childVisible"),n.iv()):T===nd?C.isVisible()&&(n.checkPreferredSize("childPreferredSize"),n.iv()):T===Th?C.isVisible()&&(n.checkMinSize("childMinSize"),n.iv()):T===kh?C.isVisible()&&(n.checkMaxSize("childMaxSize"),n.iv()):T===xq?C.isVisible()&&(n.checkPreferredSize("childStyle"),n.checkMinSize("childStyle"),n.checkMaxSize("childStyle"),n.iv()):T===xb&&C.isVisible()&&(n.checkPreferredSize("childLayoutParams"),n.checkMinSize("childLayoutParams"),n.checkMaxSize("childLayoutParams"),n.iv())},$173u:function(e){var q=this,u=e.kind,j=e.source;if("invalidatePreferredSize"===u){if(j.isVisible()){var V=q.getChildLayoutParams(j);V&&V.width!=P&&V.width!==zb&&V.width!==Ki&&V.height!=P&&V.height!==zb&&V.height!==Ki||(q.checkPreferredSize("childPreferredSize"),q.iv())}}else"invalidateMinSize"===u?j.isVisible()&&(q.checkMinSize("childMinSize"),q.iv()):"invalidateMaxSize"===u&&j.isVisible()&&(q.checkMaxSize("childMaxSize"),q.iv())},$175u:function(i,g){var N=this,n=N._children,D=i._parent;N.fireViewEvent({kind:"beforeAddView",source:N,child:i}),D&&D.removeView(i),n.add(i,g),i.addPropertyChangeListener(N.$174u,N),i.addViewListener(N.$173u,N),N.$198u.appendChild(i.getView()),i.setParent(N),N.fireViewEvent({kind:"addView",source:N,child:i}),N.fp(Bd,P,n),N.$105u(),N.iv(!0)},updateScrollBar:function(L,G,U,F){var h=this;U=X(U),F=X(F),h.$40u||h.$308u(),h.$40u.style.left=U-1+wc,h.$41u.style.top=F-1+wc;var O=h.tx(),V=h.ty();h.$118u={x:-O,y:-V,width:L,height:G},h.$189u=U,h.$188u=F,h.$198u.scrollTop=-V,h.$198u.scrollLeft=-O,h.tx(O),h.ty(V)},getSerializableProperties:function(){var P=ym.superClass.getSerializableProperties.call(this);return pq(P,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,children:1,translateX:1,translateY:1,"is:autoCloseChildrenPopup":1})}});var Id=ym.prototype;N.Popover=function(T){var K=this;N.Popover.superClass.constructor.call(K),K.set(T)},Mg("ht.ui.Popover",N.ViewGroup,{ui_ac:["placements","arrowBackgroundColor"],ms_ac:["contentView","master"],__background:O.popupBackground,__arrowBackgroundColor:O.popupBackground,__borderRadius:O.borderRadius,__boxShadow:"0 1px 8px rgba(0,0,0,0.3)",__padding:10,__placements:["topLeft","top","topRight","rightTop","right","rightBottom","bottomRight","bottom","bottomLeft","leftBottom","left","leftTop"],__border:new N.border.PopoverBorder,setBoxShadowStyle:function(){},onPropertyChanged:function(b){var J=this,y=b.property;N.Popover.superClass.onPropertyChanged.call(J,b),"master"===y&&J.isInDOM()&&J.resetPosition()},$309u:function(l,w){var x=l.x,P=l.y,q=w.width,j=w.height,e=Qo();return x<e.left?!0:P<e.top?!0:x+q>e.left+e.width?!0:P+j>e.top+e.height?!0:void 0},_getBottomPosition:function(S,Q){return{x:S.left+S.width/2-Q.width/2,y:S.top+S.height}},_getBottomLeftPosition:function(V){var X=this;return{x:V.left-X.getBorderLeft(),y:V.top+V.height}},_getBottomRightPosition:function(f,c){var d=this;return{x:f.left+f.width-c.width+d.getBorderRight(),y:f.top+f.height}},_getTopPosition:function(c,m){return{x:c.left+c.width/2-m.width/2,y:c.top-m.height}},_getTopLeftPosition:function(f,q){var X=this;return{x:f.left-X.getBorderLeft(),y:f.top-q.height}},_getTopRightPosition:function(d,R){var K=this;return{x:d.left+d.width-R.width+K.getBorderRight(),y:d.top-R.height}},_getLeftPosition:function(e,h){return{x:e.left-h.width,y:e.top+e.height/2-h.height/2}},_getLeftTopPosition:function(D,Z){var v=this;return{x:D.left-Z.width,y:D.top-v.getBorderTop()}},_getLeftBottomPosition:function(t,K){var w=this;return{x:t.left-K.width,y:t.top+t.height-K.height+w.getBorderBottom()}},_getRightPosition:function(x,C){return{x:x.left+x.width,y:x.top+x.height/2-C.height/2}},_getRightTopPosition:function(v){var g=this;return{x:v.left+v.width,y:v.top-g.getBorderTop()}},_getRightBottomPosition:function(B,t){var M=this;return{x:B.left+B.width,y:B.top+B.height-t.height+M.getBorderBottom()}},getPlacement:function(){return this._placement},resetPosition:function(){var O=this,$=(O.getView(),O.getPlacements()),H=O.getMaster(),k=H instanceof N.View?H.getView().getBoundingClientRect():H,m=O.getPreferredSize();if(H instanceof N.View){var d=_.getWindowInfo();k={left:k.left,top:k.top,width:k.width,height:k.height},k.left+=d.left,k.top+=d.top}else k.x!=P&&k.left==P&&(k.left=k.x),k.y!=P&&k.top==P&&(k.top=k.y);$&&0!==$.length||($=["topLeft","top","topRight","rightTop","right","rightBottom","bottomRight","bottom","bottomLeft","leftBottom","left","leftTop"]);for(var a,Q=0,M=$.length;M>Q;Q++){var F=$[Q],a=O["_get"+F.charAt(0).toUpperCase()+F.slice(1)+"Position"](k,m);if(O._placement=F,!O.$309u(a,m))break}O.setX(a.x),O.setY(a.y)},$305u:function(v,V){return N.Popover.superClass.$305u.call(this,v,V),!1},show:function(){var Y=this,w=Y.getView(),J=Y.getPreferredSize();Y.resetPosition(),Y.setWidth(J.width),Y.setHeight(J.height),w.parentNode||(_.appendToScreen(w),Y.iv(),Y.fireViewEvent({kind:"show"}),Y.fireViewEvent("mounted"))},hide:function(){var g=this;Rl(g.getView()),g.fireViewEvent({kind:"hide"}),g.fireViewEvent("unmounted")},setContentView:function(S,U){var j=this;j.clear(),j.addView(S,U,x,!0),j.setPropertyValue("contentView",S)},addView:function(k,O,F,I){if(!I)throw"Panel: Use setContentView instead of addView.";N.Popover.superClass.addView.call(this,k,O,F)},$4u:function(Y){var a=this,X=a.getContentView(),A={width:a.getPaddingLeft()+a.getPaddingRight()+a.getBorderLeft()+a.getBorderRight(),height:a.getPaddingTop()+a.getPaddingBottom()+a.getBorderTop()+a.getBorderBottom()},V=X[ij(Y+"Size")]();return A.width+=V.width,A.height+=V.height,A.width=w(A.width),A.height=w(A.height),A},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},drawBackground:function(Y,b,H,X,j,y){var R=this;if(b==P){b=R.getContentLeft()-R.getPaddingLeft(),H=R.getContentTop()-R.getPaddingTop();var Q=R.getWidth(),V=R.getHeight(),g=R.getBorderLeft(),E=R.getBorderRight(),L=R.getBorderTop(),i=R.getBorderBottom();X=Q-g-E,j=V-L-i}var l=Qk(R.getBorderRadius()),U=R.getRootContext(y);U.save(),l&&(U.beginPath(),$l(U,b,H,X,j,l,l,l,l),U.clip()),N.Popover.superClass.drawBackground.call(R,Y,b,H,X,j,y),U.restore()},drawBorder:function(p,K,L,z,o,n){N.Popover.superClass.drawBorder.call(this,p,K,L,z,o,n),this.drawBackground(this.getBackgroundDrawable())},validateImpl:function(G,g,K,S){var _=this;N.Popover.superClass.validateImpl.call(_,G,g,K,S);var x=_.getContentView();if(x&&x.isVisible()){var f=_.getChildLayoutParams(x),y=f.marginLeft||0,v=f.marginRight||0,X=f.marginTop||0,c=f.marginBottom||0,t=K-y-v,U=S-X-c;_.layoutChild(x,y,X,t,U)}},getSerializableProperties:function(){var w=N.Popover.superClass.getSerializableProperties.call(this);return delete w.children,pq(w,{contentView:1,placements:1,arrowBackgroundColor:1})}}),N.ErrorMessagePopover=function(S){N.ErrorMessagePopover.superClass.constructor.call(this),S&&S.getView?this.setContentView(S):this.set(S)},Mg("ht.ui.ErrorMessagePopover",N.Popover,{ui_ac:["font",U],__padding:5,__font:O.font,__color:"#fff",__background:"#FF0033",__arrowBackgroundColor:"#FF0033",__border:new N.border.PopoverBorder(1,"#FF0033"),__boxShadow:x,__placements:[Vb]}),N.RelativeLayout=function(l){N.RelativeLayout.superClass.constructor.call(this),this.set(l)},Mg("ht.ui.RelativeLayout",ym,{$32u:["toTopOf","toRightOf","toBottomOf","toLeftOf","alignTopOf","alignRightOf","alignBottomOf","alignLeftOf"],$310u:function(K){for(var v=this.getChildLayoutParams(K),p=this.$32u,u=!1,S=0,R=p.length;R>S;S++)if(v[p[S]]!=P){u=!0;break}return u},figurePreferredSize:function(){for(var h=this,Z=h.getVisibleChildren(),u=Z.size(),V={x:0,y:0,width:0,height:0},b={},N=0;u>N;N++){var R=Z.get(N);if(!h.$310u(R)){var d,f,l=h.getChildLayoutParams(R),s=l.width,y=l.height,i=l.marginLeft||0,n=l.marginRight||0,A=l.marginTop||0,E=l.marginBottom||0,L=l.align||sr,G=l.vAlign||el,B=R.getPreferredSize();d=s===Ki?B.width:s===zb||s==P?B.width:Gl(s)?B.width:s,f=y===Ki?B.height:y===zb||y==P?B.height:Gl(y)?B.height:y;var a=i,C=A,k=d+n,J=f+E;L===$r&&(a=(i+n)/2),G===id&&(C=(A+E)/2);var $={x:a,y:C,width:k,height:J,marginLeft:i,marginRight:n,marginTop:A,marginBottom:E};b[N]=$,V=kd(V,$)}}for(var _=j.keys(b).length;j.keys(b).length<u;){for(var N=0;u>N;N++)if(b[N]==P){var R=Z.get(N);if(h.$310u(R)){var d,f,l=h.getChildLayoutParams(R),s=l.width,y=l.height,i=l.marginLeft||0,n=l.marginRight||0,A=l.marginTop||0,E=l.marginBottom||0,L=l.align||sr,G=l.vAlign||el,B=R.getPreferredSize();d=s===Ki?B.width:s===zb||s==P?B.width:Gl(s)?B.width:s,f=y===Ki?B.height:y===zb||y==P?B.height:Gl(y)?B.height:y;var z,Q,a=i,C=A,k=d+n,J=f+E;if(l.toTopOf){var U=l.toTopOf;if(z=Gl(U)?h.findViewById(U):U,Q=b[Z.indexOf(z)],!Q)continue;C=Q.y-Q.marginTop-f-E}else if(l.toBottomOf){var t=l.toBottomOf;if(z=Gl(t)?h.findViewById(t):t,Q=b[Z.indexOf(z)],!Q)continue;C=Q.y+Q.height+A}else if(l.alignTopOf){var r=l.alignTopOf;if(z=Gl(r)?h.findViewById(r):r,Q=b[Z.indexOf(z)],!Q)continue;C=Q.y+A}else if(l.alignBottomOf){var p=l.alignBottomOf;if(z=Gl(p)?h.findViewById(p):p,Q=b[Z.indexOf(z)],!Q)continue;C=Q.y+Q.height-Q.marginBottom-f-E}else G===id&&(C=(A+E)/2);if(l.toLeftOf){var q=l.toLeftOf;if(z=Gl(q)?h.findViewById(q):q,Q=b[Z.indexOf(z)],!Q)continue;a=Q.x-Q.marginLeft-d-n}else if(l.toRightOf){var Y=l.toRightOf;if(z=Gl(Y)?h.findViewById(Y):Y,Q=b[Z.indexOf(z)],!Q)continue;a=Q.x+Q.width+i}else if(l.alignLeftOf){var x=l.alignLeftOf;if(z=Gl(x)?h.findViewById(x):x,Q=b[Z.indexOf(z)],!Q)continue;a=Q.x+i}else if(l.alignRightOf){var K=l.alignRightOf;if(z=Gl(K)?h.findViewById(K):K,Q=b[Z.indexOf(z)],!Q)continue;a=Q.x+Q.width-Q.marginRight-d-n}else L===$r&&(a=(i+n)/2);var $={x:a,y:C,width:k,height:J,marginLeft:i,marginRight:n,marginTop:A,marginBottom:E};b[N]=$,V=kd(V,$)}}var H=j.keys(b).length;if(H===_)throw new Error("Circular dependencies may exist in RelativeLayout : "+this.getId());_=H}return{width:w(h.getPaddingLeft()+h.getPaddingRight()+h.getBorderLeft()+h.getBorderRight()+V.width),height:w(h.getPaddingTop()+h.getPaddingBottom()+h.getBorderTop()+h.getBorderBottom()+V.height)}},validateImpl:function(f,T,g,U){for(var m=this,I=m.getVisibleChildren(),G=I.size(),w={x:0,y:0,width:g,height:U},Q={},E=0;G>E;E++){var V=I.get(E);if(!m.$310u(V)){var $,x,e=m.getChildLayoutParams(V),c=e.width,d=e.height,r=e.marginLeft||0,b=e.marginRight||0,K=e.marginTop||0,X=e.marginBottom||0,C=e.align||sr,J=e.vAlign||el,O=V.getPreferredSize();$=c===Ki?w.width-r-b:c===zb||c==P?O.width:Gl(c)?m.getExpressionValue(g,c):c,$=m.adjustChildWidth(V,$),x=d===Ki?w.height-K-X:d===zb||d==P?O.height:Gl(d)?m.getExpressionValue(U,d):d,x=m.adjustChildHeight(V,x);var z=r,n=K,L=$+b,Z=x+X;C===$r?z=(w.width-$)/2:C===Vb&&(z=w.width-$-b),J===id?n=(w.height-x)/2:J===eh&&(n=w.height-x-X);var u={x:z,y:n,width:L,height:Z,marginLeft:r,marginRight:b,marginTop:K,marginBottom:X};Q[E]=u,w=kd(w,u),m.layoutChild(V,u.x,u.y,u.width-u.marginRight,u.height-u.marginBottom)}}for(var a=j.keys(Q).length;j.keys(Q).length<G;){for(var E=0;G>E;E++)if(Q[E]==P){var V=I.get(E);if(m.$310u(V)){var $,x,e=m.getChildLayoutParams(V),c=e.width,d=e.height,r=e.marginLeft||0,b=e.marginRight||0,K=e.marginTop||0,X=e.marginBottom||0,C=e.align||sr,J=e.vAlign||el,O=V.getPreferredSize();$=c===Ki?w.width-r-b:c===zb||c==P?O.width:Gl(c)?m.getExpressionValue(g,c):c,$=m.adjustChildWidth(V,$),x=d===Ki?w.height-K-X:d===zb||d==P?O.height:Gl(d)?m.getExpressionValue(U,d):d,x=m.adjustChildHeight(V,x);var M,W,z=r,n=K,L=$+b,Z=x+X;if(e.toTopOf){var R=e.toTopOf;if(M=Gl(R)?m.findViewById(R):R,W=Q[I.indexOf(M)],!W)continue;d===Ki&&(x=W.y-W.marginTop-K-X,x=m.adjustChildHeight(V,x),Z=x+X),n=W.y-W.marginTop-x-X}else if(e.toBottomOf){var l=e.toBottomOf;if(M=Gl(l)?m.findViewById(l):l,W=Q[I.indexOf(M)],!W)continue;d===Ki&&(x=w.height-(W.y+W.height)-K-X,x=m.adjustChildHeight(V,x),Z=x+X),n=W.y+W.height+K}else if(e.alignTopOf){var k=e.alignTopOf;if(M=Gl(k)?m.findViewById(k):k,W=Q[I.indexOf(M)],!W)continue;d===Ki&&(x=w.height-W.y-K-X,x=m.adjustChildHeight(V,x),Z=x+X),n=W.y+K}else if(e.alignBottomOf){var y=e.alignBottomOf;if(M=Gl(y)?m.findViewById(y):y,W=Q[I.indexOf(M)],!W)continue;d===Ki&&(x=W.y+W.height-W.marginBottom-K-X,x=m.adjustChildHeight(V,x),Z=x+X),n=W.y+W.height-W.marginBottom-x-X}else J===id?n=(w.height-x)/2:J===eh&&(n=w.height-x-X);if(e.toLeftOf){var H=e.toLeftOf;if(M=Gl(H)?m.findViewById(H):H,W=Q[I.indexOf(M)],!W)continue;c===Ki&&($=W.x-W.marginLeft-r-b,$=m.adjustChildWidth(V,$),L=$+b),z=W.x-W.marginLeft-$-b}else if(e.toRightOf){var A=e.toRightOf;if(M=Gl(A)?m.findViewById(A):A,W=Q[I.indexOf(M)],!W)continue;c===Ki&&($=w.width-(W.x+W.width)-r-b,$=m.adjustChildWidth(V,$),L=$+b),z=W.x+W.width+r}else if(e.alignLeftOf){var B=e.alignLeftOf;if(M=Gl(B)?m.findViewById(B):B,W=Q[I.indexOf(M)],!W)continue;c===Ki&&($=w.width-W.x-r-b,$=m.adjustChildWidth(V,$),L=$+b),z=W.x+r}else if(e.alignRightOf){var S=e.alignRightOf;if(M=Gl(S)?m.findViewById(S):S,W=Q[I.indexOf(M)],!W)continue;c===Ki&&($=W.x+W.width-W.marginRight-r-b,$=m.adjustChildWidth(V,$),L=$+b),z=W.x+W.width-W.marginRight-$-b}else C===$r?z=(w.width-$)/2:C===Vb&&(z=w.width-$-b);var u={x:z,y:n,width:L,height:Z,marginLeft:r,marginRight:b,marginTop:K,marginBottom:X};Q[E]=u,w=kd(w,u),m.layoutChild(V,u.x,u.y,u.width-u.marginRight,u.height-u.marginBottom)}}var D=j.keys(Q).length;if(D===a)throw new Error("Circular dependencies may exist in RelativeLayout : "+m.getId());a=D}var t=w.width+w.x,_=w.height+w.y;m.updateScrollBar(g,U,t,_)}}),N.TableRow=function(R){var $=this;N.TableRow.superClass.constructor.call($),$._children=new J.List,$.set(R)},Mg("ht.ui.TableRow",j,{ui_ac:["weight"],ms_ac:["id",$c],ms_fire:!0,$208u:{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0,childVisible:!0,"*":!0},__weight:.1,_zoom:1,_styleProps:{preferredHeight:!0,weight:!0,visible:!0},__visible:!0,setPropertyValue:fn.setPropertyValue,getPropertyValue:fn.getPropertyValue,set:fn.set,getPreferredHeightProperties:function(){return this.$208u},getChildren:function(){return this._children},getVisibleChildren:Id.getVisibleChildren,setChildren:Id.setChildren,figurePreferredHeight:function(){for(var r,c=this,b=c.getVisibleChildren(),K=0,o=b.size();o>K;K++){var M=b.get(K),H=c.getChildLayoutParams(M),f=H.height,N=H.marginTop||0,t=H.marginBottom||0,U=H.rowspan||1;if(!(U>1)){var j;j=isNaN(f)?M.getPreferredSize().height:Qk(f),j+=N+t,r=r==P?j:A(r,j)}}return r},isPreferredHeightSet:function(){return!!this.$196u},setVisible:function(_){this.setPropertyValue(pd,_)},isVisible:function(){return this.getPropertyValue(pd)},setPreferredHeight:function(T){this.$196u=T===x?!1:!0,this.setPropertyValue("preferredHeight",T)},getPreferredHeight:function(){if(J.$341u)return this.$196u?this._preferredHeight:x;var m=this,X=m._preferredHeight;return m.isPreferredHeightSet()||X==P&&(X=m.getStyleValue("preferredHeight"),X==P&&(X=m.__preferredHeight,X==P&&(X=m._preferredHeight=m.figurePreferredHeight()))),X},$106u:function(){var Y=this;Y.$199u=P,Y.$200u("*")},closePopup:function(){},closeChildrenPopup:Id.closeChildrenPopup,setParent:fn.setParent,getChildLayoutParams:Id.getChildLayoutParams,addView:Id.addView,clear:function(){for(var T=this,G=T._parent,t=T._children,C=t._as.slice(0),x=0;x<C.length;x++){var _=C[x];G&&(_.removePropertyChangeListener(G.$174u,G),_.removeViewListener(G.$173u,G),_.getView().parentNode===G.$198u&&G.$198u.removeChild(_.getView())),t.remove(_),_.setParent(P),_.$306u=_.$360u,_.$360u=P}T.fp(Bd,P,t),T.$105u(),G&&G.iv(!0)},removeView:function(q){var $=this;if(q&&q._parent===$){var J=$._parent,M=$._children;J&&(q.removePropertyChangeListener(J.$174u,J),q.removeViewListener(J.$173u,J),q.getView().parentNode===J.$198u&&J.$198u.removeChild(q.getView())),M.remove(q),q.$306u=q.$360u,q.$360u=P,q.setParent(P),$.fp(Bd,P,M),$.$105u(),J&&J.iv(!0)}},removeViewAt:Id.removeViewAt,$200u:function(e){var h=this,D=h.getPreferredHeightProperties();h._preferredHeight!==x&&D[e]&&!h.isPreferredHeightSet()&&(h.fireViewEvent("invalidatePreferredHeight"),h._preferredHeight=x)},addViewListener:fn.addViewListener,removeViewListener:fn.removeViewListener,fireViewEvent:fn.fireViewEvent,findViewById:Id.findViewById,$225u:Id.$225u,$105u:fn.$105u,$175u:function(W,H){var z=this,L=z._parent,m=W._parent,T=z._children;m&&m.removeView(W),L&&(W.addPropertyChangeListener(L.$174u,L),W.addViewListener(L.$173u,L),W.getView().parentNode!==L.$198u&&L.$198u.appendChild(W.getView())),W.setParent(z),W.$360u=W.$306u,W.$306u=function(j,T){j.display=T&&z.isVisible()?$g:wm},T.add(W,H),z.fp(Bd,P,T),z.$105u(),L&&L.iv(!0)},getSerializableProperties:function(){return{id:1,preferredHeight:1,weight:1,children:1}}}),N.TableLayout=function(z){var X=this;N.TableLayout.superClass.constructor.call(X),X.$92u={},X.set(z)},Mg("ht.ui.TableLayout",ym,{ui_ac:["columnGap","rowGap"],__padding:16,__rowGap:8,__columnGap:16,_preferredSizeProps:pq(Je(Id._preferredSizeProps),{columnGap:!0,rowGap:!0,columnWidthMap:!0}),figurePreferredSize:function(){for(var a=this,T=a.getColumnSize(),q=0,x=0,k=a.getColumnGap()||0,f=a.getRowGap()||0,p=0;T>p;p++){var c=a.getColumnPreferredWidth(p);q+=c||0,q+=k}q-=k;for(var j=a.getVisibleChildren(),p=0,M=j.size();M>p;p++){var R=j.get(p);x+=R.getPreferredHeight()||0,x+=f}return x-=f,{width:w(a.getPaddingLeft()+a.getPaddingRight()+a.getBorderLeft()+a.getBorderRight()+q),height:w(a.getPaddingTop()+a.getPaddingBottom()+a.getBorderTop()+a.getBorderBottom()+x)}},clear:function(){for(var R=this,B=R._children,q=B._as.slice(0),e=0,h=q.length;h>e;e++){var K=q[e];K.removePropertyChangeListener(R.$174u,R),K.removeViewListener(R.$173u,R);for(var G=K._children,c=0,X=G.size();X>c;c++){var y=G.get(c);y.getView().parentNode===R.$198u&&R.$198u.removeChild(y.getView()),y.removePropertyChangeListener(R.$174u,R),y.removeViewListener(R.$173u,R)}B.remove(K),K.setParent(P)}R.fp(Bd,P,B),R.$105u(),R.iv(!0)},getChildAt:function(V){var u=this,I=Ig(V),j=V,Z=u.getVisibleChildren();I&&(j=u.lp(V));for(var e=0,t=Z.size();t>e;e++)for(var v=Z.get(e),c=v.getVisibleChildren(),p=0,m=c.size();m>p;p++){var x=c.get(p);
if(be({x:x.getX(),y:x.getY(),width:x.getWidth(),height:x.getHeight()},j))return x}},removeView:function(K){var e=this;if(K&&K._parent===e){var T=e._children;T.remove(K),K.removePropertyChangeListener(e.$174u,e),K.removeViewListener(e.$173u,e),K.setParent(P);for(var O=K._children,Z=0,g=O.size();g>Z;Z++){var q=O.get(Z);q.getView().parentNode===e.$198u&&e.$198u.removeChild(q.getView()),q.removePropertyChangeListener(e.$174u,e),q.removeViewListener(e.$173u,e)}e.fp(Bd,P,T),e.$105u(),e.iv(!0)}},$175u:function(F,Q){var u=this,o=F._parent,M=u._children;o&&o.removeView(F),M.add(F,Q),F.addPropertyChangeListener(u.$174u,u),F.addViewListener(u.$173u,u);for(var c=F._children,L=0,v=c.size();v>L;L++){var m=c.get(L);u.$198u.appendChild(m.getView()),m.addPropertyChangeListener(u.$174u,u),m.addViewListener(u.$173u,u)}F.setParent(u),u.fp(Bd,P,M),u.$105u(),u.iv(!0)},$174u:function(i){var S=this,E=i.property,a=i.source,l=a&&a.isVisible();if(a instanceof N.TableRow&&S.getChildren().contains(a))E===pd?(S.$290u(),S.checkPreferredSize("childVisible"),S.checkMinSize("childVisible"),S.checkMaxSize("childVisible"),S.iv()):l&&("preferredHeight"===E||"weight"===E?(S.checkPreferredSize("childPreferredSize"),S.iv()):E===xq?(a.$106u(),a.$105u(),S.iv(!0)):(a.$200u(E),E!==$c&&S.iv()));else if(E===pd){var q=a._parent;S.$290u(),q.$200u("childVisible"),S.checkMinSize("childVisible"),S.checkMaxSize("childVisible"),S.iv()}else if(l)if(E===nd){var q=a._parent,Y=S.getChildLayoutParams(a);Y&&Y.height!=P&&Y.height!==zb&&Y.height!==Ki||q.$200u("childPreferredSize"),Y&&Y.width!=P&&Y.width!==zb&&Y.width!==Ki||(S.$290u(),S.iv())}else if(E===Th)S.checkMinSize("childMinSize"),S.iv();else if(E===kh)S.checkMaxSize("childMaxSize"),S.iv();else if(E===xb){var q=a._parent;S.$290u(),q.$200u("childLayoutParams"),S.checkMinSize("childLayoutParams"),S.checkMaxSize("childLayoutParams"),S.iv()}else if(E===xq){var q=a._parent;S.$290u(),q.$200u("childStyle"),S.checkMinSize("childStyle"),S.checkMaxSize("childStyle"),S.iv()}},$173u:function(J){var e=this,d=J.kind,i=J.source;if(i instanceof N.TableRow&&e.getChildren().contains(i))i.isVisible()&&"invalidatePreferredHeight"===d&&(e.checkPreferredSize("childPreferredSize"),e.iv());else if("invalidatePreferredSize"===d){if(i.isVisible()){var w=i._parent;w.$200u("childPreferredSize")}}else"invalidateMinSize"===d?i.isVisible()&&(e.checkMinSize("childMinSize"),e.iv()):"invalidateMaxSize"===d&&i.isVisible()&&(e.checkMaxSize("childMaxSize"),e.iv())},$290u:function(){var Y=this,e=Y.$92u;for(var r in e){var G=e[r].prefWidthSet,V=e[r].weightSet;G||V?G?V||delete e[r].weight:delete e[r].preferredWidth:delete e[r]}},$106u:function(){var i=this;i.$290u(),N.TableLayout.superClass.$106u.call(i)},setColumnWidthMap:function(F){var s=this,D=s.$92u;s.$92u=F,s.firePropertyChange("columnWidthMap",D,F)},getColumnWidthMap:function(){return this.$92u},setColumnPreferredWidth:function(D,M){var _=this,k=_.$92u[D];k||(k=_.$92u[D]={}),k.prefWidthSet=M===x?!1:!0,k.preferredWidth=M,_.firePropertyChange("columnWidthMap",P,_.$92u)},setColumnWeight:function(z,W){var Z=this,U=Z.$92u[z];U||(U=Z.$92u[z]={}),U.weightSet=W===x?!1:!0,U.weight=W,Z.firePropertyChange("columnWidthMap",P,Z.$92u)},$99u:function(O){for(var Z,s=this,H={},U=0,z=s.getVisibleChildren(),K=0,k=z.size();k>K;K++){for(var w=z.get(K),W=w.getVisibleChildren(),M=-1,u=0,y=W.size();y>u;u++){M++;var i=W.get(u);if(i){for(var g=s.getChildLayoutParams(i),E=g.colspan||1,m=g.rowspan||1;H[U]&&H[U].indexOf(M)>=0;)M++;if(1===E){if(M===O){var C,D=g.marginLeft||0,I=g.marginRight||0,p=g.width;C=isNaN(p)?i.getPreferredSize().width:Qk(p),C+=D+I,Z=Z==P?C:A(Z,C)}}else M+=E-1;for(var G=1;m>G;G++){H[U+G]||(H[U+G]=[]);for(var c=0;E>c;c++)H[U+G].indexOf(M+c)<0&&H[U+G].push(M+c)}}}U++}return Z},getColumnPreferredWidth:function(t){var M=this,X=M.$92u[t];X==P&&(X=M.$92u[t]={});var V=X.preferredWidth;return X.prefWidthSet||V==P&&(V=X.preferredWidth=M.$99u(t)),V},getColumnWeight:function(a){var C=this,L=C.$92u[a];L==P&&(L=C.$92u[a]={});var c=L.weight;return L.weightSet||c==P&&(c=L.weight=.1),c},getColumnSize:function(){for(var m=this.getVisibleChildren(),z=0,E=0,k=m.size();k>E;E++){for(var n=m.get(E),K=n.getVisibleChildren(),g=0,B=0,u=K.size();u>B;B++){var e=K.get(B);if(e){var W=this.getChildLayoutParams(e),V=W.colspan||1;g+=V}}z=A(g,z)}return z},validateImpl:function(j,q,g,y){for(var A=this,Q=(A.$198u,A.getColumnGap()||0),m=A.getRowGap()||0,u=A.getVisibleChildren(),z=0,c=0,r=y,K=g,n=A.getColumnSize(),i=u.size(),M=[],B=[],C=A._children,V=C.size(),Y=0;V>Y;Y++){var d=C.get(Y),w=d._children,$=w.size();if(u.contains(d))for(var X=0;$>X;X++){var s=w.get(X);s.isVisible()&&(s.getView().style.display=$g)}else for(var X=0;$>X;X++){var s=w.get(X);s.getView().style.display=wm}}for(var Y=0;i>Y;Y++){var I=u.get(Y),L=I.getPreferredHeight(),U=I.getWeight();i-1>Y&&(r-=m),L!=P&&(r-=L),U!=P&&(z+=U)}for(var Y=0;n>Y;Y++){var x=A.getColumnPreferredWidth(Y),b=A.getColumnWeight(Y);n-1>Y&&(K-=Q),x!=P&&(K-=x),b!=P&&(c+=b)}0>r&&(r=0),0>K&&(K=0);for(var X=0;i>X;X++){var I=u.get(X),L=I.getPreferredHeight(),U=I.getWeight();L==P&&(L=0),U!=P&&U>0&&(L+=U*r/z),B.push(L)}for(var X=0;n>X;X++){var x=A.getColumnPreferredWidth(X),b=A.getColumnWeight(X);x==P&&(x=0),b!=P&&b>0&&(x+=b*K/c),M.push(x)}for(var S={},D=0,F=0,Y=0;i>Y;Y++){for(var I=u.get(Y),v=I.getVisibleChildren(),o=-1,X=0,k=v.size();k>X;X++){var t=v.get(X);for(o++;S[D]&&S[D].indexOf(o)>=0;)o++;if(t){var T=A.getChildLayoutParams(t),N=T.colspan||1,p=T.rowspan||1,H=T.marginTop||0,f=T.marginRight||0,O=T.marginBottom||0,G=T.marginLeft||0,l=T.align,J=T.vAlign,R=T.width,W=T.height;R=R==P?Ki:R,W=W==P?Ki:W;for(var e,a,Z=0,E=0,_=0,Fk=0,Wc=0,Aj=0;o>Aj;Aj++)Wc+=M[Aj],Wc+=Q;for(var Aj=0;N>Aj;Aj++)_+=M[o+Aj],Aj>0&&(_+=Q);for(var Aj=0;p>Aj;Aj++)Fk+=B[D+Aj],Aj>0&&(Fk+=m);_-=G+f,Fk-=H+O;var jb=t.getPreferredSize(),_e=t.getMaxSize();Z=R===zb?jb.width:R===Ki?_:R,Z=h(Z,_e.width),Z=h(Z,_),e=Wc,_>Z&&(l===$r?e=Wc+_/2-Z/2:l===Vb&&(e=Wc+_-Z)),E=W===zb?jb.height:W===Ki?Fk:W,E=h(E,_e.height),E=h(E,Fk),a=F,Fk>E&&(J===id?a=F+Fk/2-E/2:J===eh&&(a=F+Fk-E)),e+=G,a+=H,A.layoutChild(t,e,a,Z,E)}for(var Aj=1;p>Aj;Aj++){S[D+Aj]||(S[D+Aj]=[]);for(var Nn=0;N>Nn;Nn++)S[D+Aj].indexOf(o+Nn)<0&&S[D+Aj].push(o+Nn)}o+=N-1}F+=B[D]+m,D++}var gr=0,cs=0,Ap=!0;M.forEach(function(v){gr+=v,Ap?Ap=!1:gr+=Q}),Ap=!0,B.forEach(function(G){cs+=G,Ap?Ap=!1:cs+=m}),A.updateScrollBar(g,y,gr,cs)},getSerializableProperties:function(){var e=N.TableLayout.superClass.getSerializableProperties.call(this);return pq(e,{columnGap:1,rowGap:1,columnWidthMap:1})}}),N.ViewGroupScrollInteractor=function(P){this._view=P},Mg("ht.ui.ViewGroupScrollInteractor",j,{ms_listener:1,getView:function(){return this._view.$239u},clear:function(){var k=this;k._state=k.$44u=k.$45u=k.$46u=k._view._scrolling=k.$362=P},handle_mousedown:function(w){this.handle_touchstart(w)},handle_touchstart:function(Y){var E=this,k=E._view;if(k.isSelfViewEvent(Y)&&(fm(Y),k.requestFocus()),!Y.$146u){var r=k.isCloseToVScrollBar(Y),C=k.isCloseToHScrollBar(Y),F=$q(Y);r||C?(r?E._state="vScroll":C&&(E._state="hScroll"),E.$44u=F,E.$45u=k.tx(),E.$46u=k.ty(),Qd(E,Y),Y.$146u=!0,k._scrolling=!0,k.showScrollBar(),tc&&(E.$362=Y.$362)):tc&&(E.$362=Y.$362,(k.isVScrollable()||k.isHScrollable())&&(E.$44u=F,E.$45u=k.tx(),E.$46u=k.ty()))}},handleWindowMouseUp:function(p){this.clear(p)},handleWindowTouchEnd:function(H){this.clear(H)},handle_mouseup:function(N){this.handle_touchend(N)},handle_touchend:function(u){var d=this;d.clear(u)},handleWindowMouseMove:function(o){this.handleWindowTouchMove(o)},handleWindowTouchMove:function(q){if(!q.$146u){var F=this,Q=F._view,T=F._state,$=F.$45u,X=F.$46u,N=F.$44u,w=$q(q),B=Q.getZoom(),i=Q.$118u;if("vScroll"===T?Q.setTranslateY(X+(N.y-w.y)/B*Q.$188u/i.height):"hScroll"===T?Q.setTranslateX($+(N.x-w.x)/B*Q.$189u/i.width):"p"===T&&Q.setTranslate($+(w.x-N.x)/B,X+(w.y-N.y)/B),tc&&F.$362&&F.$362.length>0)for(var l=F.$362.slice(0),J=0,n=l.length;n>J;J++)l[J].clearTouchState(),F.$362.splice(J,1);q.$146u=!0}},handle_mousemove:function(r){if(!r.$146u&&!Gq()&&gp(r)){var m=this,i=m._view,z=i.isCloseToVScrollBar(r),D=i.isCloseToHScrollBar(r);(z||D)&&i.showScrollBar()}},handle_touchmove:function(E){var F=Gq();if(!(E.$146u||F&&(this.$362||[]).indexOf(F)<0)&&gp(E)){var m=this,n=m.$44u;if(n){var h=$q(E);if(Bp(h,n)<An)return;m._state||(E.$146u=!0,m._view.scrolling=!0,m._state="p",Qd(m,E,!1),m._view.showScrollBar())}}},handle_wheel:function(e){var s=e.deltaX,h=e.deltaY;I(s)>I(h)?this.handleScroll(e,-s,!1):this.handleScroll(e,-h,!0)},handleScroll:function(U,d,w){if(U.preventDefault(),!U.$146u){var k=this._view,A=k.$118u,n=k.getScrollRect();k.showScrollBar(),w&&k.isVScrollable()?d>0?A.y<=0||(k.translate(0,d),U.$146u=!0):0>d&&(n.height-A.height<=A.y||(k.translate(0,d),U.$146u=!0)):k.isHScrollable()&&(d>0?A.x<=0||(k.translate(d,0),U.$146u=!0):0>d&&(n.width-A.width<=A.x||(k.translate(d,0),U.$146u=!0)))}}}),N.BorderLayout=function(R){N.BorderLayout.superClass.constructor.call(this),this.set(R)},Mg("ht.ui.BorderLayout",ym,{ui_ac:["drawable:splitter","drawable:hoverSplitter","drawable:activeSplitter","splitterVisible","splitterSize","splitterHitSize","resizable","resizeHintBackground","drawable:toggle","drawable:hoverToggle","drawable:activeToggle","is:useSplitterStateForToggle","toggleVisible","toggleSize","togglePosition","leftWidth","rightWidth","topHeight","bottomHeight","leftExpanded","rightExpanded","topExpanded","bottomExpanded","is:continuous"],ms_ac:["currentSplitter","currentSplitterState","currentToggle","currentToggleState"],_preferredSizeProps:pq(Je(Id._preferredSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),_minSizeProps:pq(Je(Id._minSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),__resizable:!0,__splitterVisible:!0,__toggleVisible:!0,__togglePosition:.5,__toggle:["ht.ui.drawable.ImageDrawable","ui_borderlayoutToggle","fill"],__splitterSize:9,__splitterHitSize:9,__toggleSize:40,__resizeHintBackground:"rgba(0,0,0,0.3)",getInteractorClasses:function(){return[N.BorderLayoutInteractor].concat(N.BorderLayout.superClass.getInteractorClasses.call(this))},initView:function(){var D=this;N.BorderLayout.superClass.initView.call(D);var P=D.$198u,f=D.$239u,T=D.$365;P.style.zIndex="0";var u=D.$6u=Se();u.style.pointerEvents="",u.setAttribute(q,"ht-topSplitter"),T?f.insertBefore(u,T):f.appendChild(u);var j=D.$8u=Se();j.style.pointerEvents="",j.setAttribute(q,"ht-bottomSplitter"),T?f.insertBefore(j,T):f.appendChild(j);var o=D.$9u=Se();o.style.pointerEvents="",o.setAttribute(q,"ht-leftSplitter"),T?f.insertBefore(o,T):f.appendChild(o);var _=D.$7u=Se();_.style.pointerEvents="",_.setAttribute(q,"ht-rightSplitter"),T?f.insertBefore(_,T):f.appendChild(_)},isSelfViewEvent:function(U){var t=this,p=N.BorderLayout.superClass.isSelfViewEvent.call(t,U);if(!p){var W=Ig(U);(W===t.$6u||W===t.$8u||W===t.$9u||W===t.$7u)&&(p=!0)}return p},getCursor:function(){var u=this,d=u.getPropertyValue("cursor"),M=u.getCurrentSplitter(),T=u.getCurrentToggle();if(T)d=R;else if(M){var J=u[ij(M+"Resizable")](),z=u[ij(M+"Expanded")]();J&&z&&(d=M===sr||M===Vb?k:g)}return d},getLeftView:function(){return this.getChildByRegion(sr)},getRightView:function(){return this.getChildByRegion(Vb)},getTopView:function(){return this.getChildByRegion(el)},getBottomView:function(){return this.getChildByRegion(eh)},getCenterView:function(){return this.getChildByRegion($r)},setCenterView:function(z,$){var j=this;j.removeView(j.getCenterView()),$||($=z.getLayoutParams()||{}),$.region="center",j.addView(z,$)},setLeftView:function(I,Y){var L=this;L.removeView(L.getLeftView()),Y||(Y=I.getLayoutParams()||{}),Y.region="left",L.addView(I,Y)},setRightView:function(H,G){var Z=this;Z.removeView(Z.getRightView()),G||(G=H.getLayoutParams()||{}),G.region="right",Z.addView(H,G)},setTopView:function(f,g){var X=this;X.removeView(X.getTopView()),g||(g=f.getLayoutParams()||{}),g.region="top",X.addView(f,g)},setBottomView:function(k,d){var $=this;$.removeView($.getBottomView()),d||(d=k.getLayoutParams()||{}),d.region="bottom",$.addView(k,d)},getLeftSplitterSize:function(){var g=this.getSplitterSize();return Gr(g)?g[3]:g},getRightSplitterSize:function(){var _=this.getSplitterSize();return Gr(_)?_[1]:_},getTopSplitterSize:function(){var f=this.getSplitterSize();return Gr(f)?f[0]:f},getBottomSplitterSize:function(){var $=this.getSplitterSize();return Gr($)?$[2]:$},getCurrentSplitterDrawable:function(P){var m=this,L=m.getCurrentSplitter(),A=m.getSplitterDrawable(),n=m.getCurrentSplitterState();return L===P?n===Yh?m.getHoverSplitterDrawable()||A:m.getActiveSplitterDrawable()||A:A},getCurrentToggleDrawable:function(o){var A=this,V=A.isUseSplitterStateForToggle(),B=A.getToggleDrawable(),P=A.getCurrentToggle(),N=A.getCurrentToggleState();return!P&&V&&(P=A.getCurrentSplitter(),N=A.getCurrentSplitterState()),P===o?N===Yh?A.getHoverToggleDrawable()||B:A.getActiveToggleDrawable()||B:B},getLeftSplitterHitSize:function(){var w=this.getSplitterHitSize();return Gr(w)?w[3]:w},getRightSplitterHitSize:function(){var o=this.getSplitterHitSize();return Gr(o)?o[1]:o},getTopSplitterHitSize:function(){var _=this.getSplitterHitSize();return Gr(_)?_[0]:_},getBottomSplitterHitSize:function(){var Q=this.getSplitterHitSize();return Gr(Q)?Q[2]:Q},getLeftToggleSize:function(){var C=this.getToggleSize();return Gr(C)?C[3]:C},getRightToggleSize:function(){var G=this.getToggleSize();return Gr(G)?G[1]:G},getTopToggleSize:function(){var K=this.getToggleSize();return Gr(K)?K[0]:K},getBottomToggleSize:function(){var c=this.getToggleSize();return Gr(c)?c[2]:c},getLeftTogglePosition:function(){var K=this.getTogglePosition();return Gr(K)?K[3]:K},getRightTogglePosition:function(){var U=this.getTogglePosition();return Gr(U)?U[1]:U},getTopTogglePosition:function(){var d=this.getTogglePosition();return Gr(d)?d[0]:d},getBottomTogglePosition:function(){var z=this.getTogglePosition();return Gr(z)?z[2]:z},$1u:function(o){var V=this,w=V["_"+o+"Expanded"];if(w!=P)return w;var B=V[ij(o+"View")]();if(B&&B.isVisible()){var I=V.getChildLayoutParams(B);return w=I&&I.expanded!=P?I.expanded:!0,V["_"+o+"Expanded"]=w,w}},isLeftExpanded:function(){return this.$1u(sr)},isRightExpanded:function(){return this.$1u(Vb)},isTopExpanded:function(){return this.$1u(el)},isBottomExpanded:function(){return this.$1u(eh)},getLeftWidth:function(){if(J.$341u)return this._leftWidth;var l=this,Q=l.getPropertyValue("leftWidth");return Q==P&&(Q=l.$2u(sr)),Q},getRightWidth:function(){if(J.$341u)return this._rightWidth;var D=this,T=D.getPropertyValue("rightWidth");return T==P&&(T=D.$2u(Vb)),T},getTopHeight:function(){if(J.$341u)return this._topHeight;var u=this,F=u.getPropertyValue("topHeight");return F==P&&(F=u.$3u(el)),F},getBottomHeight:function(){if(J.$341u)return this._bottomHeight;var x=this,m=x.getPropertyValue("bottomHeight");return m==P&&(m=x.$3u(eh)),m},$2u:function(H){var j,z=this,A=z[ij(H+"View")]();if(A&&A.isVisible()){var $=z.getChildLayoutParams(A);return j=$&&$.width!=P&&$.width!==Ki&&$.width!==zb?$.width:A.getPreferredSize().width,$&&$.marginLeft&&(j+=$.marginLeft),$&&$.marginRight&&(j+=$.marginRight),j}},$3u:function(h){var e,Q=this,L=Q[ij(h+"View")]();if(L&&L.isVisible()){var n=Q.getChildLayoutParams(L);return e=n&&n.height!=P&&n.height!==Ki&&n.height!==zb?n.height:L.getPreferredSize().height,n&&n.marginTop&&(e+=n.marginTop),n&&n.marginBottom&&(e+=n.marginBottom),e}},isLeftSplitterVisible:function(){var v=this.isSplitterVisible();return Gr(v)?v[3]:v},isRightSplitterVisible:function(){var m=this.isSplitterVisible();return Gr(m)?m[1]:m},isTopSplitterVisible:function(){var n=this.isSplitterVisible();return Gr(n)?n[0]:n},isBottomSplitterVisible:function(){var f=this.isSplitterVisible();return Gr(f)?f[2]:f},isLeftToggleVisible:function(){var I=this.isToggleVisible();return Gr(I)?I[3]:I},isRightToggleVisible:function(){var g=this.isToggleVisible();return Gr(g)?g[1]:g},isTopToggleVisible:function(){var f=this.isToggleVisible();return Gr(f)?f[0]:f},isBottomToggleVisible:function(){var t=this.isToggleVisible();return Gr(t)?t[2]:t},isLeftResizable:function(){var h=this.isResizable();return Gr(h)?h[3]:h},isRightResizable:function(){var U=this.isResizable();return Gr(U)?U[1]:U},isTopResizable:function(){var n=this.isResizable();return Gr(n)?n[0]:n},isBottomResizable:function(){var M=this.isResizable();return Gr(M)?M[2]:M},getChildByRegion:function(E){for(var B=this,O=B._children,J=0,V=O.size();V>J;J++){var L=O.get(J);if(B.getChildLayoutParams(L).region===E)return L}},$4u:function(y){var l,L,G,R,p,d,g,e,q,f,Y=this,k=Y.getLeftView(),F=Y.getRightView(),$=Y.getTopView(),C=Y.getBottomView(),N=Y.getCenterView(),s=N?Y.getChildLayoutParams(N):{},z=s.marginLeft||0,c=s.marginTop||0,S=s.marginRight||0,j=s.marginBottom||0,B=k?Y.getChildLayoutParams(k):{},V=B.marginLeft||0,O=B.marginTop||0,U=B.marginRight||0,J=B.marginBottom||0,r=Y.isLeftExpanded(),M=F?Y.getChildLayoutParams(F):{},E=M.marginLeft||0,a=M.marginTop||0,_=M.marginRight||0,T=M.marginBottom||0,W=Y.isRightExpanded(),H=$?Y.getChildLayoutParams($):{},I=H.marginLeft||0,o=H.marginTop||0,X=H.marginRight||0,b=H.marginBottom||0,m=Y.isTopExpanded(),K=C?Y.getChildLayoutParams(C):{},Z=K.marginLeft||0,u=K.marginTop||0,x=K.marginRight||0,i=K.marginBottom||0,v=Y.isBottomExpanded(),D=function(R,Z,r,o,A){var i,t=Je(R[ij(y+"Size")]());return i&&i.width!=P&&i.width!==Ki&&i.width!==zb&&(t.width=B.width),i&&i.height!==P&&i.height!==Ki&&i.height!==zb&&(t.height=i.height),t.width+=A+r,t.height+=Z+o,t};if(k&&k.isVisible()?(r?(l=Y.getLeftWidth(),L=D(k,O,U,J,V).height):(l=0,L=0),l+=Y.isLeftSplitterVisible()?Y.getLeftSplitterSize():0):(l=0,L=0),F&&F.isVisible()?(W?(G=Y.getRightWidth(),R=D(F,a,_,T,E).height):G=R=0,G+=Y.isRightSplitterVisible()?Y.getRightSplitterSize():0):G=R=0,$&&$.isVisible()?(m?(d=Y.getTopHeight(),p=D($,o,X,b,I).width):p=d=0,d+=Y.isTopSplitterVisible()?Y.getTopSplitterSize():0):p=d=0,C&&C.isVisible()?(v?(e=Y.getBottomHeight(),g=D(C,u,x,i,Z).width):g=e=0,e+=Y.isBottomSplitterVisible()?Y.getBottomSplitterSize():0):g=e=0,N&&N.isVisible()){var t=D(N,c,S,j,z);q=t.width,f=t.height}else q=f=0;f=A(f,L),f=A(f,R);var n={width:l+G+q,height:d+f+e};return n.width=A(n.width,p),n.width=A(n.width,g),n.width+=Y.getBorderLeft()+Y.getBorderRight()+Y.getPaddingLeft()+Y.getPaddingRight(),n.height+=Y.getBorderTop()+Y.getBorderBottom()+Y.getPaddingTop()+Y.getPaddingBottom(),n.width=w(n.width),n.height=w(n.height),n},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},hasContentCanvas:function(){return!0},getToggleAt:function(N){var m,f=this;m=N instanceof Event?f.lp(N):N;for(var I=[sr,Vb,el,eh],H=0,X=I.length;X>H;H++){var q=I[H],o=f["_"+q+"ToggleRect"];if(o&&(o={x:o.x,y:o.y,width:o.width-1,height:o.height-1},o&&be(o,m)))return q}},getSplitterAt:function(O){var W,I=this;W=O instanceof Event?I.lp(O):O;for(var x=[sr,Vb,el,eh],e=0,d=x.length;d>e;e++){var g=x[e],w=I["_"+g+"SplitterRect"];if(w&&(w={x:w.x,y:w.y,width:w.width-1,height:w.height-1},w&&be(w,W)))return g}},getSplitterCanvas:function(C){return C===sr?this.$9u:C===el?this.$6u:C===eh?this.$8u:C===Vb?this.$7u:void 0},drawSplitter:function(s,Q,V,O,L,F){s&&s.draw(Q,V,O,L,F,this,this.getSplitterCanvas(F))},drawToggle:function(n,T,M,s,o,j){if(n){var I=this,l=I.getSplitterCanvas(j),c=I.getRootContext(l),L=s/2,y=o/2,A=T+L,Q=M+y;c.save(),j===el?(c.translate(A,Q),I.isTopExpanded()||c.rotate(W),n.draw(-L,-y,s,o,P,I,l)):j===sr?(c.translate(A,Q),I.isLeftExpanded()?c.rotate(-W/2):c.rotate(W/2),n.draw(-y,-L,o,s,P,I,l)):j===Vb?(c.translate(A,Q),I.isRightExpanded()?c.rotate(W/2):c.rotate(-W/2),n.draw(-y,-L,o,s,P,I,l)):j===eh&&(c.translate(A,Q),I.isBottomExpanded()&&c.rotate(W),n.draw(-L,-y,s,o,P,I,l)),c.restore()}},$5u:function(J,M,w,V){var k,L,Y,b,g=sr,G=el,f=0,p=0,B=0,e=0;return M&&(k=M.width,L=M.height,g=M.align||sr,G=M.vAlign||Vb,f=M.marginLeft||0,p=M.marginRight||0,B=M.marginTop||0,e=M.marginBottom||0),k=k==P?Ki:k,L=L==P?Ki:L,k===Ki?(k=w,k-=f+p):k===zb&&(k=J.getPreferredSize().width),k=this.adjustChildWidth(J,k),L===Ki?(L=V,L-=B+e):L===zb&&(L=J.getPreferredSize().height),L=this.adjustChildHeight(J,L),Y=g===$r?(w-k)/2:g===Vb?w-p-k:f,b=G===id?(V-L)/2:G===eh?V-e-L:B,{x:Y,y:b,width:k,height:L}},layoutSplitterCanvas:function(r,U,H,b,g){r.style.display=$g;var E=this.getZoom();wr(r,b*E,g*E),r.style.left=this.getContentLeft()+this.tx()+U+wc,r.style.top=this.getContentTop()+this.ty()+H+wc},validateImpl:function(R,L,y,Q){var D,S,B,l,C,F,c,i,g,q=this,e=q.getLeftWidth(),x=q.getRightWidth(),z=q.getTopHeight(),U=q.getBottomHeight(),T=q.getMinSize(),O=T.width>q.getWidth(),b=T.height>q.getHeight(),a=q.getChildByRegion(sr),M=a&&a.isVisible(),Y=q.getChildByRegion(Vb),v=Y&&Y.isVisible(),n=q.getChildByRegion(el),G=n&&n.isVisible(),r=q.getChildByRegion(eh),I=r&&r.isVisible(),w=q.getChildByRegion($r),h=w&&w.isVisible(),N=q.isLeftSplitterVisible(),$=q.isRightSplitterVisible(),V=q.isTopSplitterVisible(),k=q.isBottomSplitterVisible(),E=N?q.getLeftSplitterSize():0,Z=$?q.getRightSplitterSize():0,u=V?q.getTopSplitterSize():0,f=k?q.getBottomSplitterSize():0,t=N?q.getLeftSplitterHitSize():0,J=$?q.getRightSplitterHitSize():0,m=V?q.getTopSplitterHitSize():0,o=k?q.getBottomSplitterHitSize():0,p=q.getLeftToggleSize(),X=q.getRightToggleSize(),_=q.getTopToggleSize(),H=q.getBottomToggleSize(),d=q.getLeftTogglePosition(),A=q.getRightTogglePosition(),W=q.getTopTogglePosition(),s=q.getBottomTogglePosition(),j=q.$9u,K=q.$7u,tq=q.$6u,Uc=q.$8u,Pf=O?T.width-q.getBorderLeft()-q.getBorderRight()-q.getPaddingLeft()-q.getPaddingRight():y,Id=b?T.height-q.getBorderTop()-q.getBorderBottom()-q.getPaddingTop()-q.getPaddingBottom():Q,Kb=0,ln=0,Gd=Pf,$e=Id,Ym=0,Lr=0,mm=0,vh=0;G&&(D=q.getChildLayoutParams(n),F=q.isTopExpanded(),F?(Ym=z,ln=Ym+u):(Ym=0,ln=u)),I&&(S=q.getChildLayoutParams(r),c=q.isBottomExpanded(),c?(Lr=U,$e=Id-Lr-f):(Lr=0,$e=Id-f)),M&&(B=q.getChildLayoutParams(a),i=q.isLeftExpanded(),i?(mm=e,Kb=mm+E):(mm=0,Kb=E)),v&&(l=q.getChildLayoutParams(Y),g=q.isRightExpanded(),g?(vh=x,Gd=Pf-vh-Z):(vh=0,Gd=Pf-Z));var zq=Gd-Kb,Am=$e-ln;if(h&&(C=q.getChildLayoutParams(w)),q._topSplitterRect=P,q._topToggleRect=P,tq.style.display=wm,G){var Lp=q.$5u(n,D,Pf,Ym);if(F||(Lp.height=0),q.layoutChild(n,Lp.x,Lp.y,Lp.width,Lp.height),V){var aq=(m-u)/2,qd=q._topSplitterRect={x:0,y:Ym-aq,width:Pf,height:m};q.layoutSplitterCanvas(tq,qd.x,qd.y,qd.width,qd.height,el),q.drawSplitter(q.getCurrentSplitterDrawable(el),0,aq,qd.width,u,el);var Ak=q.getCurrentToggleDrawable(el);if(Ak&&q.isTopToggleVisible()){var qd=q._topToggleRect={x:0,y:Ym-aq,width:_,height:m};qd.x=0>W?Pf-_+W:W>0&&1>W?Pf*W-_/2:W,q.drawToggle(Ak,qd.x,aq,qd.width,u,el)}tq.$93u&&(tq.$93u.restore(),tq.$93u=P)}}if(q._bottomSplitterRect=P,q._bottomToggleRect=P,Uc.style.display=wm,I){var Lp=q.$5u(r,S,Pf,Lr);if(c||(Lp.height=0),q.layoutChild(r,Lp.x,Lp.y+$e+f,Lp.width,Lp.height),k){var aq=(o-f)/2,qd=q._bottomSplitterRect={x:0,y:$e-aq,width:Pf,height:o};q.layoutSplitterCanvas(Uc,qd.x,qd.y,qd.width,qd.height,eh),q.drawSplitter(q.getCurrentSplitterDrawable(eh),0,aq,qd.width,f,eh);var Ro=q.getCurrentToggleDrawable(eh);if(Ro&&q.isBottomToggleVisible()){var qd=q._bottomToggleRect={x:0,y:$e-aq,width:H,height:o};qd.x=0>s?Pf-H+s:s>0&&1>s?Pf*s-H/2:s,q.drawToggle(Ro,qd.x,aq,qd.width,f,eh)}Uc.$93u&&(Uc.$93u.restore(),Uc.$93u=P)}}if(q._leftSplitterRect=P,q._leftToggleRect=P,j.style.display=wm,M){var Lp=q.$5u(a,B,mm,Am);if(i||(Lp.width=0),q.layoutChild(a,Lp.x,Lp.y+ln,Lp.width,Lp.height),N){var Wf=(t-E)/2,qd=q._leftSplitterRect={x:mm-Wf,y:ln,width:t,height:Am};q.layoutSplitterCanvas(j,qd.x,qd.y,qd.width,qd.height,sr),q.drawSplitter(q.getCurrentSplitterDrawable(sr),Wf,0,E,qd.height,sr);var rc=q.getCurrentToggleDrawable(sr);if(rc&&q.isLeftToggleVisible()){var qd=q._leftToggleRect={x:mm-Wf,y:0,width:t,height:p};qd.y=0>d?ln+Am-p+d:d>0&&1>d?ln+Am*d-p/2:ln+d,q.drawToggle(rc,Wf,qd.y-ln,E,qd.height,sr)}j.$93u&&(j.$93u.restore(),j.$93u=P)}}if(q._rightSplitterRect=P,q._rightToggleRect=P,K.style.display=wm,v){var Lp=q.$5u(Y,l,vh,Am);if(g||(Lp.width=0),q.layoutChild(Y,Lp.x+Gd+Z,Lp.y+ln,Lp.width,Lp.height),$){var Wf=(J-Z)/2,qd=q._rightSplitterRect={x:Gd-Wf,y:ln,width:J,height:Am};q.layoutSplitterCanvas(K,qd.x,qd.y,qd.width,qd.height,Vb),q.drawSplitter(q.getCurrentSplitterDrawable(Vb),Wf,0,Z,qd.height,Vb);var ei=q.getCurrentToggleDrawable(Vb);if(ei&&q.isRightToggleVisible()){var qd=q._rightToggleRect={x:Gd-Wf,y:0,width:J,height:X};qd.y=0>A?ln+Am-X+A:A>0&&1>A?ln+Am*A-X/2:ln+A,q.drawToggle(ei,Wf,qd.y-ln,Z,qd.height,Vb)}K.$93u&&(K.$93u.restore(),K.$93u=P)}}if(h&&zq>0&&Am>0){var Lp=q.$5u(w,C,zq,Am);q.layoutChild(w,Lp.x+Kb,Lp.y+ln,Lp.width,Lp.height)}q.updateScrollBar(y,Q,Pf,Id)},getSerializableProperties:function(){var f=N.BorderLayout.superClass.getSerializableProperties.call(this);return pq(f,{splitter:1,splitterDrawable:1,hoverSplitter:1,hoverSplitterDrawable:1,activeSplitter:1,activeSplitterDrawable:1,splitterVisible:1,splitterSize:1,splitterHitSize:1,resizable:1,toggle:1,toggleDrawable:1,hoverToggle:1,hoverToggleDrawable:1,activeToggle:1,activeToggleDrawable:1,"is:useSplitterStateForToggle":1,resizeHintBackground:1,toggleVisible:1,toggleSize:1,togglePosition:1,leftWidth:1,rightWidth:1,topHeight:1,bottomHeight:1,leftExpanded:1,rightExpanded:1,topExpanded:1,bottomExpanded:1,"is:continuous":1})}}),N.BorderLayoutInteractor=function(P){this._view=P},Mg("ht.ui.BorderLayoutInteractor",j,{ms_listener:1,getView:function(){return this._view.$239u},clear:function(){var j=this;j._view,j.$12u&&Rl(j.$12u),j.$12u=j.$36u=j.$115u=j._layoutSize=j.$13u=P,[sr,Vb,el,eh,$r].forEach(function(U){var r=j["_"+U+"Mask"];r&&(delete j["_"+U+"Mask"],Rl(r))})},checkCurrentSplitter:function(i,k){var $=this,n=$._view,Y=n.getSplitterAt(i);if((!tc||!k)&&Y){var B=n[ij(Y+"Resizable")](),c=n[ij(Y+"Expanded")]();if(B&&c)return n.setCurrentSplitter(Y),Y}n.setCurrentSplitter(P)},checkCurrentToggle:function(R,r){var M=this,v=M._view,$=v.getToggleAt(R);return r&&tc||!$?(v.setCurrentToggle(P),void 0):(v.setCurrentToggle($),$)},handle_mousedown:function(D){this.handle_touchstart(D)},handle_touchstart:function(S){var e=this,R=e._view;if(R.isSelfViewEvent(S))if(fm(S),e.checkCurrentToggle(S))e.$13u=$q(S),R.setCurrentToggleState(hh),e.checkCurrentSplitter(S)?R.setCurrentSplitterState(hh):R.setCurrentSplitterState(Ie),Qd(e);else{R.setCurrentToggleState(Ie);var k=e.checkCurrentSplitter(S);if(k){R.setCurrentSplitterState(hh);var I=e.$13u=$q(S),_=e.$115u=R["_"+k+"SplitterRect"],l=R.isContinuous();if(!l){var a=e.$12u=Zh(),K=a.style;k===sr?(K.left=R.tx()+R.getContentLeft()+_.x+(R.getLeftSplitterHitSize()-R.getLeftSplitterSize())/2+wc,K.top=R.ty()+R.getContentTop()+_.y+wc,K.width=R.getLeftSplitterSize()+wc,K.height=_.height+wc):k===Vb&&(K.left=R.tx()+R.getContentLeft()+_.x+(R.getRightSplitterHitSize()-R.getRightSplitterSize())/2+wc,K.top=R.ty()+R.getContentTop()+_.y+wc,K.width=R.getRightSplitterSize()+wc,K.height=_.height+wc),k===el?(K.left=R.tx()+R.getContentLeft()+_.x+wc,K.top=R.ty()+R.getContentTop()+_.y+(R.getTopSplitterHitSize()-R.getTopSplitterSize())/2+wc,K.width=_.width+wc,K.height=R.getTopSplitterSize()+wc):k===eh&&(K.left=R.tx()+R.getContentLeft()+_.x+wc,K.top=R.ty()+R.getContentTop()+_.y+(R.getBottomSplitterHitSize()-R.getBottomSplitterSize())/2+wc,K.width=_.width+wc,K.height=R.getBottomSplitterSize()+wc),K.background=R.getResizeHintBackground()}e.$36u=k===sr||k===Vb?I.x:I.y,e._layoutSize=[R.getTopHeight(),R.getRightWidth(),R.getBottomHeight(),R.getLeftWidth()];var r=R.$365,G=R.$239u;[sr,Vb,el,eh,$r].forEach(function(Q){var A=R.getChildByRegion(Q),H=R[ij(k+"Expanded")]();if(A&&(Q===$r||H)){var x=Zh();x.style.left=A.getX()+R.getContentLeft()+R.tx()+wc,x.style.top=A.getY()+R.getContentTop()+R.ty()+wc,x.style.width=A.getWidth()+wc,x.style.height=A.getHeight()+wc,r?G.insertBefore(x,r):G.appendChild(x),e["_"+Q+"Mask"]=x}}),l||(r?G.insertBefore(a,r):G.appendChild(a)),Qd(e,S)}else R.setCurrentSplitterState(Ie)}},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},setLayoutRegionSize:function(r){var v=this,I=v._view,d=v._layoutSize,s=I.getCurrentSplitter();s===sr||s===Vb?s===sr?I.setLeftWidth(d[3]+r):I.setRightWidth(d[1]-r):s===el?I.setTopHeight(d[0]+r):I.setBottomHeight(d[2]-r)},handleWindowTouchEnd:function(h){var p=this,L=p._view,Q=L.getCurrentSplitter();L.isSelfViewEvent(h)&&fm(h);var c=p.$115u;if(c&&!L.isContinuous())if(Q===sr||Q===Vb){var e=c.x+L.getContentLeft()+L.tx(),v=Qk(p.$12u.style.left);e+=Q===sr?(L.getLeftSplitterHitSize()-L.getLeftSplitterSize())/2:(L.getRightSplitterHitSize()-L.getRightSplitterSize())/2,p.setLayoutRegionSize(v-e)}else{var E=c.y+L.getContentTop()+L.ty(),l=Qk(p.$12u.style.top);E+=Q===el?(L.getTopSplitterHitSize()-L.getTopSplitterSize())/2:(L.getBottomSplitterHitSize()-L.getBottomSplitterSize())/2,p.setLayoutRegionSize(l-E)}Sn(function(){p.checkRegionAndState(h,!0)}),p.clear(h)},handle_mouseup:function(Y){this.handle_touchend(Y)},handle_touchend:function($){var n=this,_=n._view,o=_.getCurrentToggle(),P=n.$13u;o&&Bp(P,$q($))<An&&(_[ij(o+"Expanded")]()===!0?_[$j(o+"Expanded")](!1):_[$j(o+"Expanded")](!0),Sn(function(){n.checkRegionAndState($,!0)}))},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(K){var T=this,S=T._view,k=T.$115u;if(k){var f,J=S.isContinuous(),p=S.$189u,u=S.$188u,m=S.getLeftSplitterSize(),d=S.getRightSplitterSize(),w=S.getTopSplitterSize(),v=S.getBottomSplitterSize(),n=S.getCurrentSplitter(),D=S.getChildByRegion(Vb),s=S.getChildByRegion(sr),U=S.getChildByRegion(el),h=S.getChildByRegion(eh),H=S.getChildByRegion($r),x=H?S.getChildLayoutParams(H):{},C=x.marginLeft||0,t=x.marginTop||0,Z=x.marginRight||0,z=x.marginBottom||0,o=s?S.getChildLayoutParams(s):{},l=o.marginLeft||0,i=o.marginTop||0,Q=o.marginRight||0,B=o.marginBottom||0,e=D?S.getChildLayoutParams(D):{},c=e.marginLeft||0,G=e.marginTop||0,j=e.marginRight||0,M=e.marginBottom||0,L=U?S.getChildLayoutParams(U):{},Y=L.marginTop||0,g=L.marginBottom||0,P=h?S.getChildLayoutParams(h):{},F=P.marginTop||0,_=P.marginBottom||0,a=S.getZoom(),O=$q(K);if(J||(f=T.$12u.style),n===sr||n===Vb){var I=k.x;I+=n===sr?(S.getLeftSplitterHitSize()-S.getLeftSplitterSize())/2:(S.getRightSplitterHitSize()-S.getRightSplitterSize())/2;var b=H?H.getMinSize().width:0;b+=C+Z;var X=(O.x-T.$36u)/a+I;if(n===sr){var E=0;S.isRightExpanded()&&(E=S.getRightWidth());var r=s.getMinSize().width+l+Q;D?X>p-m-d-E-b&&(X=p-m-d-E-b):X>p-m-b&&(X=p-m-b),r>X&&(X=r),f?f.left=X+S.getContentLeft()+S.tx()+wc:T.setLayoutRegionSize(X-I)}else{var q=0;S.isLeftExpanded()&&(q=S.getLeftWidth());var R=D.getMinSize().width+c+j;X>p-d-R&&(X=p-d-R),s?q+m+b>X&&(X=q+m+b):b>X&&(X=b),f?f.left=X+S.getContentLeft()+S.tx()+wc:T.setLayoutRegionSize(X-I)}}else{var W=k.y;W+=n===el?(S.getTopSplitterHitSize()-S.getTopSplitterSize())/2:(S.getBottomSplitterHitSize()-S.getBottomSplitterSize())/2;var N=H?H.getMinSize().height:0;N+=t+z;var $=s?s.getMinSize().height:0;$+=i+B;var y=D?D.getMinSize().height:0;y+=G+M,N=A(N,$),N=A(N,y);var X=(O.y-T.$36u)/a+W;if(n===el){var V=0;S.isBottomExpanded()&&(V=S.getBottomHeight());var Mj=U.getMinSize().height+Y+g;h?X>u-w-v-V-N&&(X=u-w-v-V-N):X>u-w-N&&(X=u-w-N),Mj>X&&(X=Mj),f?f.top=X+S.getContentTop()+S.ty()+wc:T.setLayoutRegionSize(X-W)}else{var Pi=0;S.isTopExpanded()&&(Pi=S.getTopHeight());var aq=h.getMinSize().height+F+_;X>u-v-aq&&(X=u-v-aq),U?Pi+w+N>X&&(X=Pi+w+N):N>X&&(X=N),f?f.top=X+S.getContentTop()+S.ty()+wc:T.setLayoutRegionSize(X-W)}}}},checkRegionAndState:function(U,F){var o=this,k=o._view;!o.checkCurrentToggle(U,F)||F&&tc?k.setCurrentToggleState(Ie):k.setCurrentToggleState(Yh),!o.checkCurrentSplitter(U,F)||F&&tc?k.setCurrentSplitterState(Ie):k.setCurrentSplitterState(Yh)},handle_mousemove:function(Z){var w=this;Gq()||w.checkRegionAndState(Z)},handle_mouseleave:function(){var K=this,a=K._view;K.$13u||(a.setCurrentToggle(P),a.setCurrentToggleState(Ie),a.setCurrentSplitter(P),a.setCurrentSplitterState(Ie))
}}),N.HBoxLayout=function(u){N.HBoxLayout.superClass.constructor.call(this),this.set(u)},Mg("ht.ui.HBoxLayout",ym,{ui_ac:["align","vAlign","equalMode","gap"],__align:"left",__vAlign:"top",_preferredSizeProps:pq(Je(Id._preferredSizeProps),{equalMode:!0,gap:!0}),processChildLayoutParams:function(S,G,T,y){if(T==P)return y;y=Je(y);var r=S.indexOf(G);return y.marginRight==P&&(y.marginRight=r<S.length-1?T:0),y},figurePreferredSize:function(){for(var t=this,o=t.getVisibleChildren(),l=o.size(),F=t.getVAlign(),d=t.getGap(),q=t.getEqualMode(),c={x:0,y:0,width:0,height:0},Y={},J=0;l>J;J++){var f,r,$=o.get(J),j=q?t.getChildLayoutParams($):t.processChildLayoutParams(o,$,d,t.getChildLayoutParams($)),S=j.width==P?zb:j.width,L=j.height==P?zb:j.height,E=j.marginLeft||0,M=j.marginRight||0,Q=j.marginTop||0,H=j.marginBottom||0,g=j.vAlign||F,u=$.getPreferredSize();f=S===Ki?u.width:S===zb?u.width:Gl(S)?u.width:S,r=L===Ki?u.height:L===zb?u.height:Gl(L)?u.height:L;var O,i,N,B;if(O=E,i=Q,N=f+M,B=r+H,J>0){var D=Y[J-1];O+=D.x+D.width}g===id&&(i=(Q+H)/2);var Z={x:O,y:i,width:N,height:B,marginLeft:E,marginRight:M,marginTop:Q,marginBottom:H};Y[J]=Z,c=kd(c,Z)}return{width:w(t.getPaddingLeft()+t.getPaddingRight()+t.getBorderLeft()+t.getBorderRight()+c.width),height:w(t.getPaddingTop()+t.getPaddingBottom()+t.getBorderTop()+t.getBorderBottom()+c.height)}},$5u:function($,H,n,O,c,l){var J,j,Q=this,v=c?Q.processChildLayoutParams(c,$,l,Q.getChildLayoutParams($)):Q.getChildLayoutParams($),C=v.width==P?zb:v.width,D=v.height==P?zb:v.height,m=v.marginLeft||0,Z=v.marginRight||0,h=v.marginTop||0,E=v.marginBottom||0,y=v.vAlign||Q.getVAlign(),X=$.getPreferredSize();return J=C===Ki?O:C===zb?X.width:Gl(C)?Q.getExpressionValue(H,C):C,J=Q.adjustChildWidth($,J),j=D===Ki?n-h-E:D===zb?X.height:Gl(D)?Q.getExpressionValue(n,D):D,j=Q.adjustChildHeight($,j),{marginLeft:m,marginTop:h,marginRight:Z,marginBottom:E,width:J,height:j,vAlign:y}},$29u:function(Y,c,X,e){0>Y&&(Y=0);var s=this,I=s.getEqualMode(),O=e.size(),q=0,m={x:0,y:0,width:0,height:0};if("space-between"===I)for(var C=Y/(O-1),W=0;O>W;W++){var U=e.get(W),R=s.$5u(U,c,X),B=R.vAlign,d=q,v=R.marginTop;B===id?v=(X-R.height)/2:B===eh&&(v=X-R.height-R.marginBottom),q+=R.width,W===O-1?m=kd(m,{x:d,y:v,width:R.width,height:R.height+R.marginBottom}):(q+=C,m=kd(m,{x:d,y:v,width:R.width+C,height:R.height+R.marginBottom})),s.layoutChild(U,d,v,R.width,R.height)}else if("space-around"===I){var C=Y/(2*O);q=C;for(var W=0;O>W;W++){var U=e.get(W),R=s.$5u(U,c,X),B=R.vAlign,d=q,v=R.marginTop;B===id?v=(X-R.height)/2:B===eh&&(v=X-R.height-R.marginBottom),m=kd(m,{x:d,y:v,width:R.width+C,height:R.height+R.marginBottom}),s.layoutChild(U,d,v,R.width,R.height),q+=R.width,q+=2*C}}else{var C=Y/(O+1);q=C;for(var W=0;O>W;W++){var U=e.get(W),R=s.$5u(U,c,X),B=R.vAlign,d=q,v=R.marginTop;B===id?v=(X-R.height)/2:B===eh&&(v=X-R.height-R.marginBottom),m=kd(m,{x:d,y:v,width:R.width+C,height:R.height+R.marginBottom}),s.layoutChild(U,d,v,R.width,R.height),q+=R.width,q+=C}}return m},$30u:function(J,T,e,H,Z){for(var r=this,b=r.getVisibleChildren(),o=b.size(),I=r.getGap(),$={x:0,y:0,width:0,height:0},z=0;o>z;z++){var g=b.get(z),P=r.$5u(g,T,e,H,b,I),D=P.vAlign,x=0,_=P.marginTop;0===z&&Z||(J+=P.marginLeft),x+=J,D===id?_=(e-P.height)/2:D===eh&&(_=e-P.height-P.marginBottom),J+=P.width,z===o-1&&Z?$=kd($,{x:x,y:_,width:P.width,height:P.height}):(J+=P.marginRight,$=kd($,{x:x,y:_,width:P.width+P.marginRight,height:P.height+P.marginBottom})),r.layoutChild(g,x,_,P.width,P.height)}return $},validateImpl:function(R,M,z,O){for(var Q=this,y=Q.getAlign(),G=Q.getGap(),U=Q.getVisibleChildren(),e=U.size(),h={x:0,y:0,width:0,height:0},V=0,X=Q.getEqualMode(),j=0,m=0;e>m;m++){var Z,d=U.get(m),K=X?Q.getChildLayoutParams(d):Q.processChildLayoutParams(U,d,G,Q.getChildLayoutParams(d)),l=K.width==P?zb:K.width,f=K.marginLeft||0,b=K.marginRight||0;l!==Ki?(Z=l===zb?d.getPreferredSize().width:Gl(l)?Q.getExpressionValue(z,l):l,X||(Z+=f+b),V+=Z,j++):X||(V+=f+b)}if(X)h=Q.$29u(z-V,z,O,U);else{var c=(z-V)/(e-j);if(y===sr)h=Q.$30u(0,z,O,c);else if(y===Vb){for(var $=0,m=0;e>m;m++){var d=U.get(m),u=Q.$5u(d,z,O,c,U,G);$+=u.width+u.marginLeft+u.marginRight}if(z>$){$=z;for(var m=e-1;m>=0;m--){var d=U.get(m),u=Q.$5u(d,z,O,c,U,G),F=u.vAlign,i=$-u.marginRight-u.width,q=u.marginTop;$-=u.marginLeft+u.width+u.marginRight,F===id?q=(O-u.height)/2:F===eh&&(q=O-u.height-u.marginBottom),h=kd(h,{x:i,y:q,width:u.width+u.marginRight,height:u.height+u.marginBottom}),Q.layoutChild(d,i,q,u.width,u.height)}}else h=Q.$30u(0,z,O,c)}else if(y===$r){for(var $=0,m=0;e>m;m++){var d=U.get(m),u=Q.$5u(d,z,O,c,U,G);$+=u.width,m>0&&($+=u.marginLeft),e-1>m&&($+=u.marginRight)}z>$?($=(z-$)/2,h=Q.$30u($,z,O,c,!0)):h=Q.$30u(0,z,O,c)}}var H=h.width+h.x,N=h.height+h.y;Q.updateScrollBar(z,O,H,N)},getSerializableProperties:function(){var d=N.HBoxLayout.superClass.getSerializableProperties.call(this);return pq(d,{align:!0,gap:!0,equalMode:!0,vAlign:!0})}}),N.HButtonGroup=function(L){var s=this;N.HButtonGroup.superClass.constructor.call(s),s._radios=new N.Radios,s.set(L)},Mg("ht.ui.HButtonGroup",N.HBoxLayout,{$175u:function(K,y){N.HButtonGroup.superClass.$175u.call(this,K,y),K instanceof N.ToggleButton&&this._radios.add(K)},removeView:function(K){N.HButtonGroup.superClass.removeView.call(this,K),this._radios.remove(K)},getRadios:function(){return this._radios},select:function(H){var Z=this,q=Z._children.get(H);q&&q.setSelected(!0)},on:function(l,x,t,A){var v=this;"p:selectedButton"===l?v._radios.on(l,x,t,A):N.HButtonGroup.superClass.on.call(v,l,x,t,A)},onOnce:function(c,g,h,C){var m=this;"p:selectedButton"===c?m._radios.onOnce(c,g,h,C):N.HButtonGroup.superClass.onOnce.call(m,c,g,h,C)},off:function(o,b,s,h){var w=this;"p:selectedButton"===o?w._radios.off(o,b,s,h):N.HButtonGroup.superClass.off.call(w,o,b,s,h)},layoutChild:function(I,d,W,o,r){var a=this,X=a.getChildLayoutParams(I),v=X.marginTop||0,R=X.marginBottom||0,r=a.getContentHeight()-v-R;N.HButtonGroup.superClass.layoutChild.call(a,I,d,W,o,r)}}),N.VBoxLayout=function(l){N.VBoxLayout.superClass.constructor.call(this),this.set(l)},Mg("ht.ui.VBoxLayout",ym,{ui_ac:["align","vAlign","equalMode","gap"],__vAlign:"top",__align:"left",_preferredSizeProps:pq(Je(Id._preferredSizeProps),{equalMode:!0,gap:!0}),processChildLayoutParams:function(p,t,G,m){if(G==P)return m;m=Je(m);var x=p.indexOf(t);return null==m.marginBottom&&(m.marginBottom=x<p.length-1?G:0),m},figurePreferredSize:function(){for(var S=this,W=S.getVisibleChildren(),Q=W.size(),A=S.getAlign(),l=S.getGap(),Y=S.getEqualMode(),u={x:0,y:0,width:0,height:0},h={},M=0;Q>M;M++){var B,j,m=W.get(M),i=Y?S.getChildLayoutParams(m):S.processChildLayoutParams(W,m,l,S.getChildLayoutParams(m)),I=i.width==P?zb:i.width,x=i.height==P?zb:i.height,U=i.marginLeft||0,K=i.marginRight||0,J=i.marginTop||0,t=i.marginBottom||0,E=i.align||A,d=m.getPreferredSize();B=I===Ki?d.width:I===zb?d.width:Gl(I)?d.width:I,j=x===Ki?d.height:x===zb?d.height:Gl(x)?d.height:x;var G,v,O,C;if(G=U,v=J,O=B+K,C=j+t,M>0){var X=h[M-1];v+=X.y+X.height}E===$r&&(G=(U+K)/2);var o={x:G,y:v,width:O,height:C,marginLeft:U,marginRight:K,marginTop:J,marginBottom:t};h[M]=o,u=kd(u,o)}return{width:w(S.getPaddingLeft()+S.getPaddingRight()+S.getBorderLeft()+S.getBorderRight()+u.width),height:w(S.getPaddingTop()+S.getPaddingBottom()+S.getBorderTop()+S.getBorderBottom()+u.height)}},$5u:function(E,w,G,L,t,F){var l,B,K=this,O=t?K.processChildLayoutParams(t,E,F,K.getChildLayoutParams(E)):K.getChildLayoutParams(E),Z=O.width==P?zb:O.width,U=O.height==P?zb:O.height,N=O.marginLeft||0,u=O.marginRight||0,s=O.marginTop||0,h=O.marginBottom||0,W=O.align||K.getAlign(),M=E.getPreferredSize();return B=U===Ki?L:U===zb?M.height:Gl(U)?K.getExpressionValue(G,U):U,B=K.adjustChildHeight(E,B),l=Z===Ki?w-N-u:Z===zb?M.width:Gl(Z)?K.getExpressionValue(w,Z):Z,l=K.adjustChildWidth(E,l),{marginLeft:N,marginTop:s,marginRight:u,marginBottom:h,width:l,height:B,align:W}},$29u:function(q,g,p,o){0>q&&(q=0);var L=this,l=L.getEqualMode(),F=o.size(),D=0,U={x:0,y:0,width:0,height:0};if("space-between"===l)for(var d=q/(F-1),x=0;F>x;x++){var V=o.get(x),k=L.$5u(V,g,p),Q=k.align,Y=D,O=k.marginLeft;Q===$r?O=(g-k.width)/2:Q===Vb&&(O=g-k.width-k.marginRight),D+=k.height,x===F-1?U=kd(U,{x:O,y:Y,width:k.width+k.marginRight,height:k.height}):(D+=d,U=kd(U,{x:O,y:Y,width:k.width+k.marginRight,height:k.height+d})),L.layoutChild(V,O,Y,k.width,k.height)}else if("space-around"===l){var d=q/(2*F);D=d;for(var x=0;F>x;x++){var V=o.get(x),k=L.$5u(V,g,p),Q=k.align,Y=D,O=k.marginLeft;Q===$r?O=(g-k.width)/2:Q===Vb&&(O=g-k.width-k.marginRight),U=kd(U,{x:O,y:Y,width:k.width+k.marginRight,height:k.height+d}),L.layoutChild(V,O,Y,k.width,k.height),D+=k.height,D+=2*d}}else{var d=q/(F+1);D=d;for(var x=0;F>x;x++){var V=o.get(x),k=L.$5u(V,g,p),Q=k.align,Y=D,O=k.marginLeft;Q===$r?O=(g-k.width)/2:Q===Vb&&(O=g-k.width-k.marginRight),U=kd(U,{x:O,y:Y,width:k.width+k.marginRight,height:k.height+d}),L.layoutChild(V,O,Y,k.width,k.height),D+=k.height,D+=d}}return U},$30u:function(m,C,Q,Y,r){for(var f=this,j=f.getVisibleChildren(),t=j.size(),v=f.getGap(),B={x:0,y:0,width:0,height:0},W=0;t>W;W++){var S=j.get(W),L=f.$5u(S,C,Q,Y,j,v),y=L.align,o=0,a=L.marginLeft;0===W&&r||(m+=L.marginTop),o+=m,y===$r?a=(C-L.width)/2:y===Vb&&(a=C-L.width-L.marginRight),m+=L.height,W===t-1&&r?B=kd(B,{x:a,y:o,width:L.width,height:L.height}):(m+=L.marginBottom,B=kd(B,{x:a,y:o,width:L.width+L.marginRight,height:L.height+L.marginBottom})),f.layoutChild(S,a,o,L.width,L.height)}return B},validateImpl:function(S,o,v,g){for(var C=this,T=C.getVAlign(),V=C.getVisibleChildren(),A=C.getGap(),R=V.size(),r={x:0,y:0,width:0,height:0},X=0,z=C.getEqualMode(),E=0,W=0;R>W;W++){var G,t=V.get(W),L=z?C.getChildLayoutParams(t):C.processChildLayoutParams(V,t,A,C.getChildLayoutParams(t)),n=L.height==P?zb:L.height,u=L.marginTop||0,U=L.marginBottom||0;n!==Ki?(G=n===zb?t.getPreferredSize().height:Gl(n)?C.getExpressionValue(g,n):n,z||(G+=u+U),X+=G,E++):z||(X+=u+U)}if(z)r=C.$29u(g-X,v,g,V);else{var Y=(g-X)/(R-E);if(T===el)r=C.$30u(0,v,g,Y);else if(T===eh){for(var x=0,W=0;R>W;W++){var t=V.get(W),H=C.$5u(t,v,g,Y,V,A);x+=H.height+H.marginTop+H.marginBottom}if(g>x){x=g;for(var W=R-1;W>=0;W--){var t=V.get(W),H=C.$5u(t,v,g,Y,V,A),F=H.align,d=x-H.marginBottom-H.height,i=H.marginLeft;x-=H.marginTop+H.height+H.marginBottom,F===$r?i=(v-H.width)/2:F===Vb&&(i=v-H.width-H.marginRight),r=kd(r,{x:i,y:d,width:H.width+H.marginRight,height:H.height+H.marginBottom}),C.layoutChild(t,i,d,H.width,H.height)}}else r=C.$30u(0,v,g,Y)}else if(T===id){for(var x=0,W=0;R>W;W++){var t=V.get(W),H=C.$5u(t,v,g,Y,V,A);x+=H.height,W>0&&(x+=H.marginTop),R-1>W&&(x+=H.marginBottom)}g>x?(x=(g-x)/2,r=C.$30u(x,v,g,Y,!0)):r=C.$30u(0,v,g,Y)}}var c=r.width+r.x,m=r.height+r.y;C.updateScrollBar(v,g,c,m)},getSerializableProperties:function(){var q=N.HBoxLayout.superClass.getSerializableProperties.call(this);return pq(q,{align:!0,vAlign:!0,"is:equalMode":!0,gap:!0})}}),N.VButtonGroup=function(i){var p=this;N.VButtonGroup.superClass.constructor.call(p),p._radios=new N.Radios,p.set(i)},Mg("ht.ui.VButtonGroup",N.VBoxLayout,{$175u:function(H,y){N.VButtonGroup.superClass.$175u.call(this,H,y),this._radios.add(H)},removeView:function(V){N.VButtonGroup.superClass.removeView.call(this,V),this._radios.remove(V)},getRadios:function(){return this._radios},select:function(i){var z=this,h=z._children.get(i);h&&h.setSelected(!0)},on:function(x,A,T,H){var b=this;"p:selectedButton"===x?b._radios.on(x,A,T,H):N.VButtonGroup.superClass.on.call(b,x,A,T,H)},onOnce:function(W,V,_,o){var M=this;"p:selectedButton"===W?M._radios.onOnce(W,V,_,o):N.VButtonGroup.superClass.onOnce.call(M,W,V,_,o)},off:function(k,g,Z,A){var P=this;"p:selectedButton"===k?P._radios.off(k,g,Z,A):N.VButtonGroup.superClass.off.call(P,k,g,Z,A)},layoutChild:function(a,z,b,s,p){var _=this,I=_.getChildLayoutParams(a),i=I.marginLeft||0,Q=I.marginRight||0,s=_.getContentWidth()-i-Q;N.VButtonGroup.superClass.layoutChild.call(_,a,z,b,s,p)}}),N.SplitLayout=function(A,o,R){var F=this;N.SplitLayout.superClass.constructor.call(F),A&&A.getView&&F.addView(A,{region:"first"}),o&&o.getView&&F.addView(o,{region:"second"}),R!=P&&F.setOrientation(R),A&&!A.getView&&o==P&&R==P&&F.set(A)},Mg("ht.ui.SplitLayout",ym,{ui_ac:["positionType","position","orientation","drawable:toggle","drawable:hoverToggle","drawable:activeToggle","is:useSplitterStateForToggle","resizeHintBackground","toggleVisible","toggleSize","toggleGap","togglePosition","drawable:splitter","drawable:hoverSplitter","drawable:activeSplitter","splitterSize","splitterHitSize","splitterVisible","resizable","collapseRegion","is:continuous"],ms_ac:["splitterState","currentToggle","currentToggleState"],_preferredSizeProps:pq(Je(Id._preferredSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),_minSizeProps:pq(Je(Id._minSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),__positionType:"percentage",__orientation:"h",__toggleGap:10,__togglePosition:.5,__toggleVisible:!0,__resizable:!0,__splitterVisible:!0,__toggle:["ht.ui.drawable.ImageDrawable","ui_splitlayoutToggle","fill"],__splitterSize:9,__splitterHitSize:9,__toggleSize:40,__resizeHintBackground:"rgba(0,0,0,0.3)",initView:function(){var X=this;N.SplitLayout.superClass.initView.call(X);var G=X.$198u,H=X.$239u,I=X.$365;G.style.zIndex="0";var U=X.$33u=Se();U.style.pointerEvents="",U.setAttribute(q,"ht-splitter"),I?H.insertBefore(U,I):H.appendChild(U)},isSelfViewEvent:function(g){var T=this,L=N.SplitLayout.superClass.isSelfViewEvent.call(T,g);if(!L){var J=Ig(g);J===T.$33u&&(L=!0)}return L},getInteractorClasses:function(){return[N.SplitLayoutInteractor].concat(N.SplitLayout.superClass.getInteractorClasses.call(this))},getCursor:function(){var h=this,L=h.getPropertyValue("cursor"),A=h.getCollapseRegion(),q=h.getSplitterState(),t=h.getCurrentToggle();if(t)"second"===A&&"expand"===t||"first"===A&&"collapse"===t||(L=R);else if(q===Yh||q===hh){var r=h.isResizable(),w=h.getOrientation();r&&!A&&(L="h"===w||"horizontal"===w?k:g)}return L},getCurrentSplitterDrawable:function(){var l=this,E=l.getSplitterDrawable(),x=l.getSplitterState();return x===Yh?l.getHoverSplitterDrawable()||E:x===hh?l.getActiveSplitterDrawable()||E:E},getCurrentToggleDrawable:function(C){var S=this,t=S.isUseSplitterStateForToggle(),h=S.getSplitterState(),L=S.getCurrentToggle(),G=S.getCurrentToggleState(),T=S.getToggleDrawable();if(L)return L===C?G===Yh?S.getHoverToggleDrawable()||T:S.getActiveToggleDrawable()||T:T;if(t){if(h===Yh)return S.getHoverToggleDrawable()||T;if(h===hh)return S.getActiveToggleDrawable()||T}return T},getChildByRegion:function(N){for(var d=this,E=d._children,w=0,x=E.size();x>w;w++){var X=E.get(w);if(d.getChildLayoutParams(X).region===N)return X}},getFirstView:function(){return this.getChildByRegion("first")},getSecondView:function(){return this.getChildByRegion("second")},$4u:function(b){var q,L,N,Q,J=this,h=J.getCollapseRegion(),c=J.getOrientation(),a=J.getPositionType(),R=J.getPosition(),s=J.getFirstView(),z=J.getSecondView(),x=s&&s.isVisible(),r=z&&z.isVisible(),n=s?J.getChildLayoutParams(s):{},$=n.marginLeft||0,C=n.marginTop||0,Y=n.marginRight||0,e=n.marginBottom||0,O="first"!==h,F=z?J.getChildLayoutParams(z):{},X=F.marginLeft||0,K=F.marginTop||0,V=F.marginRight||0,D=F.marginBottom||0,H="second"!==h,o=function(i,S,c,M,Y,B){var b,I=Je(i[ij(S+"Size")]());return b&&b.width!=P&&b.width!==Ki&&b.width!==zb&&(I.width=leftLayoutParams.width),b&&b.height!==P&&b.height!==Ki&&b.height!==zb&&(I.height=b.height),I.width+=B+M,I.height+=c+Y,I};if(x&&O){var y=o(s,b,C,Y,e,$),v="preferred"===b?y:o(s,"preferred",C,Y,e,$);"absoluteFirst"===a?R!=P?"h"===c||"horizontal"===c?(q=R,L=y.height):(q=y.width,L=R):(q=v.width,L=y.height):(q=y.width,L=y.height)}else q=L=0;if(r&&H){var T=o(z,b,K,V,D,X),m="preferred"===b?T:o(z,"preferred",K,V,D,X);"absoluteSecond"===a?R!=P?"h"===c||"horizontal"===c?(N=R,Q=T.height):(N=T.width,Q=R):(N=m.width,Q=T.height):(N=T.width,Q=T.height)}else N=Q=0;var t;return"h"===c||"horizontal"===c?(t={width:q+N,height:A(L,Q)},x&&r&&(t.width+=J.isSplitterVisible()?J.getSplitterSize():0)):(t={width:A(q,N),height:L+Q},x&&r&&(t.height+=J.isSplitterVisible()?J.getSplitterSize():0)),t.width+=J.getBorderLeft()+J.getBorderRight()+J.getPaddingLeft()+J.getPaddingRight(),t.height+=J.getBorderTop()+J.getBorderBottom()+J.getPaddingTop()+J.getPaddingBottom(),t.width=w(t.width),t.height=w(t.height),t},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},hasContentCanvas:function(){return!0},$34u:function(T){var j=this,z=j.getPositionType(),Y=j.getPosition(),V=j[ij(T+"View")]();if(V)if("percentage"===z){if("first"===T)return Y!=P?Y:.5}else if("absoluteFirst"===z){if("first"===T)return Y!=P?Y:j.$35u(T)}else if("absoluteSecond"===z&&"second"===T)return Y!=P?Y:j.$35u(T)},$35u:function(s){var e=this,p=e.getOrientation(),y=e[ij(s+"View")](),w=e.getChildLayoutParams(y);if("h"===p||"horizontal"===p){var G;return G=w&&w.width!=P&&w.width!==Ki&&w.width!==zb?w.width:y.getPreferredSize().width,w&&w.marginLeft&&(G+=w.marginLeft),w&&w.marginRight&&(G+=w.marginRight),G}var X;return X=w&&w.height!=P&&w.height!==Ki&&w.height!==zb?w.height:y.getPreferredSize().height,w&&w.marginTop&&(X+=w.marginTop),w&&w.marginBottom&&(X+=w.marginBottom),X},getToggleAt:function(h){var P,B=this;P=h instanceof Event?B.lp(h):h;for(var o=[B.$97u,B.$96u],w=0,x=o.length;x>w;w++){var i=0===w?"expand":"collapse",X=o[w];if(X&&(X={x:X.x,y:X.y,width:X.width-1,height:X.height-1},X&&be(X,P)))return i}},splitterHitTest:function(m){var k,r=this;k=m instanceof Event?r.lp(m):m;var $=r.$115u;return $&&($={x:$.x,y:$.y,width:$.width-1,height:$.height-1},$&&be($,k))?!0:void 0},drawSplitter:function(A,L,W,T,m){A&&A.draw(L,W,T,m,P,this,this.$33u)},drawToggle:function(M,n,Z,k,N,X){if(M){var g=this,B=g.$33u,C=g.getOrientation(),K=g.getRootContext(B),J=k/2,t=N/2,I=n+J,m=Z+t;K.save(),"h"===C||"horizontal"===C?"collapse"===X?(K.translate(I,m),K.rotate(-W/2),M.draw(-t,-J,N,k,P,g,B)):"expand"===X&&(K.translate(I,m),K.rotate(W/2),M.draw(-t,-J,N,k,P,g,B)):"collapse"===X?(K.translate(I,m),M.draw(-J,-t,k,N,P,g,B)):"expand"===X&&(K.translate(I,m),K.rotate(W),M.draw(-J,-t,k,N,P,g,B)),K.restore()}},$5u:function(J,v,c,W){var a,i,N,l,x=sr,$=el,T=0,Q=0,z=0,U=0;return v&&(a=v.width,i=v.height,x=v.align||sr,$=v.vAlign||el,T=v.marginLeft||0,Q=v.marginRight||0,z=v.marginTop||0,U=v.marginBottom||0),a=a==P?Ki:a,i=i==P?Ki:i,a===Ki?(a=c,a-=T+Q):a===zb&&(a=J.getPreferredSize().width),a=this.adjustChildWidth(J,a),i===Ki?(i=W,i-=z+U):i===zb&&(i=J.getPreferredSize().height),i=this.adjustChildHeight(J,i),N=x===$r?(c-a)/2:x===Vb?c-Q-a:T,l=$===id?(W-i)/2:$===eh?W-U-i:z,{x:N,y:l,width:a,height:i}},layoutSplitterCanvas:function(V,G,A,M,t){V.style.display=$g;var j=this.getZoom();wr(V,M*j,t*j),V.style.left=this.getContentLeft()+this.tx()+G+wc,V.style.top=this.getContentTop()+this.ty()+A+wc},validateImpl:function(Q,x,k,e){var F=this,c=F.$33u,U=F.$34u("first"),G=F.$34u("second"),j=F.getMinSize(),s=j.width>F.getWidth(),o=j.height>F.getHeight(),b=F.getOrientation(),J=F.getCollapseRegion(),X=F.getPositionType(),r=F.getFirstView(),E=F.getSecondView(),g=r&&r.isVisible(),D=E&&E.isVisible();if(!g&&!D)return c.style.display=wm,void 0;if(g)if(D){var R,$,K=F.isSplitterVisible(),p=K?F.getSplitterSize():0,t=K?F.getSplitterHitSize():0,y=F.getCurrentSplitterDrawable(),_=F.getCurrentToggleDrawable("expand"),d=F.getCurrentToggleDrawable("collapse"),h=F.getToggleSize(),i=F.getTogglePosition(),H=F.getToggleGap(),S=F.isToggleVisible(),W="first"!==J,V="second"!==J,u=s?j.width-F.getBorderLeft()-F.getBorderRight()-F.getPaddingLeft()-F.getPaddingRight():k,Y=o?j.height-F.getBorderTop()-F.getBorderBottom()-F.getPaddingTop()-F.getPaddingBottom():e,f=0,l=0,n=0,m=0;if(R=F.getChildLayoutParams(r),$=F.getChildLayoutParams(E),"h"===b||"horizontal"===b){"first"===J?(U=0,G=u-U-p):"second"===J?(G=0,U=u-G-p):"absoluteFirst"===X?G=u-U-p:"absoluteSecond"===X?U=u-G-p:(U*=u,G=u-U-p,W&&(U=A(U,r.getMinSize().width+(R.marginLeft||0)+(R.marginRight||0)),G=u-U-p),E&&V&&(G=A(G,E.getMinSize().width+($.marginLeft||0)+($.marginRight||0)),U=u-G-p)),n=W?U:0,m=V?G:0,F.$115u=P,c.style.display=wm;var I=F.$5u(r,R,n,Y);W||(I.width=0),F.layoutChild(r,I.x,I.y,I.width,I.height);var I=F.$5u(E,$,m,Y);if(V||(I.width=0),F.layoutChild(E,I.x+n+p,I.y,I.width,I.height),K){var v=(t-p)/2,T=F.$115u={x:n-v,y:0,width:t,height:Y};if(F.layoutSplitterCanvas(c,T.x,T.y,T.width,T.height),F.drawSplitter(y,v,0,p,T.height),S){if(d){var L=F.$96u={x:n-v,y:0,width:t,height:h};L.y=0>i?Y-2*h-H+i:i>0&&1>i?Y*i-(2*h+H)/2:i,F.drawToggle(d,v,L.y,p,L.height,"collapse")}if(_){var C=F.$97u={x:n-v,y:(Y+2*h+H)/2-h,width:t,height:h};C.y=0>i?Y-h+i:i>0&&1>i?Y*i-(2*h+H)/2+h+H:h+H+i,F.drawToggle(_,v,C.y,p,C.height,"expand")}}c.$93u&&(c.$93u.restore(),c.$93u=P)}}else{"first"===J?(U=0,G=Y-U-p):"second"===J?(G=0,U=Y-G-p):"absoluteFirst"===X?G=Y-U-p:"absoluteSecond"===X?U=Y-G-p:(U*=Y,G=Y-U-p,W&&(U=A(U,r.getMinSize().height+(R.marginTop||0)+(R.marginBottom||0)),G=Y-U-p),V&&(G=A(G,E.getMinSize().height+($.marginTop||0)+($.marginBottom||0)),U=Y-G-p)),f=W?U:0,l=V?G:0,F.$115u=P,c.style.display=wm;var I=F.$5u(r,R,u,f);W||(I.height=0),F.layoutChild(r,I.x,I.y,I.width,I.height);var I=F.$5u(E,$,u,l);if(V||(I.height=0),F.layoutChild(E,I.x,I.y+f+p,I.width,I.height),K){var w=(t-p)/2,T=F.$115u={x:0,y:f-w,width:u,height:t};if(F.layoutSplitterCanvas(c,T.x,T.y,T.width,T.height),F.drawSplitter(y,0,w,T.width,p),S){if(d){var L=F.$96u={x:(u-2*h-H)/2,y:f-w,width:h,height:t};L.x=0>i?u-2*h-H+i:i>0&&1>i?u*i-(2*h+H)/2:i,F.drawToggle(d,L.x,w,L.width,p,"collapse")}if(_){var C=F.$97u={x:(u+2*h+H)/2-h,y:f-w,width:h,height:t};C.x=0>i?u-h+i:i>0&&1>i?u*i-(2*h+H)/2+h+H:h+H+i,F.drawToggle(_,C.x,w,C.width,p,"expand")}}c.$93u&&(c.$93u.restore(),c.$93u=P)}}}else{c.style.display=wm;var I=F.$5u(r,F.getChildLayoutParams(r),k,e);F.layoutChild(r,I.x,I.y,I.width,I.height)}else{c.style.display=wm;var I=F.$5u(E,F.getChildLayoutParams(E),k,e);F.layoutChild(E,I.x,I.y,I.width,I.height)}F.updateScrollBar(k,e,u,Y)},getSerializableProperties:function(){var K=N.SplitLayout.superClass.getSerializableProperties.call(this);return pq(K,{positionType:1,position:1,orientation:1,toggle:1,toggleDrawable:1,hoverToggle:1,hoverToggleDrawable:1,activeToggle:1,activeToggleDrawable:1,"is:useSplitterStateForToggle":1,resizeHintBackground:1,toggleVisible:1,toggleSize:1,toggleGap:1,togglePosition:1,splitter:1,splitterDrawable:1,hoverSplitter:1,hoverSplitterDrawable:1,activeSplitter:1,activeSplitterDrawable:1,splitterSize:1,splitterHitSize:1,splitterVisible:1,resizable:1,collapseRegion:1,"is:continuous":1})}}),N.SplitLayoutInteractor=function(Y){this._view=Y},Mg("ht.ui.SplitLayoutInteractor",j,{ms_listener:1,getView:function(){return this._view.$239u},clear:function(){var n=this;n.$12u&&Rl(n.$12u),n.$12u=n.$36u=n.$115u=n.$13u=P,["first","second"].forEach(function(q){var V=n["_"+q+"Mask"];V&&(delete n["_"+q+"Mask"],Rl(V))})},checkCurrentToggle:function(g,n){var p=this,_=p._view,J=_.getToggleAt(g),i=_.getCollapseRegion();return n&&tc||!J||"second"===i&&"expand"===J||"first"===i&&"collapse"===J?(_.setCurrentToggle(P),void 0):(_.setCurrentToggle(J),J)},checkSplitter:function(I,d){var Y=this,H=Y._view,$=H.splitterHitTest(I),s=H.isResizable(),g=H.getCollapseRegion();return d&&tc||!$||!s||g?void 0:!0},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchstart:function(B){var r=this,A=r._view;if(A.isSelfViewEvent(B))if(fm(B),r.checkCurrentToggle(B))r.$13u=$q(B),A.setCurrentToggleState(hh),r.checkSplitter(B)?A.setSplitterState(hh):A.setSplitterState(Ie),Qd(r);else{A.setCurrentToggleState(Ie);var N=r.checkSplitter(B);if(N){A.setSplitterState(hh);var E=A.isContinuous(),i=A.getOrientation(),h=r.$115u=A.$115u,Z=r.$13u=$q(B);if(!E){var y=r.$12u=Zh(),I=y.style;"h"===i||"horizontal"===i?(I.left=A.tx()+A.getContentLeft()+h.x+(A.getSplitterHitSize()-A.getSplitterSize())/2+wc,I.top=A.ty()+A.getContentTop()+h.y+wc,I.width=A.getSplitterSize()+wc,I.height=h.height+wc):(I.left=A.tx()+A.getContentLeft()+h.x+wc,I.top=A.ty()+A.getContentTop()+h.y+(A.getSplitterHitSize()-A.getSplitterSize())/2+wc,I.width=h.width+wc,I.height=A.getSplitterSize()+wc),I.background=A.getResizeHintBackground()}r.$36u="h"===i||"horizontal"===i?Z.x:Z.y;var L=A.$365,p=A.$239u;["first","second"].forEach(function(F){var E=A.getChildByRegion(F);if(E){var x=Zh();x.style.left=E.getX()+A.getContentLeft()+A.tx()+wc,x.style.top=E.getY()+A.getContentTop()+A.ty()+wc,x.style.width=E.getWidth()+wc,x.style.height=E.getHeight()+wc,L?p.insertBefore(x,L):p.appendChild(x),r["_"+F+"Mask"]=x}}),E||(L?p.insertBefore(y,L):p.appendChild(y)),Qd(r,B)}else A.setSplitterState(Ie)}},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},setLayoutPosition:function(Q){var L=this,$=L._view,Z=$.getOrientation(),x=$.getPositionType();"h"===Z||"horizontal"===Z?"absoluteFirst"===x?$.setPosition(Q):"absoluteSecond"===x?$.setPosition($.$189u-Q-$.getSplitterSize()):"percentage"===x&&$.setPosition(Q/$.$189u):"absoluteFirst"===x?$.setPosition(Q):"absoluteSecond"===x?$.setPosition($.$188u-Q-$.getSplitterSize()):"percentage"===x&&$.setPosition(Q/$.$188u)},handleWindowTouchEnd:function(L){var s=this,I=s._view,N=I.getOrientation();if(I.getPositionType(),I.isSelfViewEvent(L)&&fm(L),s.$115u&&!I.isContinuous())if("h"===N||"horizontal"===N){var P=Qk(s.$12u.style.left),Q=P-I.getContentLeft()-I.tx();s.setLayoutPosition(Q)}else{var Z=Qk(s.$12u.style.top),Q=Z-I.getContentTop()-I.ty();s.setLayoutPosition(Q)}Sn(function(){s.checkRegionAndState(L,!0)}),s.clear()},handle_mouseup:function(k){this.handle_touchend(k)},handle_touchend:function(z){var o=this,u=o._view,J=u.getCurrentToggle(),Y=u.getCollapseRegion(),W=o.$13u;J&&Bp(W,$q(z))<An&&("collapse"===J?"second"===Y?u.setCollapseRegion(""):u.setCollapseRegion("first"):"expand"===J&&("first"===Y?u.setCollapseRegion(""):u.setCollapseRegion("second")),Sn(function(){o.checkRegionAndState(z,!0)}))},handleWindowMouseMove:function(a){this.handleWindowTouchMove(a)},handleWindowTouchMove:function(m){var S=this,w=S.$115u;if(w){var i,S=this,x=S._view,a=x.isContinuous(),U=x.$189u,E=x.$188u,V=x.getOrientation(),r=x.getSplitterSize(),G=x.getFirstView(),T=x.getSecondView(),Q=$q(m),M=G?x.getChildLayoutParams(G):{},h=M.marginLeft||0,y=M.marginTop||0,f=M.marginRight||0,X=M.marginBottom||0,C=T?x.getChildLayoutParams(T):{},n=C.marginLeft||0,F=C.marginTop||0,K=C.marginRight||0,B=C.marginBottom||0,p=x.getZoom();if(a||(i=S.$12u.style),"h"===V||"horizontal"===V){var I=w.x+(x.getSplitterHitSize()-x.getSplitterSize())/2,o=(Q.x-S.$36u)/p+I,v=0,g=0;G&&(v=G.getMinSize().width+h+f),T&&(g=T.getMinSize().width+n+K),o>U-r-g&&(o=U-r-g),v>o&&(o=v),i?i.left=o+x.getContentLeft()+x.tx()+wc:S.setLayoutPosition(o)}else{var k=w.y+(x.getSplitterHitSize()-x.getSplitterSize())/2,o=(Q.y-S.$36u)/p+k,e=0,l=0;G&&(e=G.getMinSize().height+y+X),T&&(l=T.getMinSize().height+F+B),o>E-r-l&&(o=E-r-l),e>o&&(o=e),i?i.top=o+x.getContentTop()+x.ty()+wc:S.setLayoutPosition(o)}}},checkRegionAndState:function(V,_){var y=this,M=y._view;!y.checkCurrentToggle(V,_)||_&&tc?M.setCurrentToggleState(Ie):M.setCurrentToggleState(Yh),!y.checkSplitter(V,_)||_&&tc?M.setSplitterState(Ie):M.setSplitterState(Yh)},handle_mousemove:function(W){var d=this;Gq()||d.checkRegionAndState(W)},handle_mouseleave:function(){var z=this,v=z._view;z.$13u||(v.setCurrentToggle(P),v.setCurrentToggleState(Ie),v.setSplitterState(Ie))}}),N.TabLayout=function(C){var k=this;N.TabLayout.superClass.constructor.call(k),k._tabInfos=new m,k.set(C)},Mg("ht.ui.TabLayout",ym,{ui_ac:["movable","tabHeight","tabGap","tabGapTop","tabPosition","titleFont","tabPadding","titleColor","hoverTitleColor","activeTitleColor","moveTitleColor","iconWidth","iconHeight","iconTitleGap","is:tabWidthInfluencedByCloseIcon","toolWidth","toolHeight","toolGap","toolMarginLeft","closeIconMarginLeft","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closeIconSize","closeIconX","closeIconY","drawable:tabHeaderBackground","tabHeaderLineColor","tabHeaderLineSize","drawable:tabBackground","drawable:hoverTabBackground","drawable:activeTabBackground","drawable:moveTabBackground","drawable:insertLine",bi,"is:autoHideCloseIcon","drawable:scrollController","drawable:hoverScrollController","drawable:activeScrollController","drawable:disabledScrollController","scrollControllerWidth","scrollControllerHeight","is:scrollControllerVisible","scrollStep"],ms_ac:["activeViewIndex","hoverViewIndex","moveTabInfo","currentCloseViewIndex","currentCloseState","currentTool","currentToolState","currentScrollController","currentScrollControllerState"],_preferredSizeProps:pq(Je(Id._preferredSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0,toolWidth:!0,toolHeight:!0,toolGap:!0}),_minSizeProps:pq(Je(Id._minSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0,toolWidth:!0,toolHeight:!0,toolGap:!0}),__tabPosition:"top",__tabHeight:30,__tabHeaderLineColor:O.lineColor,__moveTitleColor:O.textColor,__titleFont:O.font,__movable:!0,__iconWidth:16,__iconHeight:16,__iconTitleGap:4,__closeIconMarginLeft:20,__closeIconSize:14,__scrollBarMode:"off",__closeIcon:"ui_tablayoutClose",__hoverCloseIcon:"ui_tablayoutHoverClose",__activeCloseIcon:"ui_tablayoutActiveClose",__insertLine:O.insertColor,__autoMakeVisible:!0,__autoHideCloseIcon:!0,__scrollControllerWidth:30,__scrollControllerHeight:30,__scrollControllerVisible:!1,__scrollController:"ui_tabScrollController",__hoverScrollController:"ui_hoverTabScrollController",__activeScrollController:"ui_activeTabScrollController",__disabledScrollController:"ui_disabledTabScrollController",__scrollStep:10,__tabHeaderLineSize:1,__tabGap:0,__tabGapTop:0,__closeIconY:.4,__closeIconX:-10,__tabPadding:20,__tabWidthInfluencedByCloseIcon:!1,__toolWidth:16,__toolHeight:16,__toolGap:8,__toolMarginLeft:16,__titleColor:O.textColor,__activeTitleColor:O.baseColor,__tabBackground:P,__hoverTabBackground:["ht.ui.drawable.ColorDrawable",O.hoverBackground],__activeTabBackground:["ht.ui.drawable.TabBackgroundLineDrawable",2,O.baseColor,"inside"],__moveTabBackground:["ht.ui.drawable.TabBackgroundLineDrawable",2,O.baseColor,"inside"],getInteractorClasses:function(){return[N.TabLayoutInteractor]},getChildByTitle:function(o){for(var h=this,A=h._children,C=0,g=A.size();g>C;C++){var u=A.get(C),b=h.getChildLayoutParams(u);if(o===b.title)return u}},getActiveView:function(){var J=this,f=J.getActiveViewIndex(),H=J._children;return f>=0?H.get(f):void 0},getCurrentCloseView:function(){var B=this,S=B.getCurrentCloseViewIndex(),O=B._children;return S>=0?O.get(S):void 0},getHoverView:function(){var h=this,C=h.getHoverViewIndex(),k=h._children;return C>=0?k.get(C):void 0},adjustTranslateX:function(Z){var z=this,q=z.getContentWidth(),s=z._sumWidth;s>q&&z.isScrollControllerVisible()&&(q-=2*z.getScrollControllerWidth());var F=q-s;return F>Z&&(Z=F),Z>0?0:X(Z)},adjustTranslateY:function(H){var I=this.getContentHeight()-this.$134u;return I>H&&(H=I),H>0?0:X(H)},$4u:function(c){var j=this,L=j.getTabPosition(),y=j.getActiveView(),q=j.getVisibleChildren(),E=q.size(),M={width:0,height:0};if(y&&(M=Je(y[ij(c+"Size")]())),L===sr||L===Vb){var p=0,K=0;if("min"!==c)for(var x=0;E>x;x++){var b=q.get(x);p=A(j.getTabWidth(b),p),K+=j.getTabHeight(),E-1>x&&(K+=j.getTabGap())}M.width+=p,M.height=A(K,M.height)}else if(L===el||L===eh){var u=0;if("min"!==c)for(var x=0;E>x;x++){var b=q.get(x);u+=j.getTabWidth(b),E-1>x&&(u+=j.getTabGap())}M.width=A(u,M.width),M.height+=j.getTabHeight()}else{var K=0;if("min"!==c)for(var x=0;E>x;x++){var b=q.get(x);K+=j.getTabWidth(b),E-1>x&&(K+=j.getTabGap())}M.width+=j.getTabHeight(),M.height=A(K,M.height)}return M.width+=j.getBorderLeft()+j.getBorderRight()+j.getPaddingLeft()+j.getPaddingRight(),M.height+=j.getBorderTop()+j.getBorderBottom()+j.getPaddingTop()+j.getPaddingBottom(),M.width=w(M.width),M.height=w(M.height),M},figurePreferredSize:function(){return this.$4u("preferred")
},figureMinSize:function(){return this.$4u("min")},getTitle:function(r){var Z=this.getChildLayoutParams(r);return Z.title||""},getTextWidth:function(N,k){return Kd(this.getTitleFont(k),N).width},getTabWidth:function(M){var l=this,p=0,Q=l.getChildLayoutParams(M),E=Q.tools,v=Q.closable!=P?Q.closable:!1,D=Q.icon||Q.iconDrawable,h=l.getIconTitleGap(),I=l.getToolMarginLeft(),H=l.isTabWidthInfluencedByCloseIcon();E&&E._as&&(E=E._as),D&&(p+=l.getIconWidth());var K=l.getTitle(M);if(K&&(p+=l.getTextWidth(K,M),D&&(p+=h)),E){(D||K)&&(p+=I);for(var u=l.getToolGap(),n=l.getToolWidth(),C=0;C<E.length;C++)p+=n,C<E.length-1&&(p+=u)}else v&&H&&(p+=l.getCloseIconSize(),(D||K||E&&E.length>0)&&(p+=l.getCloseIconMarginLeft()));return p+=2*l.getTabPadding(),$(p)},getCurrentTabBackgroundDrawable:function(s){var I=this,b=I.getActiveView(),Z=I.getHoverView(),T=I.getTabBackgroundDrawable(s),h=I._moveTabInfo;return s?h&&s===h.view?I.getMoveTabBackgroundDrawable(s)||T:s===b?I.getActiveTabBackgroundDrawable(s)||T:s===Z?I.getHoverTabBackgroundDrawable(s)||T:T:P},getCurrentCloseIconDrawable:function(i){if(!i)return P;var H=this,l=H.getHoverView(),u=H.isAutoHideCloseIcon(),X=H.getCurrentCloseView(),r=H.getCurrentCloseState(),Z=H.getCloseIconDrawable();if(tc)return H.getActiveCloseIconDrawable()||Z;if(i===X){if(r===Yh)return H.getHoverCloseIconDrawable()||Z;if(r===hh)return H.getActiveCloseIconDrawable()||Z}else{if(!u)return Z;if(i===l)return Z}},getCurrentTitleColor:function(k){var o=this,T=o.getHoverView(),G=o.getActiveView(),p=o.getTitleColor(),U=o._moveTabInfo;return k?U&&k===U.view?o.getMoveTitleColor()||p:k===G?o.getActiveTitleColor()||p:k===T?o.getHoverTitleColor()||p:p:P},isClosable:function(v){return v?this.getChildLayoutParams(v).closable:void 0},makeVisible:function(s){s&&(this.$292u=s,this.iv())},$312u:function(X,l){var d=this,E=d.getChildLayoutParams(X.child).tools,O=E[X.index];O.onClick&&O.onClick.call(d,X.child,X.index,O,l),d.fireViewEvent({kind:"clickTool",child:X.child,toolIndex:X.index,tool:O,nativeEvent:l})},closeTab:function(V){var t=this,e=t._children,N=e.size(),z=e.indexOf(V),f=!1;if(!(0>z)){var C=t.getActiveView();if(V===C){if(N)for(var B=z-1;B>=0;B++){var Z=e.get(B);if(Z.isVisible()&&!t.getChildLayoutParams(Z).disabled){f=!0;break}}C=f?t.getPrevious(V):t.getNext(V),t.removeView(V),t.setActiveView(C)}else t.removeView(V),C?t.setActiveView(C):t.setActiveViewIndex(P)}},setActiveView:function(C){var M=this,G=M._children.indexOf(C);G>=0?M.setActiveViewIndex(G):M.setActiveViewIndex(P)},setActiveViewIndex:function(I){var n=this,p=n.$368;n.setPropertyValue("activeViewIndex",I);var T=n.getActiveView();T&&n.isAutoMakeVisible()&&n.makeVisible(T);var E=n.getActiveView();p!==E&&(n.fp("activeView",p,E),n.$368=E)},selectNext:function(i){var g=this,J=g._children,$=J.size(),d=J.indexOf(i);if(!(0>d)){if($){d===$-1&&(d=-1);for(var u=d+1;$>u;u++){var t=J.get(u);if(t.isVisible()&&!g.getChildLayoutParams(t).disabled)return g.setActiveViewIndex(u),t}}g.getActiveView()&&g.setActiveViewIndex(P)}},getNext:function(f){var h=this,l=h._children,U=l.size(),J=l.indexOf(f);if(!(0>J)&&U){J===U-1&&(J=-1);for(var y=J+1;U>y;y++){var p=l.get(y);if(p.isVisible()&&!h.getChildLayoutParams(p).disabled)return p}}},getPrevious:function(q){var R=this,k=R._children,b=k.size(),p=k.indexOf(q);if(!(0>p)&&b){0===p&&(p=b);for(var c=p-1;c>=0;c--){var h=k.get(c);if(h.isVisible()&&!R.getChildLayoutParams(h).disabled)return h}}},selectPrevious:function(s){var o=this,$=o._children,q=$.size(),n=$.indexOf(s);if(!(0>n)){if(q){0===n&&(n=q);for(var u=n-1;u>=0;u--){var r=$.get(u);if(r.isVisible()&&!o.getChildLayoutParams(r).disabled)return o.setActiveViewIndex(u),r}}o.getActiveView()&&o.setActiveViewIndex(P)}},getToolDrawable:function(v,i,F,l,W){var u=v.iconDrawable;if(u||(u=v.iconDrawble=_.toDrawable(v.icon)),F&&F.index==i&&F.child===W)if("hover"===l){var I=v.hoverIconDrawable;I||(I=v.hoverIconDrawable=_.toDrawable(v.hoverIcon)),u=I||u}else if("active"===l){var m=v.activeIconDrawable;m||(m=v.activeIconDrawable=_.toDrawable(v.activeIcon)),u=m||u}return u},getIconDrawable:function(C){var i=this.getChildLayoutParams(C);if(i){var t=i.iconDrawable;if(!t&&i.icon&&(t=i.iconDrawable=_.toDrawable(i.icon)),C===this.getActiveView()){var Y=i.activeIconDrawable;return!Y&&i.activeIcon&&(Y=i.activeIconDrawable=_.toDrawable(i.activeIcon)),Y||t}if(C===this.getHoverView()){var X=i.hoverIconDrawable;return!X&&i.hoverIcon&&(X=i.hoverIconDrawable=_.toDrawable(i.hoverIcon)),X||t}if(t)return t}},getTabInfoAt:function(z){var q,M=this,t=M._tabInfos,w=M.getActiveView(),k=t.size();if(q=z instanceof Event?M.lp(z):z,"top-right"===M.getTabPosition())q={x:q.x,y:q.y},q.x=q.x+2*M.tx()+M.getContentLeft();else{var b=M._sumWidth,y=M.getContentWidth();if(b>y&&M.isScrollControllerVisible()){var i=q.x+M.tx(),$=M.getScrollControllerWidth();if($>i||i>y-$)return}}for(var X,x=0;k>x;x++){var F=t.get(x);if(be(F.rect,q)&&(X=F,F.view===w))break}return X},toolHitTest:function(U,f,r){var o,y=this,P=y.getTabPosition();o=r instanceof Event?y.lp(r):r;var t=f.rect,w=f.view,u=y.getToolWidth(),q=y.getToolHeight(),p=y.getToolGap(),l=y.getTabPadding();if("left-vertical"===P)for(var C=t.y+l,m=U.length-1;m>=0;m--){var Q={y:C,x:t.x+(t.width-q)/2,width:q,height:u};if(be(Q,o))return{child:w,index:m};C+=u+p}else if("right-vertical"===P)for(var k=t.y+t.height-l,m=U.length-1;m>=0;m--){var Q={y:k-u,x:t.x+(t.width-q)/2,width:q,height:u};if(be(Q,o))return{child:w,index:m};k-=u+p}else for(var R=t.x+t.width-l,m=U.length-1;m>=0;m--){var Q={x:R-u,y:t.y+(t.height-q)/2,width:u,height:q};if(be(Q,o))return{child:w,index:m};R-=u+p}},closeIconHitTest:function(O,g){var I,Y=this;return I=g instanceof Event?Y.lp(g):g,"top-right"===Y.getTabPosition()&&(I={x:I.x,y:I.y},I.x=I.x+2*Y.tx()),be(O.closeRect,I)},getCloseRect:function(d,U,j,E,H,Y,v){var q=this,l=q.getCloseIconSize();if("left-vertical"===v||"right-vertical"===v){var L=H;H=Y,Y=L}return"right-vertical"===v?0>H?d-=H:H>1?d=d+j-H:d+=j*(1-H):0>H?d=d+j+H:d+=H>1?H:j*H,"left-vertical"===v?0>Y?U-=Y:Y>1?U=U+E-Y:U+=E*(1-Y):0>Y?U=U+E+Y:U+=Y>1?Y:E*Y,{x:d-l/2,y:U-l/2,width:l,height:l}},drawTabHeaderBackground:function(k,S,c,f,x){k&&k.draw(S,c,f,x,P,this)},drawTabBackground:function(D,I,B,e,F,U){D&&D.draw(I,B,e,F,U,this)},drawToolIcon:function($,w,o,e,G,M){$&&$.draw(w,o,e,G,M,this)},drawTabIcon:function(H,b,I,e,T,h){H&&H.draw(b,I,e,T,h,this)},drawVerticalTabIcon:function(C,I,j,r,R,J,i,g,y,d,z){var u=j+R/2,A=d===sr+"-vertical";A&&(Ch(C,u,r+J/2),ch(C,W),Ch(C,-u,-r-J/2));var U=j+(R-g)/2,q=y,V=U+g/2,B=q+i/2;Ch(C,V,B),ch(C,D),Ch(C,-V,-B),this.drawTabIcon(I,j+(R-i)/2,y+i/2-g/2,i,g,z),Ch(C,V,B),ch(C,-D),Ch(C,-V,-B),A&&(Ch(C,u,r+J/2),ch(C,-W),Ch(C,-u,-r-J/2))},drawVerticalToolIcon:function(n,q,z,Z,$,y,Q,b,H,x,l){var G=z+$/2,J=x===sr+"-vertical";J&&(Ch(n,G,Z+y/2),ch(n,W),Ch(n,-G,-Z-y/2));var w=z+($-b)/2,k=H,S=w+b/2,g=k+Q/2;Ch(n,S,g),ch(n,D),Ch(n,-S,-g),this.drawToolIcon(q,z+($-Q)/2,H+Q/2-b/2,Q,b,l),Ch(n,S,g),ch(n,-D),Ch(n,-S,-g),J&&(Ch(n,G,Z+y/2),ch(n,-W),Ch(n,-G,-Z-y/2))},drawTabTitle:function(w,a,Q,Z,Y,j,l,N){Xh(w,a,Q,Z,Y,j,l,N)},drawVerticalTabTitle:function(u,i,Z,x,O,X,r,K,f,t,c,T){var V=O+r/2,F=c===sr+"-vertical";F&&(Ch(u,V,X+K/2),ch(u,W),Ch(u,-V,-X-K/2));var E=r;Ch(u,O+r/2,t+f/2),ch(u,D),Ch(u,-O-r/2,-t-f/2),this.drawTabTitle(u,i,Z,x,O+r/2-f/2,t+f/2-E/2,f,E,T),Ch(u,O+r/2,t+f/2),ch(u,-D),Ch(u,-O-r/2,-t-f/2),F&&(Ch(u,V,X+K/2),ch(u,-W),Ch(u,-V,-X-K/2))},drawInsertLine:function(b,$,n,V,l){b&&b.draw($,n,V,l,P,this)},drawCloseIcon:function(D,j,B,i,X,h){D&&D.draw(j,B,i,X,h,this)},isHTabScrollable:function(){var O=this,S=O.getTabPosition();return S===el||S===eh||"top-right"===S?this._sumWidth>O.getContentWidth():void 0},isVTabScrollable:function(){var R=this,k=R.getTabPosition();return k===sr||k===Vb||k===sr+"-vertical"||k===Vb+"-vertical"?this.$134u>R.getContentHeight():void 0},drawTab:function(c,s,x,F,W,U){var T,$=this,d=$.getTabPosition(),P=$.getChildLayoutParams(s),S=P.tools,p=$.isClosable(s),j=d===sr+"-vertical",q=d===Vb+"-vertical",r=x,J=F,H=$.getIconDrawable(s),l=P.disabled,v=$.getIconTitleGap(),G=$.getCurrentTitleColor(s),z=$.getTitleFont(s),I=$.getTitle(s),h=$.getTabPadding(),k=$.getCurrentTabBackgroundDrawable(s),w=$.getIconWidth(s)||0,Z=$.getIconHeight(s)||0,u=$.getToolWidth(),g=$.getToolHeight(),E=$.getToolGap(),y=$.getCurrentTool(),X=$.getCurrentToolState();if(l&&(c.globalAlpha=Rg),j||q?(Ch(c,x+W/2,F+U/2),j?ch(c,-D):ch(c,D),Ch(c,-x-W/2,-F-U/2),$.drawTabBackground(k,x+W/2-U/2,F+U/2-W/2,U,W,s),Ch(c,x+W/2,F+U/2),j?ch(c,D):ch(c,-D),Ch(c,-x-W/2,-F-U/2)):$.drawTabBackground(k,r,F,W,U,s),r+=h,J+=h,H&&(j||q?$.drawVerticalTabIcon(c,H,x,F,W,U,w,Z,J,d,s):$.drawTabIcon(H,r,F+(U-Z)/2,w,Z,s),r+=w+v,J+=w+v),j||q){var n=U-2*h-v-w;$.drawVerticalTabTitle(c,I,z,G,x,F,W,U,n,J,d,s)}else $.drawTabTitle(c,I,z,G,r,F,W,U,s);if(S)if(j||q)for(var i=F+U-h-u,a=S.length-1;a>=0;a--){var K=S[a],Y=$.getToolDrawable(K,a,y,X,s);$.drawVerticalTabIcon(c,Y,x,F,W,U,u,g,i,d,s),i-=E+u}else for(var i=x+W-h,a=S.length-1;a>=0;a--){var K=S[a],Y=$.getToolDrawable(K,a,y,X,s);$.drawToolIcon(Y,i-u,F+(U-g)/2,u,g,s),i-=E+u}else if(p){var e=$.getCurrentCloseIconDrawable(s);T=j||q?$.getCloseRect(x,F,W,U,$.getCloseIconX(),$.getCloseIconY(),d,s):$.getCloseRect(x,F,W,U,$.getCloseIconX(),$.getCloseIconY(),d,s),$.drawCloseIcon(e,T.x,T.y,T.width,T.height,s)}return l&&(c.globalAlpha=1),T},hideView:function($){$.getView().style.display=wm},showView:function(n){n.getView().style.display=$g},isChildVisible:function(Q){return Q===this.getActiveView()},isPrevScrollControllerAvailable:function(){var r=this,K=r._sumWidth,$=r.getContentWidth();if(K>$){var E=r.getTranslateX();if(0>E)return!0}},isNextScrollControllerAvailable:function(){var W=this,L=W._sumWidth,d=W.getContentWidth();if(L>d){var g=W.getTranslateX();if(d-g-2*W.getScrollControllerWidth()<L)return!0}},isScrollControllerAvailable:function(q){return"prev"===q?this.isPrevScrollControllerAvailable():"next"===q?this.isNextScrollControllerAvailable():void 0},scrollControllerHitTest:function(T){var u,R=this,Q=R._nextScrollControllerRect,l=R._prevScrollControllerRect;if(Q||l){if(u=T instanceof Event?R.lp(T):T,u={x:u.x+R.tx()+R.getContentLeft(),y:u.y+R.getContentTop()},l&&be(l,u))return"prev";if(Q&&be(Q,u))return"next"}},drawScrollController:function(V,p,v,Q){var F=this,l=F._sumWidth,I=F.getScrollControllerDrawable(),A=F.getCurrentScrollController(),O=F.getCurrentScrollControllerState(),r=F.getScrollControllerWidth(),$=F.getScrollControllerHeight();if(delete F._prevScrollControllerRect,delete F._nextScrollControllerRect,F.isScrollControllerVisible()&&l>Q){var M=F.isPrevScrollControllerAvailable()?I:F.getDisabledScrollControllerDrawable()||I,j=F.isNextScrollControllerAvailable()?I:F.getDisabledScrollControllerDrawable()||I;"prev"===A?F.isPrevScrollControllerAvailable()&&(M="hover"===O?F.getHoverScrollControllerDrawable()||I:"active"===O?F.getActiveScrollControllerDrawable()||I:I):"next"===A&&F.isNextScrollControllerAvailable()&&(j="hover"===O?F.getHoverScrollControllerDrawable()||I:"active"===O?F.getActiveScrollControllerDrawable()||I:I);var X=F._prevScrollControllerRect={x:p,y:v,width:r,height:$};M.draw(X.x,X.y,X.width,X.height,P,F),V.save(),V.translate(p+Q-r/2,v+$/2),V.rotate(Math.PI),V.translate(-(p+Q-r/2),-(v+$/2));var Y=F._nextScrollControllerRect={x:p+Q-r,y:v,width:r,height:$};j.draw(Y.x,Y.y,Y.width,Y.height,P,F),V.restore()}},validateImpl:function(N,S,L,J){var V,i=this,j=i.getVisibleChildren(),F=j.size(),E=i.getTabPosition(),I=i.getActiveView(),U=i.getTabHeight(),b=i.getTabHeaderBackgroundDrawable(),Y=i.getTabHeaderLineColor(),X=i.getTabHeaderLineSize(),D=i.getTabGap(),m=i.getTabGapTop(),Z=i._tabInfos,e=E===el,o="top-right"===E,c=E===sr,s=E===Vb,u=E===sr+"-vertical",G=E===Vb+"-vertical",v=i._moveTabInfo,d=0,W=i.$292u,R=i.getRootContext();if(R.save(),R.beginPath(),R.rect(N,S,L,J),R.clip(),c||s)for(var t=0;F>t;t++){var Q=j.get(t);d=A(i.getTabWidth(Q),d)}V=e||o?{x:0,y:U,width:L,height:A(0,J-U)}:c?{x:d+m,y:0,width:A(0,L-d-m),height:J}:s?{x:0,y:0,width:A(0,L-d-m),height:J}:u?{x:U,y:0,width:A(0,L-U),height:J}:G?{x:0,y:0,width:A(0,L-U),height:J}:{x:0,y:0,width:L,height:A(0,J-U)};for(var $=I&&I.isVisible(),t=0;F>t;t++){var Q=j.get(t);Q===I||i.hideView(Q)}if($&&(i.showView(I),i.layoutChild(I,V.x,V.y,V.width,V.height)),Z.clear(),U-m>0)if(u||G){var x=u?N:N+V.width;i.drawTabHeaderBackground(b,x,S,L-V.width,J),R.translate(0,i.ty());for(var p,C,y=S+D,t=0;F>t;t++){var _,Q=j.get(t),a=i.getTabWidth(Q);Q!==I?(v&&v.view===Q||(_=i.drawTab(R,Q,u?x+m:x,y,U-m,a),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:Q,rect:{x:u?x+m-N:x-N,y:y-S,width:U-m,height:a}})):p=y,y+=a+D}if($){var B=j.indexOf(I);C=a=i.getTabWidth(I),v&&v.view===I||(_=i.drawTab(R,I,u?x+m:x,p,U-m,a),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:I,rect:{x:u?x+m-N:x-N,y:p-S,width:U-m,height:a}},B)}if(X>0&&Y){var K=S-i.ty(),z=u?x+U-X:N+V.width;p!=P?(R.beginPath(),R.rect(z,K,X,p-K),R.rect(z,p+C,X,K+J-(p+C)),R.fillStyle=Y,R.fill()):(R.beginPath(),R.rect(z,K,X,J),R.fillStyle=Y,R.fill())}if(i.$134u=A(0,y-S),v){var k=v.insertPosition,w=v.rect;i.drawTab(R,v.view,N+w.x,S+w.y,w.width,w.height),i.drawInsertLine(i.getInsertLineDrawable(),N+w.x,S+k,w.width,1)}if(W){for(var g=null,t=0,r=Z.size();r>t;t++){var M=Z.get(t);M.view===W&&(g=M)}if(g){var q=g.rect,n=-i.getTranslateY();q.y+q.height>n+J?i.ty(J-q.y-q.height):q.y<n&&i.ty(-q.y)}delete i.$292u}i.ty(i.ty())}else if(c||s){i.drawTabHeaderBackground(b,c?N:N+V.width,S,L-V.width,J),R.translate(0,i.ty());for(var p,C,y=S+D,t=0;F>t;t++){var _,Q=j.get(t),a=i.getTabWidth(Q);Q!==I?(v&&v.view===Q||(_=i.drawTab(R,Q,c?N+d+m-a:N+V.width,y,a,U),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:Q,rect:{x:c?d+m-a:V.width,y:y-S,width:a,height:U}})):(p=y,C=U),y+=U+D}if($){var B=j.indexOf(I);a=i.getTabWidth(I),v&&v.view===I||(_=i.drawTab(R,I,c?N+d+m-a:N+V.width,p,a,U),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:I,rect:{x:c?d+m-a:V.width,y:p-S,width:a,height:U}},B)}if(X>0&&Y){var z=c?N+d+m-X:N+V.width,K=S-i.ty();p!=P?(R.beginPath(),R.rect(z,K,X,p-K),R.rect(z,p+C,X,K+J-(p+C)),R.fillStyle=Y,R.fill()):(R.beginPath(),R.rect(z,K,X,J),R.fillStyle=Y,R.fill())}if(i.$134u=A(0,y-S),v){var k=v.insertPosition,w=v.rect;i.drawTab(R,v.view,N+w.x,S+w.y,w.width,w.height),i.drawInsertLine(i.getInsertLineDrawable(),N+w.x,S+k,w.width,1)}if(W){for(var g=null,t=0,r=Z.size();r>t;t++){var M=Z.get(t);M.view===W&&(g=M)}if(g){var q=g.rect,n=-i.getTranslateY();q.y+q.height>n+J?i.ty(J-q.y-q.height):q.y<n&&i.ty(-q.y)}delete i.$292u}i.ty(i.ty())}else if(o){var h=S,T=-i.tx();i.drawTabHeaderBackground(b,N,h,L,J-V.height),R.translate(T,0);for(var O,l,H=N+L-D,t=0;F>t;t++){var _,Q=j.get(t),a=i.getTabWidth(Q);Q!==I?(v&&v.view===Q||(_=i.drawTab(R,Q,H-a,h+m,a,U-m),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:Q,rect:{x:H-a,y:h+m-S,width:a,height:U-m}})):O=H,H-=a+D}if($){var B=j.indexOf(I);l=a=i.getTabWidth(I),O-=a,v&&v.view===I||(_=i.drawTab(R,I,O,h+m,a,U-m),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:I,rect:{x:O,y:h+m-S,width:a,height:U-m}},B)}if(X>0&&Y){var K=h+U-X,z=N-T;O!=P?(R.beginPath(),R.rect(z,K,O-z,X),R.rect(O+l,K,z+L-(O+l),X),R.fillStyle=Y,R.fill()):(R.beginPath(),R.rect(z,K,z+L-z,X),R.fillStyle=Y,R.fill())}if(i._sumWidth=A(0,L-(H-N)),v){var k=v.insertPosition,w=v.rect;i.drawTab(R,v.view,w.x,S+w.y,w.width,w.height),i.drawInsertLine(i.getInsertLineDrawable(),k,S+w.y,1,w.height)}if(W){for(var g=null,t=0,r=Z.size();r>t;t++){var M=Z.get(t);M.view===W&&(g=M)}if(g){var q=g.rect;T=-T,q.x+q.width>T+L+N?i.tx(-(L-q.x-q.width+N)):q.x<T+N&&i.tx(q.x-N)}delete i.$292u}i.tx(i.tx())}else{var h=e?S:S+V.height;i.drawTabHeaderBackground(b,N,h,L,J-V.height);var T=i.tx();R.translate(T,0);for(var O,l,H=N+D,f=N+D,t=0;F>t;t++){var Q=j.get(t),a=i.getTabWidth(Q);f+=a+D}f-=N,f=i._sumWidth=A(0,f);var yc=i.getScrollControllerWidth(),Bn=f>L&&i.isScrollControllerVisible();Bn&&(H+=yc,R.save(),R.beginPath(),R.rect(H-T,S,L-2*yc,J),R.clip());for(var t=0;F>t;t++){var _,Q=j.get(t),a=i.getTabWidth(Q);Q!==I?(v&&v.view===Q||(_=i.drawTab(R,Q,H,h+m,a,U-m),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:Q,rect:{x:H-N,y:h+m-S,width:a,height:U-m}})):O=H,H+=a+D}if($){var B=j.indexOf(I);l=a=i.getTabWidth(I),v&&v.view===I||(_=i.drawTab(R,I,O,h+m,a,U-m),_&&(_.x-=N,_.y-=S)),Z.add({closeRect:_,view:I,rect:{x:O-N,y:h+m-S,width:a,height:U-m}},B)}if(X>0&&Y){var K=e?h+U-X:h,z=N-i.tx();O!=P?(R.beginPath(),R.rect(z,K,O-z,X),R.rect(O+l,K,z+L-(O+l),X),R.fillStyle=Y,R.fill()):(R.beginPath(),R.rect(z,K,z+L-z,X),R.fillStyle=Y,R.fill())}if(v){var k=v.insertPosition,w=v.rect;i.drawTab(R,v.view,N+w.x,S+w.y,w.width,w.height),i.drawInsertLine(i.getInsertLineDrawable(),N+k,S+w.y,1,w.height)}if(Bn&&R.restore(),R.translate(-T,0),i.drawScrollController(R,N,h,L,J-V.height,E),R.translate(T,0),W){for(var g=null,t=0,r=Z.size();r>t;t++){var M=Z.get(t);M.view===W&&(g=M)}if(g){var q=g.rect,T=-i.getTranslateX();q.x+q.width>T+L?i.tx(L-q.x-q.width-(Bn?yc:0)):q.x<T&&i.tx(-q.x+(Bn?yc:0))}delete i.$292u}i.tx(i.tx())}R.restore()},getSerializableProperties:function(){var n=N.TabLayout.superClass.getSerializableProperties.call(this);return pq(n,{movable:1,tabHeight:1,tabGap:1,tabGapTop:1,tabPosition:1,titleFont:1,tabPadding:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,moveTitleColor:1,iconWidth:1,iconHeight:1,iconTitleGap:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closeIconSize:1,closeIconX:1,closeIconY:1,tabHeaderBackground:1,tabHeaderBackgroundDrawable:1,tabHeaderLineColor:1,tabHeaderLineSize:1,tabBackground:1,tabBackgroundDrawable:1,hoverTabBackground:1,hoverTabBackgroundDrawable:1,activeTabBackground:1,activeTabBackgroundDrawable:1,moveTabBackground:1,moveTabBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,autoMakeVisible:1,"is:autoHideCloseIcon":1,activeViewIndex:1,"is:tabWidthInfluencedByCloseIcon":1,toolWidth:1,toolHeight:1,toolGap:1,toolMarginLeft:1,closeIconMarginLeft:1,scrollController:1,scrollControllerDrawable:1,hoverScrollController:1,hoverScrollControllerDrawable:1,activeScrollController:1,activeScrollControllerDrawable:1,disabledScrollController:1,disabledScrollControllerDrawable:1,scrollControllerWidth:1,scrollControllerHeight:1,"is:scrollControllerVisible":1,scrollStep:1})}}),N.TabLayoutInteractor=function(J){this._view=J},Mg("ht.ui.TabLayoutInteractor",j,{ms_listener:1,addToTouchScrollClearQuene:N.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this._view.getView()},handle_mousewheel:function(w){this.handleScroll(w,10*(w.wheelDelta/40))},handle_DOMMouseScroll:function(n){this.handleScroll(n,10*-n.detail)},handleScroll:function(e,n){var J=this._view,l=J.getTabPosition();J.isSelfViewEvent(e)&&(fm(e),!J.isHTabScrollable()||l!==el&&l!==eh&&"top-right"!==l||(e.$146u=!0,J.tx(J.tx()+n)),!J.isVTabScrollable()||l!==sr&&l!==Vb&&l!==sr+"-vertical"&&l!==Vb+"-vertical"||(e.$146u=!0,J.ty(J.ty()+n)))},isClickable:function(F,Z){var u=this._view,e=u.getTabPosition();return F&&u.isHTabScrollable()&&(e===el||e===eh||"top-right"===e)?!0:F&&u.isVScrollable()&&(e===sr||e===Vb||e===sr+"-vertical"||e===Vb+"-vertical")?!0:Z?F&&u.isMovable():F&&(!u.getChildLayoutParams(F.view).disabled||u.isMovable())},handle_mousemove:function(Q){var $=this,l=$._view,q=l.scrollControllerHitTest(Q);if(q&&l.isScrollControllerAvailable(q))Gq()||(l.setCurrentScrollController(q),l.setCurrentScrollControllerState(Yh));else{$._scrollController||(l.setCurrentScrollController(P),l.setCurrentScrollControllerState(P));var e=l.getTabInfoAt(Q);if(e&&!Gq()&&(l.setCursor($.isClickable(e)?R:""),l.setHoverViewIndex(l.getChildren().indexOf(e.view)),!$._onToolOrClose)){var s=l.getChildLayoutParams(e.view).tools;if(s&&s.length>0){var D=l.toolHitTest(s,e,Q);l.setCurrentTool(D),D?l.setCurrentToolState(Yh):l.setCurrentToolState(P)}else l.closeIconHitTest(e,Q)?(l.setCurrentCloseViewIndex(l.getChildren().indexOf(e.view)),l.setCurrentCloseState(Yh)):(l.setCurrentCloseViewIndex(P),l.setCurrentCloseState(P))}}e||(l.setCursor(P),l.setHoverViewIndex(P),$._onToolOrClose||(l.setCurrentCloseViewIndex(P),l.setCurrentCloseState(P),l.setCurrentTool(P),l.setCurrentToolState(P)))},handle_mouseleave:function(){var W=this,H=W._view;H.setHoverViewIndex(P),W._scrollController||(H.setCurrentScrollControllerState(Ie),H.setCurrentScrollController(P))},handle_mousedown:function(K){this.handle_mousemove(K),this.handle_touchstart(K)},clearTouchState:function(){var w=this,d=w._view;w.$44u=P,w.$45u=P,w.$46u=P,w.lp=P,w.tabInfo=P,w._onToolOrClose=P,d.setCurrentCloseState(P),d.setCurrentCloseViewIndex(P),d.setCurrentTool(P),d.setCurrentToolState(P),d.iv()},handle_touchstart:function(g){var v=this,k=v._view,D=k.getTabPosition();if(k.isSelfViewEvent(g)){fm(g);var b=k.scrollControllerHitTest(g);if(b)"prev"===b?k.isPrevScrollControllerAvailable()&&(k.setCurrentScrollController("prev"),k.setCurrentScrollControllerState("active"),v._scrollController="prev",Qd(v,g),v.$355u=setTimeout(function(){v.$356u=setInterval(function(){k.tx(k.tx()+k.getScrollStep())},80)},500)):"next"===b&&k.isNextScrollControllerAvailable()&&(k.setCurrentScrollController("next"),k.setCurrentScrollControllerState("active"),v._scrollController="next",Qd(v,g),v.$355u=setTimeout(function(){v.$356u=setInterval(function(){k.tx(k.tx()-k.getScrollStep())},80)},500));else{var Z=k.getTabInfoAt(g);if(v.isClickable(Z)){v.tabInfo=Z;var R=k.getChildLayoutParams(Z.view).tools;if(R&&R.length>0){var H=k.getCurrentToolState();(H!=P||tc&&k.toolHitTest(Z,g))&&(k.setCurrentToolState(hh),v._onToolOrClose=!0)}v._onToolOrClose||(k.getCurrentCloseState()!=P||tc&&k.closeIconHitTest(Z,g)?(k.setCurrentCloseState(hh),v._onToolOrClose=!0):(v.$44u=$q(g),v.lp=k.lp(g),D===el||D===eh||"top-right"===D?v.$45u=k.tx():v.$46u=k.ty())),Qd(v,g),v.isClickable(Z,!0)||v.addToTouchScrollClearQuene(g)}}}},handleWindowMouseMove:function(T){this.handleWindowTouchMove(T)},handleWindowTouchMove:function(v){if(!this._onToolOrClose){var r,e=this,t=e._view,H=t.getTabPosition(),P=e.tabInfo,B=e.lp;if(!e._scrollController)if(H===el||H===eh||"top-right"===H){if(r=$q(v).x-e.$44u.x,!e.$130u&&!e.$202u&&I(r)>2&&(t.isHTabScrollable()&&!cc(v)?e.$130u=1:P&&t.isMovable()&&(e.$202u=1)),e.$130u)"top-right"===H?t.tx(e.$45u-r):t.tx(e.$45u+r);else if(e.$202u){var p=B.x+r,l=t.getTabGap()/2;"top-right"===t.getTabPosition()&&(p+=2*t.tx(),p+=t.getContentLeft()),t._tabInfos.each(function(c){var I=c.rect,R=I.x+I.width,K=p-I.x<R-p;p>=I.x&&R>=p&&t.setMoveTabInfo({view:P.view,rect:{x:P.rect.x+r,y:P.rect.y,width:P.rect.width,height:P.rect.height},front:K,insertView:c.view,insertPosition:K?I.x-l:R+l})})}}else if(r=$q(v).y-e.$44u.y,!e.$130u&&!e.$202u&&I(r)>2&&(t.isVTabScrollable()&&!cc(v)?e.$130u=1:P&&t.isMovable()&&(e.$202u=1)),e.$130u)t.ty(e.$46u+r);else if(e.$202u){var c=B.y+r,l=t.getTabGap()/2;t._tabInfos.each(function(_){var D=_.rect,W=D.y+D.height,g=c-D.y<W-c;c>=D.y&&W>=c&&t.setMoveTabInfo({view:P.view,rect:{x:P.rect.x,y:P.rect.y+r,width:P.rect.width,height:P.rect.height},front:g,insertView:_.view,insertPosition:g?A(0,D.y-l):h(t.$134u,W+l)})})}}},handleWindowMouseUp:function(O){this.handleWindowTouchEnd(O)},handleWindowTouchEnd:function(W){var F=this,v=F._view,h=v._children,B=F.tabInfo,s=v.scrollControllerHitTest(W);if(F._scrollController==s&&s&&v.isScrollControllerAvailable(s))tc?v.setCurrentScrollControllerState(Ie):v.setCurrentScrollControllerState(Yh),"prev"===s?F.$356u==P&&v.tx(v.tx()+2*v.getScrollStep()):"next"===s&&F.$356u==P&&v.tx(v.tx()-2*v.getScrollStep());else if(F._scrollController&&(v.setCurrentScrollControllerState(Ie),v.setCurrentScrollController(P)),F._onToolOrClose){if(v.closeIconHitTest(B,W))v.closeTab(B.view);else{var G=v.getChildLayoutParams(B.view).tools;if(G&&G.length>0){var g=v.toolHitTest(G,B,W),t=v.getCurrentTool();g&&t&&g.child===t.child&&g.index===t.index&&v.$312u(g,W)}}v.setCurrentCloseViewIndex(P),v.setCurrentCloseState(P),v.setCurrentTool(P),v.setCurrentToolState(P),delete F._onToolOrClose}else if(F.$202u){var H=v.getMoveTabInfo();if(H&&H.insertView!==H.view){var U=H.view;h.remove(U);var J=h.indexOf(H.insertView);J>=0&&("top-right"===v.getTabPosition()?H.front&&J++:H.front||J++,J<=h.size()&&(h.add(U,J),v.fp(Bd,P,h),v.setActiveViewIndex(J)))}v.setMoveTabInfo(P),v.setHoverViewIndex(P),delete F.$202u}else!F.$130u&&B&&(U=B.view,v.getChildLayoutParams(U).disabled||v.getActiveView()===U||v.setActiveViewIndex(v._children.indexOf(U)));F.$130u=F.tabInfo=F.$44u=F.lp=F.$45u=F.$46u=F._scrollController=P,clearTimeout(F.$355u),clearInterval(F.$356u),delete F.$355u,delete F.$356u}}),N.Panel=function(C){N.Panel.superClass.constructor.call(this),this.set(C)},Mg("ht.ui.Panel",ym,{ui_ac:["title","titleFont","titleColor","hoverTitleColor","activeTitleColor","drawable:icon","iconWidth","iconHeight","iconTitleGap","tools","toolsPosition","toolWidth","toolHeight","toolGap","expanded","collapsable","collapseToolIndex","drawable:expandIcon","drawable:hoverExpandIcon","drawable:activeExpandIcon","drawable:collapseIcon","drawable:hoverCollapseIcon","drawable:activeCollapseIcon","headerVisible","headerHeight","headerPaddingLeft","headerPaddingRight","drawable:headerBackground","drawable:hoverHeaderBackground","drawable:activeHeaderBackground","contentPadding"],ms_ac:["currentToolIndex","currentToolState","contentView","headerState"],_preferredSizeProps:pq(Je(Id._preferredSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),_minSizeProps:pq(Je(Id._minSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),$284u:pq(Je(fn.$284u),{expanded:!0}),_headerState:Ie,__headerHeight:30,__iconTitleGap:5,__toolGap:8,__expanded:!0,__collapsable:!0,__headerVisible:!0,__titleFont:O.font,__expandIcon:"ui_panelExpand",__collapseIcon:"ui_panelCollapse",__headerPaddingRight:16,__headerPaddingLeft:16,__toolsPosition:"right",__toolWidth:16,__toolHeight:16,__iconWidth:16,__iconHeight:16,__titleColor:O.baseColor,__headerBackground:O.headerBackground,__border:new N.border.LineBorder(1,O.borderColor),__borderRadius:O.borderRadius,__contentPadding:0,getInteractorClasses:function(){return[N.PanelInteractor]},$4u:function(o){var e=this,s=e.getContentView(),N=e.getContentPadding(),n=e.isHeaderVisible(),b=e.isExpanded(),r=e.getHeaderHeight(),d={width:0,height:0};if(N==P?N=[0,0,0,0]:isNaN(N)||(N=[N,N,N,N]),s&&s.isVisible()){d=Je(s[ij(o+"Size")]()),b||(d.height=0);var U=e.getChildLayoutParams(s);U&&(d.width+=(U.marginLeft||0)+(U.marginRight||0)+N[1]+N[3],d.height+=(U.marginTop||0)+(U.marginBottom||0)+N[0]+N[2])}if(n){d.height+=r;var L=0,O=e.getIcon()||e.getIconDrawable(),a=e.getIconWidth(),Q=e.getHeaderPaddingLeft(),Z=e.getHeaderPaddingRight(),E=e.getIconTitleGap(),B="min"===o?0:30,S=e.getToolGap(),F=e.getTitle(),i=e.getTitleFont(),H=e.getTools();if(L+=Q,O&&(L+=a+E),F&&(L+=Kd(i,F).width),(O||F)&&H&&(L+=B),H){H._as&&(H=H._as);for(var y=0;y<H.length;y++){var Y=H[y];L+=e.getToolWidth(Y),y<H.length-1&&(L+=S)}}L+=Z,d.width=A(L,d.width)}return d.width+=e.getBorderLeft()+e.getBorderRight()+e.getPaddingLeft()+e.getPaddingRight(),d.height+=e.getBorderTop()+e.getBorderBottom()+e.getPaddingTop()+e.getPaddingBottom(),d.width=w(d.width),d.height=w(d.height),d},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},getCursor:function(){var Y=this,l=Y.getPropertyValue("cursor"),m=Y.getCurrentToolIndex();return m!=P?"pointer":l},setContentView:function(j,H){var S=this;S.clear(),S.addView(j,H,x,!0),S.setPropertyValue("contentView",j)},addView:function(a,u,J,M){if(!M)throw"ht.ui.Panel#addView: Use setContentView instead of addView.";N.Panel.superClass.addView.call(this,a,u,J)},getContentView:function(){return this._contentView},getTools:function(){var $=this,Y=$._tools,p=$.isExpanded(),K=$.isCollapsable();Y||(Y=$.getStyleValue("tools"),Y&&(Y._as&&(Y=Y._as),Y=Y.slice(0))),Y?Y._as&&(Y=Y._as):Y=[];for(var Q,Z=0;Z<Y.length;Z++){var x=Y[Z];if(x.$203u){Q=x;break}}if(K){var M=$.getCollapseToolIndex();Q?Y.splice(Y.indexOf(Q),1):(Q=$._collapseTool,Q||(Q=$._collapseTool={$203u:!0,onClick:function(){var P=$.isExpanded();P?$.setExpanded(!1):$.setExpanded(!0)}})),M==P?Y.push(Q):Y.splice(M,0,Q),p?(Q.iconDrawable=$.getCollapseIconDrawable(),Q.hoverIconDrawable=$.getHoverCollapseIconDrawable(),Q.activeIconDrawable=$.getActiveCollapseIconDrawable()):(Q.iconDrawable=$.getExpandIconDrawable(),Q.hoverIconDrawable=$.getHoverExpandIconDrawable(),Q.activeIconDrawable=$.getActiveExpandIconDrawable())}else Q&&Y.splice(Y.indexOf(Q),1);return Y},getCurrentTitleColor:function(x){var B=this,P=B.getTitleColor();return x||(x=B.getHeaderState()),x===Yh?B.getHoverTitleColor()||P:x===hh?B.getActiveTitleColor()||P:P},getCurrentHeaderBackgroundDrawable:function(K){var y=this,V=y.getHeaderBackgroundDrawable();return K||(K=y.getHeaderState()),K===Yh?y.getHoverHeaderBackgroundDrawable()||V:K===hh?y.getActiveHeaderBackgroundDrawable()||V:V},getCurrentToolIconDrawable:function(D,U){var $=this,Z=$.getCurrentToolIndex(),z=$.getCurrentToolState();if(U===Z){var J;return!D.iconDrawable&&D.icon&&(D.iconDrawable=_.toDrawable(D.icon)),J=D.iconDrawable,z===Ie?J:z===Yh?(!D.hoverIconDrawable&&D.hoverIcon&&(D.hoverIconDrawable=_.toDrawable(D.hoverIcon)),D.hoverIconDrawable||J):(!D.activeIconDrawable&&D.activeIcon&&(D.activeIconDrawable=_.toDrawable(D.activeIcon)),D.activeIconDrawable||J)}return!D.iconDrawable&&D.icon&&(D.iconDrawable=fd(D.icon)),D.iconDrawable},drawTool:function(e,V,X,m,P,Y){var j=this,E=j.getCurrentToolIconDrawable(e,V);E&&E.draw(X,m,P,Y,e,j)},drawIcon:function(Y,L,m,e,z){Y&&Y.draw(L,m,e,z,P,this)},drawTitle:function(T,q,h,y,s,E,D,o){Xh(this.getRootContext(),q,h,y,s,E,D,o,sr,id)},headerHitTest:function(m){var v,w=this,X=w.$193u;return X?(v=m instanceof Event?w.lp(m):m,be(X,v)):void 0},getToolIndex:function(q){var p=this,s=p.getTools();return s._as&&(s=s._as),s.indexOf(q)},getToolAt:function(B){var W,E=this,j=E.getTools();if(E.isHeaderVisible()){W=B instanceof Event?E.lp(B):B;var C=E.getToolsPosition(),P=E.getToolWidth(),N=E.getToolHeight(),q=E.getToolGap(),U=E.getHeaderHeight(),I=E.getHeaderPaddingRight(),O=E.getHeaderPaddingLeft();if(j._as&&(j=j._as),C===sr)for(var y=E.getContentLeft(),M=y,o=0;o<j.length;o++){var l={x:M-y+O,y:(U-N)/2,width:P,height:N};if(be(l,W))return j[o];M+=q,M+=P}else for(var M=E.getContentWidth()-I-P,o=j.length-1;o>=0;o--){var l={x:M,y:(U-N)/2,width:P,height:N};if(be(l,W))return j[o];M-=q,M-=P}}},addTool:function(m,B){var x=this,b=x._tools=x.getTools();b._as&&(b=b._as),B!=P?b.splice(B,0,m):b.push(m),x.fp("tools",P,x.getTools())},removeToolAt:function(R){var K=this,f=K._tools=K.getTools();f._as&&(f=f._as),f.splice(R,1),K.fp("tools",P,K.getTools())},$312u:function(N,P){var E=this,u=E.getTools();u._as&&(u=u._as);var V=u[N];V.onClick&&V.onClick.call(E,P),E.fireViewEvent({kind:"clickTool",tool:V,toolIndex:N,nativeEvent:P})},drawHeaderBackground:function(t,f,B,J,g){t&&t.draw(f,B,J,g,P,this)},drawHeader:function(x,R,u,r){var C=this,f=C.getCurrentHeaderBackgroundDrawable(),Z=C.getRootContext(),l=C.getIconDrawable(),p=C.getIconWidth(),Q=C.getIconHeight(),j=C.getTitle(),B=C.getTitleFont(),S=C.getCurrentTitleColor(),N=C.getTools(),h=C.getHeaderPaddingLeft(),d=C.getHeaderPaddingRight(),F=C.getIconTitleGap(),k=C.getToolWidth(),K=C.getToolHeight(),m=C.getToolGap();C.drawHeaderBackground(f,x,R,u,r);var c=x+h;if(N){var X=C.getToolsPosition(),i=R+(r-K)/2;if(N._as&&(N=N._as),X===sr)for(var y=0;y<N.length;y++){var W=N[y];C.drawTool(W,y,c,i,k,K),c+=k,c+=m}else for(var D=x+u-d-k,y=N.length-1;y>=0;y--){var W=N[y];C.drawTool(W,y,D,i,k,K),D-=k,D-=m}}l&&(C.drawIcon(l,c,R+(r-Q)/2,p,Q),c+=p+F),j&&C.drawTitle(Z,j,B,S,c,R,u,r)},getHeight:function(){var d,l=this,e=l.isExpanded();return J.$341u?l.getPropertyValue(_o):d=e?l.getPropertyValue(_o):l.$4u("min").height},$5u:function(Y){var f,u=this,x=u.getContentPadding();
x==P?x=[0,0,0,0]:isNaN(x)||(x=[x,x,x,x]);var Z=u.isHeaderVisible(),q=u.getHeaderHeight(),w=u.isExpanded(),p=u.getContentWidth(),k=u.getContentHeight(),A=(Y.marginLeft||0)+x[3],L=(Y.marginRight||0)+x[1],X=(Y.marginTop||0)+x[0],d=(Y.marginBottom||0)+x[2];return f=w?{x:A,y:(Z?q:0)+X,width:p-A-L,height:k-(Z?q:0)-X-d}:{x:A,y:(Z?q:0)+X,width:p-A-L,height:0}},validateImpl:function(M,c,R){var G=this,A=G.isHeaderVisible(),N=G.getHeaderHeight(),u=G.getContentView();if(G.$193u=P,A&&(G.$193u={x:0,y:0,width:R,height:N},G.drawHeader(M,c,R,N)),u&&u.isVisible()){u.getPreferredSize();var l=G.getChildLayoutParams(u),m=G.$5u(l);G.layoutChild(u,m.x,m.y,m.width,m.height)}},serializeProperty:function(P,s,G){var f=this;if("tools"===s){var w;if(P){w=[];for(var r=0,O=P.length;O>r;r++){var Q=_.clone(P[r]);delete Q.iconDrawable,delete Q.hoverIconDrawable,delete Q.activeIconDrawable,w.push(Q)}}return w}return G.serializeProperty(P,s,f)},getSerializableProperties:function(){var f=N.Panel.superClass.getSerializableProperties.call(this);return delete f.children,pq(f,{title:1,titleFont:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,icon:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTitleGap:1,tools:1,toolsPosition:1,toolWidth:1,toolHeight:1,toolGap:1,expanded:1,collapsable:1,collapseToolIndex:1,expandIcon:1,expandIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,activeExpandIcon:1,activeExpandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,activeCollapseIcon:1,activeCollapseIconDrawable:1,headerVisible:1,headerHeight:1,headerPaddingLeft:1,headerPaddingRight:1,headerBackground:1,headerBackgroundDrawable:1,hoverHeaderBackground:1,hoverHeaderBackgroundDrawable:1,activeHeaderBackground:1,activeHeaderBackgroundDrawable:1,contentView:1,contentPadding:1})}}),N.PanelInteractor=function(x){this._view=x},Mg("ht.ui.PanelInteractor",j,{ms_listener:1,addToTouchScrollClearQuene:N.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this._view.$239u},handle_mousedown:function(o){this.handle_touchstart(o)},clearTouchState:function(){var r=this,T=r._view;T.setCurrentToolState(Ie),T.setHeaderState(Ie),r.$31u=P,r.$47u=P},handle_touchstart:function(A){var Y=this,k=Y._view;Y.handle_mousemove(A);var P=k.getCurrentToolIndex();if(k.isSelfViewEvent(A)&&fm(A),typeof P===i&&P>=0)Y.$31u=$q(A),k.setCurrentToolState(hh),Qd(Y,A),Y.addToTouchScrollClearQuene(A);else{var F=k.headerHitTest(A);F&&(k.setHeaderState(hh),Qd(Y,A),Y.addToTouchScrollClearQuene(A))}},handleWindowMouseUp:function(o){this.handleWindowTouchEnd(o)},handleWindowTouchEnd:function(q){var k=this,F=k._view,m=F.getToolIndex(F.getToolAt(q));if(delete k.$31u,!tc&&typeof m===i&&m>=0)F.setCurrentToolIndex(m),F.setCurrentToolState(Yh);else{F.setCurrentToolIndex(P),F.setCurrentToolState(Ie);var T=F.headerHitTest(q);T&&!tc?F.setHeaderState(Yh):F.setHeaderState(Ie)}},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(l){var u=this,G=u._view,H=G.getCurrentToolIndex(),Z=u.$31u,d=$q(l);Z&&typeof H===i&&H>=0&&Bp(Z,d)<An&&G.$312u(H,l)},handleWindowMouseMove:function($){this.handleWindowTouchMove($)},handleWindowTouchMove:function(){},handle_mousemove:function(I){var W=this,$=W._view;if(!Gq()){var E=$.getToolIndex($.getToolAt(I));if(typeof E===i&&E>=0)$.setCurrentToolIndex(E),$.setCurrentToolState(Yh);else{$.setCurrentToolState(Ie),$.setCurrentToolIndex(P);var d=$.headerHitTest(I);d?$.setHeaderState(Yh):$.setHeaderState(Ie)}}},handle_touchmove:function(){},handle_mouseleave:function(){var Q=this,g=Q._view,F=g.getCurrentToolState(),j=g.getHeaderState();F!==hh&&(g.setCurrentToolState(Ie),g.setCurrentToolIndex(P)),j!==hh&&g.setHeaderState(Ie)}}),N.Dialog=function(k){var F=this;N.Dialog.superClass.constructor.call(F),F.$201u=function(){F.isMaximized()&&F.invalidateDOM(),F.isFixToCenter()&&F.updateBounds()},F.set(k),F._preferredSizeChangeHandler=function(){Sn(function(){var t=F.getPreferredSize();F.setWidth(t.width),F.setHeight(t.height)})}},Mg("ht.ui.Dialog",N.Panel,{ui_ac:["is:modal","resizable","maskBackground","resizeBorderColor","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closable","closeToolIndex","maximizable","maximized","maximizeToolIndex","drawable:maximizeIcon","drawable:hoverMaximizeIcon","drawable:activeMaximizeIcon","drawable:restoreIcon","drawable:hoverRestoreIcon","drawable:activeRestoreIcon","footerHeight","drawable:footerBackground","buttonGap","buttonAlign","buttonVAlign","buttonPrefHeight","buttonPrefWidth","footerPaddingLeft","footerPaddingRight","is:fixToCenter"],ms_ac:[pd,"buttons"],_preferredSizeProps:pq(Je(N.Panel.prototype._preferredSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),_minSizeProps:pq(Je(N.Panel.prototype._minSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),$284u:pq(Je(N.Panel.prototype.$284u),{maximized:!0}),__fixToCenter:!1,__modal:!0,__closable:!0,__footerHeight:60,__footerPaddingLeft:16,__footerPaddingRight:16,__buttonGap:16,__buttonAlign:Vb,__buttonVAlign:id,__expandIcon:"ui_dialogExpand",__hoverExpandIcon:"ui_dialogExpand",__activeExpandIcon:"ui_dialogExpand",__collapseIcon:"ui_dialogCollapse",__hoverCollapseIcon:"ui_dialogCollapse",__activeCollapseIcon:"ui_dialogCollapse",__maximizeIcon:"ui_dialogMaximize",__hoverMaximizeIcon:"ui_dialogMaximize",__activeMaximizeIcon:"ui_dialogMaximize",__restoreIcon:"ui_dialogRestore",__hoverRestoreIcon:"ui_dialogRestore",__activeRestoreIcon:"ui_dialogRestore",__closeIcon:"ui_dialogClose",__hoverCloseIcon:"ui_dialogClose",__activeCloseIcon:"ui_dialogClose",__maximizable:!0,__buttonViews:P,__maskBackground:"rgba(0, 0, 0, 0.2)",__resizable:!0,__boxShadow:O.popupBoxShadow,__background:O.popupBackground,__resizeBorderColor:"#000",setUpInteractors:function(){var s=this.$53u;s||(s=this.$53u=new N.DialogInteractor(this),s.addListeners())},getX:function(){var a,O=this,e=O.isMaximized();return J.$341u?N.Dialog.superClass.getX.call(O):a=e?Qo().left:N.Dialog.superClass.getX.call(O)},getY:function(){var y,K=this,O=K.isMaximized();return J.$341u?N.Dialog.superClass.getY.call(K):y=O?Qo().top:N.Dialog.superClass.getY.call(K)},getWidth:function(){var Z,I=this,$=I.isMaximized();if(J.$341u)return I.getPropertyValue(uh);if($){var L=Qo();Z=L.width}else Z=N.Dialog.superClass.getWidth.call(I);return Z},getHeight:function(){var s,k=this,Q=k.isExpanded(),F=k.isMaximized();if(J.$341u)return k.getPropertyValue(_o);if(Q&&F){var d=Qo();s=d.height}else s=N.Dialog.superClass.getHeight.call(k);return s},initView:function(J){var R=this;N.Dialog.superClass.initView.call(R,J);var F=(R.$239u,R._view);F.style.overflow=pd;var o=R.$19u=Zh(!1),p=o.style;p.position="fixed",p.width="100%",p.height="100%",p.left="0",p.top="0",p.cursor=op,tc?(R.$14u=R.$172u("18px","100%",P,-10,0,P),R.$15u=R.$172u("18px","100%",-10,P,0,P),R.$16u=R.$172u("100%","18px",0,P,P,-10),R.$17u=R.$172u("18px","18px",-10,P,P,-10),R.$18u=R.$172u("18px","18px",P,-10,P,-10)):(R.$14u=R.$172u("9px","100%",P,-5,0,P),R.$15u=R.$172u("9px","100%",-5,P,0,P),R.$16u=R.$172u("100%","9px",0,P,P,-5),R.$17u=R.$172u("9px","9px",-5,P,P,-5),R.$18u=R.$172u("9px","9px",P,-5,P,-5))},getCursor:function(){var F=this,J=F.getPropertyValue("cursor"),O=F.getCurrentToolIndex(),k=F.$26u;return O!=P?"pointer":"east"===k?"e-resize":"west"===k?"w-resize":"south"===k?"s-resize":"southwest"===k?"sw-resize":"southeast"===k?"se-resize":J},isSelfViewEvent:function($){var Q=this,l=N.Dialog.superClass.isSelfViewEvent.call(Q,$);if(!l){var P=Ig($);(P===Q.$14u||P===Q.$15u||P===Q.$16u||P===Q.$17u||P===Q.$18u||P===Q.$19u)&&(l=!0)}return l},getResizeDivAt:function(D){var b=this,p=b.$14u,B=b.$15u,M=b.$16u,k=b.$17u,N=b.$18u,C=Ig(D);return p.contains(C)?"east":B.contains(C)?"west":M.contains(C)?"south":k.contains(C)?"southwest":N.contains(C)?"southeast":void 0},getTools:function(){var _=this,D=N.Dialog.superClass.getTools.call(_),K=_.isClosable(),H=_.isMaximizable();D._as&&(D=D._as);for(var I,y,O=0;O<D.length;O++){var v=D[O];v.$204u?I=v:v.$205u&&(y=v)}if(H){var c=_.getMaximizeToolIndex();y?D.splice(D.indexOf(y),1):(y=_._maximizeTool,y||(y=_._maximizeTool={$205u:!0,onClick:function(){_.setMaximized(!_.isMaximized())}})),c==P?D.push(y):D.splice(c,0,y),_.isMaximized()?(y.iconDrawable=_.getRestoreIconDrawable(),y.hoverIconDrawable=_.getHoverRestoreIconDrawable(),y.activeIconDrawable=_.getActiveRestoreIconDrawable()):(y.iconDrawable=_.getMaximizeIconDrawable(),y.hoverIconDrawable=_.getHoverMaximizeIconDrawable(),y.activeIconDrawable=_.getActiveMaximizeIconDrawable())}else y&&D.splice(D.indexOf(y),1);if(K){var i=_.getCloseToolIndex();I?D.splice(D.indexOf(I),1):(I=_._closeTool,I||(I=_._closeTool={$204u:!0,onClick:function(){_.hide()}})),i==P?D.push(I):D.splice(i,0,I),I.iconDrawable=_.getCloseIconDrawable(),I.hoverIconDrawable=_.getHoverCloseIconDrawable(),I.activeIconDrawable=_.getActiveCloseIconDrawable()}else I&&D.splice(D.indexOf(I),1);return D},getButtonViews:function(){var V=this,v=V.$138u,q=V.$198u;if(!v){v=V.$138u=[];var r=V.getButtons();if(r){r._as&&(r=r._as);for(var O=0;O<r.length;O++){var p=new N.Button,Y=r[O];for(var H in Y){var _=$j(H);_&&p[_]&&p[_](Y[H])}p.on("click",function(F){V.$313u(F)}),v.push(p),V.addView(p,P,P,!0),q.appendChild(p.getView())}}}return v},onPropertyChanged:function(c){var w=this,v=c.property;N.Dialog.superClass.onPropertyChanged.call(w,c),v===pd?c.newValue?(w._oldBodyOverflow=E.body.style.overflow,E.body.style.overflow="hidden",r.addEventListener("resize",w.$201u),w.iv(!0)):(E.body.style.overflow=w._oldBodyOverflow,delete w._oldBodyOverflow,r.removeEventListener("resize",w.$201u)):"fixToCenter"===v&&c.newValue&&w.isVisible()?w.updateBounds():"autoResizeAsPreferredSize"===v&&(c.newValue?w.on("invalidatePreferredSize",w._preferredSizeChangeHandler):w.off("invalidatePreferredSize",w._preferredSizeChangeHandler))},setAutoResize:function(V){var m=this,G=m._autoResizeAsPreferredSize;m._autoResizeAsPreferredSize=V,m.fp("autoResizeAsPreferredSize",G,V)},isAutoResize:function(){return this._autoResizeAsPreferredSize},setResizeMode:function(c){var b=this,x=b.$26u;c!==x&&(b.$26u=c,b.iv())},$172u:function(f,z,l,X,E,Q){var q=this,B=Zh(!0,q._view),L=B.style;return L.width=f,L.height=z,L.background="red",L.opacity="0",l!=P&&(B.$20u=l),X!=P&&(B.$21u=X),E!=P&&(B.$22u=E),Q!=P&&(B.$23u=Q),Sn(function(){var G=q.$53u;B.addEventListener(tc?"touchstart":"mousedown",function(L){G.handle_mousedown.call(G,L)}),B.addEventListener(tc?"touchend":"mouseup",function(O){G.handle_mouseup.call(G,O)}),tc||(B.addEventListener("mousemove",function(w){G.handle_mousemove.call(G,w)}),B.addEventListener("mouseleave",function(k){G.handle_mouseleave.call(G,k)}))}),B},$313u:function(I){var C=this,A=I.source,w=C.getButtonViews().indexOf(A),o=C.getButtons()[w];o.onClick&&o.onClick.call(C,A,I),C.fireViewEvent({kind:"clickButton",button:A,source:C,buttonEvent:I})},$24u:function(q){var a=this,_=a.getButtonGap(),E=0;if(q||(q=a.getButtonViews()),q){q._as&&(q=q._as);for(var A=q.length,m=0;A>m;m++)E+=a.getButtonWidth(q[m]),A-1>m&&(E+=_)}return E},$4u:function(V){var w=this,l=w.getFooterHeight(),k=w.getFooterPaddingLeft(),C=w.getFooterPaddingRight(),e=w.getButtons();if(e){var m=k+C;m+=w.$24u(),m+=w.getBorderLeft()+w.getBorderRight()+w.getPaddingLeft()+w.getPaddingRight();var g=N.Dialog.superClass.$4u.call(w,V);return g.height+=l,g.width=A(g.width,m),g}return N.Dialog.superClass.$4u.call(w,V)},getButtonWidth:function(C){var Q=this.getButtonPrefWidth();return Q==P?C.getPreferredSize().width:Q},getButtonHeight:function(G){var b=this.getButtonPrefHeight();return b==P?G.getPreferredSize().height:b},setButtons:function(D){var m=this,n=m._buttons;if(D!==n){var f=m.$138u;if(f)for(var w=0,U=f.length;U>w;w++){var Z=f[w];m.removeView(Z)}m.$138u=P}m.setPropertyValue("buttons",D)},addButton:function(v,V){var S=this,m=S.getButtons();m||(m=S._buttons=[]),m._as&&(m=m._as),V!=P?m.splice(V,0,v):m.push(v),S.$138u=P,S.fp("buttons",P,S.getButtons())},removeButtonAt:function(u){var I=this,B=I.getButtons();B&&(B._as&&(B=B._as),B.splice(u,1),I.$138u=P,I.fp("buttons",P,I.getButtons()))},drawFooterBackground:function(u,y,E,r,K){u&&u.draw(y,E,r,K,P,this)},updateBounds:function(B,h){var L=this;if(B==P&&h==P){var G=L.getCenterPosition();B=G.x,h=G.y}B!=P&&L.setX(B),h!=P&&L.setY(h),L.getWidth()==P&&L.setWidth(L.getPreferredSize().width),L.getHeight()==P&&L.setHeight(L.getPreferredSize().height)},show:function(D,k){var z=this,L=z.isVisible();D&&k==P&&(k=D.y,D=D.x),L||(z.refreshStyles(),z.updateBounds(D,k),z.setVisible(!0));var M=z.getView();M.parentNode||_.appendToScreen(M)},hide:function(){var D=this,t=D.isVisible();t&&D.setVisible(!1),Rl(D.getView())},getCenterPosition:function(){var Z=this,t=Qo(),R=Z.getWidth()||Z.getPreferredSize().width,q=Z.getHeight()||Z.getPreferredSize().height;return{x:X((t.width-R)/2),y:X((t.height-q)/2)}},$5u:function(Z){var J,o=this,W=o.isExpanded(),a=o.getFooterHeight(),b=o.getButtons();return J=N.Dialog.superClass.$5u.call(o,Z),W&&b&&(b._as&&(b=b._as),b.length>0&&(J.height-=a)),J},$25u:function(){var U=this,e=U.$14u,v=U.$15u,g=U.$16u,n=U.$17u,j=U.$18u,M=U.getBorder(),y=0,O=0,u=0,Q=0;M&&M.isCSSBorder()&&(y=U.getBorderLeft(),O=U.getBorderRight(),u=U.getBorderTop(),Q=U.getBorderBottom()),[e,v,g,n,j].forEach(function(T){T.$20u&&(T.style.left=T.$20u-y+wc),T.$21u&&(T.style.right=T.$21u-O+wc),T.$22u&&(T.style.top=T.$22u-u+wc),T.$23u&&(T.style.bottom=T.$23u-Q+wc)})},validateImpl:function(Z,Q,J,A){var L=this,M=L.getView(),h=L.isVisible(),n=L.getFooterHeight(),u=L.getButtonAlign(),G=L.getButtonVAlign(),E=L.getButtonGap(),f=L.getButtonViews(),x=L.$19u,k=L.$239u;if(h){if(L.isAutoResize()&&L.getPreferredSize(),N.Dialog.superClass.validateImpl.call(L,Z,Q,J,A),L.isModal()?(x.parentNode||M.insertBefore(x,k),x.style.background=L.getMaskBackground()):Rl(x),f&&f.length>0){var v=Q+A-n;L.drawFooterBackground(L.getFooterBackgroundDrawable(),Z,v,J,n);for(var $=[],C=[],c=[],t=0;t<f.length;t++){var V=f[t],i=L.getChildLayoutParams(V);i.align===sr||u==sr&&i.align==P?$.push(V):i.align===Vb||u==Vb&&i.align==P?c.push(V):C.push(V)}for(var F=L.getFooterPaddingLeft(),t=0,s=$.length;s>t;t++){var R,V=$[t],d=L.getButtonWidth(V),z=L.getButtonHeight(V);R=G===el?A-n:G===eh?A-z:A-n+(n-z)/2,L.layoutChild(V,F,R,d,z),F+=d+E}for(var _=L.$24u(C),F=(J-_)/2,t=0;t<C.length;t++){var R,V=C[t],d=L.getButtonWidth(V),z=L.getButtonHeight(V);R=G===el?A-n:G===eh?A-z:A-n+(n-z)/2,L.layoutChild(V,F,R,d,z),F+=d+E}F=J-L.getFooterPaddingRight();for(var t=c.length-1;t>=0;t--){var R,V=c[t],d=L.getButtonWidth(V),z=L.getButtonHeight(V);R=G===el?A-n:G===eh?A-z:A-n+(n-z)/2,F-=d,L.layoutChild(V,F,R,d,z),F-=E}}L.$25u()}},getSerializableProperties:function(){var i=N.Dialog.superClass.getSerializableProperties.call(this);return pq(i,{"is:modal":1,resizable:1,maskBackground:1,resizeBorderColor:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closable:1,closeToolIndex:1,maximizable:1,maximized:1,maximizeToolIndex:1,maximizeIcon:1,maximizeIconDrawable:1,hoverMaximizeIcon:1,hoverMaximizeIconDrawable:1,activeMaximizeIcon:1,activeMaximizeIconDrawable:1,restoreIcon:1,restoreIconDrawable:1,hoverRestoreIcon:1,hoverRestoreIconDrawable:1,activeRestoreIcon:1,getActiveRestoreIconDrawable:1,footerHeight:1,footerBackground:1,footerBackgroundDrawable:1,buttonGap:1,buttonAlign:1,buttnVAlign:1,footerPaddingLeft:1,footerPaddingRight:1,buttonPrefWidth:1,buttonPrefHeight:1,buttons:1,"is:fixToCenter":1})}}),N.DialogInteractor=function(w){this._view=w},Mg("ht.ui.DialogInteractor",N.PanelInteractor,{ms_listener:1,getView:function(){return this._view.$239u},handle_mousedown:function(m){this.handle_touchstart(m)},handle_touchstart:function(q){var C=this,I=C._view,V=I.isMaximized(),h=I.$26u;if(h||N.DialogInteractor.superClass.handle_touchstart.call(C,q),!V)if(I.getHeaderState()===hh)I.isFixToCenter()||(C.$27u=Zr(q));else if(h){I.isSelfViewEvent(q)&&fm(q),C.$28u=Zr(q),Qd(C,q);var E=C.$19u=Zh(),P=I.$239u;E.style.width=P.style.width,E.style.height=P.style.height,E.style.left=P.style.left,E.style.top=P.style.top,P.parentNode.appendChild(E)}},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handleWindowTouchEnd:function(J){var A=this,e=A._view,A=this,w=e.$26u,C=A.$12u;if(w){if(Rl(A.$19u),A.$19u=P,C){var W=C.style.left,p=C.style.width,S=C.style.height;e.setX(e.getX()+Qk(W)),e.setWidth(Qk(p)),e.setHeight(Qk(S)),Rl(C)}e.setResizeMode()}else N.DialogInteractor.superClass.handleWindowTouchEnd.call(A,J);A.$12u=A.$28u=A.$27u=P},handle_mouseup:function(V){this.handle_touchend(V)},handle_touchend:function(m){var u=this;N.DialogInteractor.superClass.handle_touchend.call(u,m)},handleWindowMouseMove:function(G){this.handleWindowTouchMove(G)},handleWindowTouchMove:function(E){var r=this,P=r._view,t=P.$26u;if(P.isSelfViewEvent(E)&&!tc&&fm(E),r.$27u){var u=r.$27u,m=Zr(E),C=P.getHeaderHeight()+P.getBorderTop()+P.getPaddingTop(),I=m.x-u.x,L=m.y-u.y,f=P.getX(),S=P.getY(),d=f+I,q=S+L,J=Qo();0>q&&(q=0),q+C>J.height&&(q=J.height-C),d+P.getWidth()<30&&(d=30-P.getWidth()),d+30>J.width&&(d=J.width-30),d=X(d),q=X(q),P.setX(d),P.setY(q),u.x+=d-f,u.y+=q-S}else if(t){var Y=r.$28u,m=Zr(E),A=P.getWidth(),B=P.getHeight(),V=r.$12u;if(!V){V=r.$12u=Zh(!1,P._view);var G=V.style;G.border="1px dashed "+P.getResizeBorderColor(),G.left="0px",G.top="0px",G.width=A+wc,G.height=B+wc}var I=m.x-Y.x,L=m.y-Y.y,O=P.getMinSize().width,g=P.getMinSize().height,w=P.getMaxSize().width,l=P.getMaxSize().height;/east/.test(t)?(O>A+I&&(I=O-A),A+I>w&&(I=w-A),V.style.width=A+I+wc):/west/.test(t)&&(O>A-I&&(I=A-O),A-I>w&&(I=A-w),V.style.width=A-I+wc,V.style.left=I+wc),/south/.test(t)&&(g>B+L&&(L=g-B),B+L>l&&(L=l-B),V.style.height=B+L+wc)}},handle_mousemove:function(u){var f,b=this,h=b._view,S=h.isResizable(),B=h.isExpanded(),V=h.isMaximized();Gq()||(!V&&B&&S&&(f=h.getResizeDivAt(u)),h.setResizeMode(f)),f||N.DialogInteractor.superClass.handle_mousemove.call(b,u)},handle_touchmove:function(){},handle_mouseleave:function(o){var h=this,G=h._view,Z=G.$26u;Z&&Gq()!==h&&G.setResizeMode(),N.DialogInteractor.superClass.handle_mouseleave.call(h,o)}}),N.FlowLayout=function(K){N.FlowLayout.superClass.constructor.call(this),this.set(K)},Mg("ht.ui.FlowLayout",N.ViewGroup,{ui_ac:["direction"],__direction:"leftToRight",getChildWidth:function(e){var L=this.getChildLayoutParams(e),I=L.width;return I===Ki||I===zb||I==P?e.getPreferredSize().width:I},getChildHeight:function(z){var j=this.getChildLayoutParams(z),M=j.height;return M===Ki||M===zb||M==P?z.getPreferredSize().height:M},figurePreferredSize:function(){var j=this,V=j.getDirection(),m=j.getWidth(),t=j.getHeight();if((V===sr+"ToRight"||V===Vb+"ToLeft")&&m==P||(V===eh+"Up"||"topDown"===V)&&t==P)return{width:100,height:100};var v=j.getVisibleChildren(),B=v.size();if(V===sr+"ToRight"||V===Vb+"ToLeft"){for(var U=0,F=0,T=j.getPaddingTop()+j.getPaddingBottom()+j.getBorderTop()+j.getBorderBottom(),n=0;B>n;n++){var Y=v.get(n),H=(Y.getPreferredSize(),j.getChildLayoutParams(Y)),u=H.flowBreak,C=H.marginLeft||0,S=H.marginRight||0,s=H.marginTop||0,X=H.marginBottom||0,l=j.getChildWidth(Y),L=j.getChildHeight(Y);if(F=A(F,L+s+X),U+=C+l+S,B-1>n){var h=u;if(!h){var Q=v.get(n+1),y=(Q.getPreferredSize(),j.getChildLayoutParams(Q)),E=y.marginLeft||0,a=y.marginRight||0,R=j.getChildWidth(Q);U+R+E+a>m&&(h=!0)}h&&(T+=F,U=0,F=0)}else T+=F}return{width:w(m),height:w(T)}}for(var O=0,W=0,$=j.getPaddingLeft()+j.getPaddingRight()+j.getBorderLeft()+j.getBorderRight(),n=0;B>n;n++){var Y=v.get(n),H=(Y.getPreferredSize(),j.getChildLayoutParams(Y)),u=H.flowBreak,C=H.marginLeft||0,S=H.marginRight||0,s=H.marginTop||0,X=H.marginBottom||0,l=j.getChildWidth(Y),L=j.getChildHeight(Y);if(W=A(W,l+C+S),O+=s+L+X,B-1>n){var h=u;if(!h){var Q=v.get(n+1),y=(Q.getPreferredSize(),j.getChildLayoutParams(Q)),r=y.marginTop||0,M=y.marginBottom||0,z=j.getChildHeight(Q);O+z+r+M>t&&(h=!0)}h&&($+=W,O=0,W=0)}else $+=W}return{width:w($),height:w(t)}},onPropertyChanged:function(P){var F=this,n=F.getDirection(),p=P.property;((n===sr+"ToRight"||n===Vb+"ToLeft")&&p==uh||(n===eh+"Up"||"topDown"===n)&&p==_o)&&F.checkPreferredSize("*"),N.FlowLayout.superClass.onPropertyChanged.call(F,P)},validateImpl:function(L,C,v,r){var h=this;N.FlowLayout.superClass.validateImpl.call(h,L,C,v,r);var Y=h.getDirection(),M=h.getVisibleChildren(),_=M.size();if(Y===sr+"ToRight"){for(var n=0,j=0,t=0,B=0,z=0;_>z;z++){var R=M.get(z),b=(R.getPreferredSize(),h.getChildLayoutParams(R)),D=b.flowBreak,P=b.marginLeft||0,K=b.marginRight||0,u=b.marginTop||0,f=b.marginBottom||0,H=h.getChildWidth(R),s=h.getChildHeight(R);if(t=A(t,s+u+f),h.layoutChild(R,n+P,j+u,H,s),n+=P+H+K,_-1>z){var x=D;if(!x){var d=M.get(z+1),T=(d.getPreferredSize(),h.getChildLayoutParams(d)),F=T.marginLeft||0,I=T.marginRight||0,p=h.getChildWidth(d);n+p+F+I>v&&(x=!0)}x&&(n=0,j+=t,B+=t,t=0)}else B+=t}h.updateScrollBar(v,r,v,B)}else if(Y===Vb+"ToLeft"){for(var n=v,j=0,t=0,B=0,z=0;_>z;z++){var R=M.get(z),b=(R.getPreferredSize(),h.getChildLayoutParams(R)),D=b.flowBreak,P=b.marginLeft||0,K=b.marginRight||0,u=b.marginTop||0,f=b.marginBottom||0,H=h.getChildWidth(R),s=h.getChildHeight(R);if(t=A(t,s+u+f),h.layoutChild(R,n-K-H,j+u,H,s),n-=P+H+K,_-1>z){var x=D;if(!x){var d=M.get(z+1),T=(d.getPreferredSize(),h.getChildLayoutParams(d)),F=T.marginLeft||0,I=T.marginRight||0,p=h.getChildWidth(d);0>n-p-F-I&&(x=!0)}x&&(n=v,j+=t,B+=t,t=0)}else B+=t}h.updateScrollBar(v,r,v,B)}else if("topDown"===Y){for(var n=0,j=0,g=0,w=0,z=0;_>z;z++){var R=M.get(z),b=(R.getPreferredSize(),h.getChildLayoutParams(R)),D=b.flowBreak,P=b.marginLeft||0,K=b.marginRight||0,u=b.marginTop||0,f=b.marginBottom||0,H=h.getChildWidth(R),s=h.getChildHeight(R);if(g=A(g,H+P+K),h.layoutChild(R,n+P,j+u,H,s),j+=u+s+f,_-1>z){var x=D;if(!x){var d=M.get(z+1),T=(d.getPreferredSize(),h.getChildLayoutParams(d)),O=T.marginTop||0,i=T.marginBottom||0,U=h.getChildHeight(d);j+U+O+i>r&&(x=!0)}x&&(j=0,n+=g,w+=g,g=0)}else w+=g}h.updateScrollBar(v,r,w,r)}else if(Y===eh+"Up"){for(var n=0,j=r,g=0,w=0,z=0;_>z;z++){var R=M.get(z),b=(R.getPreferredSize(),h.getChildLayoutParams(R)),D=b.flowBreak,P=b.marginLeft||0,K=b.marginRight||0,u=b.marginTop||0,f=b.marginBottom||0,H=h.getChildWidth(R),s=h.getChildHeight(R);if(g=A(g,H+P+K),h.layoutChild(R,n+P,j-f-s,H,s),j-=u+s+f,_-1>z){var x=D;if(!x){var d=M.get(z+1),T=(d.getPreferredSize(),h.getChildLayoutParams(d)),O=T.marginTop||0,i=T.marginBottom||0,U=h.getChildHeight(d);0>j-U-O-i&&(x=!0)}x&&(j=r,n+=g,w+=g,g=0)}else w+=g}h.updateScrollBar(v,r,w,r)}},getSerializableProperties:function(){var U=N.FlowLayout.superClass.getSerializableProperties.call(this);return pq(U,{direction:!0})}}),J.ui.ScrollInteractor=function(a){this._view=a},Mg("ht.ui.ScrollInteractor",j,{ms_listener:1,getView:function(){return this._view.$239u},clear:function(){var z=this,I=z.$19u;z._state=z.$44u=z.$45u=z.$46u=z.$19u=z._view._scrolling=P,I&&z.getView().removeChild(I)},handle_mousedown:function(D){this.handle_touchstart(D)},handle_touchstart:function(u){var y=this,E=y._view;if(E.isSelfViewEvent(u)){var b=E.isCloseToVScrollBar(u),f=E.isCloseToHScrollBar(u),I=$q(u);if(b||f){fm(u),b?y._state="vScroll":f&&(y._state="hScroll"),y.$44u=I,y.$45u=E.tx(),y.$46u=E.ty();var g=y.$19u=Zh();g.style.width="100%",g.style.height="100%",y.getView().insertBefore(g,y._view.$365),Qd(y,u),u.$146u=!0,E._scrolling=!0,E.showScrollBar()}}},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Y){this.clear(Y)},handle_mouseup:function(S){this.handle_touchend(S)},handle_touchend:function(P){this.clear(P)},handleWindowMouseMove:function(q){this.handleWindowTouchMove(q)},handleWindowTouchMove:function(C){var Q=this,X=Q._view,t=Q._state,e=Q.$45u,o=Q.$46u,B=Q.$44u,q=$q(C),h=X.getZoom(),N=X.$118u;if("vScroll"===t)X.setTranslateY(o+(B.y-q.y)/h*X.$188u/N.height),C.$146u=!0;else if("hScroll"===t){var E=X.getScrollBarIndent?X.getScrollBarIndent()||0:0,M=X.getRightScrollBarIndent?X.getRightScrollBarIndent()||0:0;X.setTranslateX(e+(B.x-q.x)/h*(X.$189u-E-M)/(N.width-E-M)),C.$146u=!0}},handle_mousemove:function(j){this.handle_touchmove(j)},handle_touchmove:function(b){if(!Gq()&&gp(b)){var $=this,X=$._view;if(X.isSelfViewEvent(b)){var k=X.isCloseToVScrollBar(b),c=X.isCloseToHScrollBar(b);(k||c)&&X.showScrollBar()}}},handle_wheel:function(L){var $=L.deltaX,R=L.deltaY;I($)>I(R)?this.handleScroll(L,-$,!1):this.handleScroll(L,-R,!0)},handleScroll:function($,K,l){$.preventDefault();var H=this._view,X=H.$118u,k=H.getScrollRect();(H instanceof N.HtmlView||H.isSelfViewEvent($))&&(H.showScrollBar(),l&&H.isVScrollable()?K>0?X.y<=0||(H.translate(0,K),$.$146u=!0):0>K&&(k.height-X.height<=X.y||(H.translate(0,K),$.$146u=!0)):H.isHScrollable()&&(K>0?X.x<=0||(H.translate(K,0),$.$146u=!0):0>K&&(k.width-X.width<=X.x||(H.translate(K,0),$.$146u=!0))))}}),N.HtmlView=function($){N.HtmlView.superClass.constructor.call(this),Gl($)||$ instanceof Node?this.setContent($):this.set($)},Mg("ht.ui.HtmlView",Aq,{ui_txy:1,ui_ac:["is:autoRefreshPreferredSize","contentFont","contentColor","overflow"],__overflow:"hidden",ms_ac:["content"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{content:!0}),$284u:pq(Je(fn.$284u),{overflow:!0}),fixWebkitBorderOverflow:function(){var W,y=this,d=y.getOverflow();"hidden"===d||(W=!1),N.HtmlView.superClass.fixWebkitBorderOverflow.call(y,W)},layoutDOM:function(g,P,t,U){var K=this,r=K.getOverflow();N.HtmlView.superClass.layoutDOM.call(K,g,P,t,U),K.$239u.style.overflow=r,K.$198u.style.overflow=r},getInteractorClasses:function(){return[N.ScrollInteractor]},figureDOMSize:function(Q){return{width:Q.scrollWidth+1,height:Q.scrollHeight}},createContentWrapper:function(){return Zh()},figurePreferredSize:function(){var C=this,t=C.getContent(),f=C.getContentFont(),R=C.getContentWidth(),c=C.createContentWrapper();!C.isAutoRefreshPreferredSize()||R==P||c.style.width!=P&&""!=c.style.width||(c.style.width=R+wc),t instanceof HTMLElement?c.appendChild(t):Gl(t)&&(c.innerHTML=t),c.style.visibility="hidden",f!=P&&(c.style.font=f),E.body.appendChild(c);var O=C.figureDOMSize(c),G={width:C.getPaddingLeft()+C.getPaddingRight()+C.getBorderLeft()+C.getBorderRight()+O.width,height:C.getPaddingTop()+C.getPaddingBottom()+C.getBorderTop()+C.getBorderBottom()+O.height};return t instanceof HTMLElement&&C.$198u.appendChild(t),E.body.removeChild(c),G.width=w(G.width),G.height=w(G.height),G},figureScrollSize:function(R){var Q=this;if(Q.isInDOM())var c=R.scrollWidth,F=R.scrollHeight;else var B=Q.figurePreferredSize(),c=B.width,F=B.height;return{width:c,height:F}},onPropertyChanged:function(b){var I=this,T=b.property;if(N.HtmlView.superClass.onPropertyChanged.call(I,b),"content"===T){var y=I.getContent(),s=I.$198u;y&&(y instanceof HTMLElement?I.$315u(s,y):Gl(y)&&I.$314u(s,y))}},validateImpl:function(R,a,Y,c){var o=this,k=o.$198u,w=o.getContentFont(),L=o.getContentColor();w!=P&&(k.style.font=w),L!=P&&(k.style.color=L),o.isAutoRefreshPreferredSize()?o.$120u!==Y&&(o.checkPreferredSize("content"),o.$120u=Y):o.$120u=x;var n=o.figureScrollSize(k),h=o.tx(),s=o.ty();o.$118u={x:-h,y:-s,width:Y,height:c},o.$189u=n.width,o.$188u=n.height,k.scrollTop=-s,k.scrollLeft=-h},$315u:function(A,o){Kp(A),A.appendChild(o)},$314u:function(D,G){Kp(D),D.innerHTML=G},getSerializableProperties:function(){var d=N.HtmlView.superClass.getSerializableProperties.call(this);return pq(d,{"is:autoRefreshPreferredSize":1,content:1,contentFont:1,contentColor:1,scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,translateX:1,translateY:1,overflow:1})}}),N.HTView=function(G){N.HTView.superClass.constructor.call(this),G&&G.getView?this.setContent(G):this.set(G)},Mg("ht.ui.HTView",Aq,{ms_ac:["content"],figurePreferredSize:function(){return{width:200,height:200}},onPropertyChanged:function(H){var n=this,f=H.property;if(N.HTView.superClass.onPropertyChanged.call(n,H),"content"===f){var $=H.oldValue,X=n.getContent(),v=n.$198u;if($&&v.removeChild($.getView()),X){var Q=X.getView();v.appendChild(Q),X.getView().style.left="0",X.getView().style.top="0",X.getView().style.width="100%",X.getView().style.height="100%"}}},validateImpl:function(p,X,U,O){var u=this,g=u.getContent();N.HTView.superClass.validateImpl.call(u,p,X,U,O),g.iv(),g.validate()},getSerializableProperties:function(){var T=N.HTView.superClass.getSerializableProperties.call(this);return pq(T,{content:1})}}),N.Message=function(K){var M=this;N.Message.superClass.constructor.call(M),M.set(K)},Mg("ht.ui.Message",N.ViewGroup,{ui_ac:["title","titleFont","titleColor","content","contentColor","contentFont","drawable:icon","drawable:closeIcon","fixedWidth"],_preferredSizeProps:pq(Je(Id._preferredSizeProps),{titleFont:!0}),__padding:10,__titleFont:"bold 14px Arial",__titleColor:O.textColor,__contentFont:O.font,__contentColor:O.textColor,__boxShadow:"0 2px 10px rgba(0,0,0,0.16)",__fixedWidth:300,__closeIcon:"ui_dialogClose",__background:"#fff",getInteractorClasses:function(){return[N.MessageInteractor]},closeIconHitTest:function(j){var U=this,y=U.$369;if(y){var f=j instanceof Event?U.lp(j):j;return be(y,f)}},setOnIcon:function(e){var y=this,R=y._onIcon;e!==R&&(y._onIcon=e,y.iv())},getCursor:function(){var I=this,_=I.getPropertyValue("cursor"),s=I._onIcon;return s?"pointer":_},onPropertyChanged:function(m){var Y=this,H=m.property;if(N.Message.superClass.onPropertyChanged.call(Y,m),"content"===H){var u,V=Y.getContent();if(Gl(V)){u=new N.HtmlView;var k=u.createContentWrapper;u.createContentWrapper=function(){var t=k.call(u),y=Y.getFixedWidth();if(t.style.font=Y.getContentFont(),y){var j=Y.getTitle(),I=Y.getIconDrawable(),l=j?30:16,P=Y.getCloseIconDrawable();I&&(y-=l+10),P&&(y-=26),t.style.width=y+wc}return t},u.setContent(V)}else V.isSelfViewEvent&&(u=V);var w=Y._children.get(0);u!==w&&(w&&Y.removeView(w),u&&Y.addView(u))}var x=Y._children.get(0);if(x instanceof N.HtmlView){var I={contentFont:!0,fixedWidth:!0,title:!0,icon:!0,iconDrawable:!0,closeIcon:!0,closeIconDrawable:!0};I[H]&&x.checkPreferredSize("*")}},figurePreferredSize:function(){var E,R=this,C=R.getTitle(),O=R._children.get(0),d=O.getPreferredSize(),X=R.getCloseIconDrawable(),i=R.getIconDrawable(),z=C?30:16,n=C?30:16,Z=0,u=0;return C?(E=Kd(R.getTitleFont(),C),Z=A(E.width,d.width),u=E.height+d.height+5):(Z=d.width,u=d.height),i&&(Z+=10+z,u=A(u,n)),X&&(Z+=26,u=A(u,16)),{width:w(Z+R.getBorderLeft()+R.getBorderRight()+R.getPaddingLeft()+R.getPaddingRight()),height:w(u+R.getBorderTop()+R.getBorderBottom()+R.getPaddingTop()+R.getPaddingBottom())}},drawIcon:function(s,G,f,S,k){s.draw(G,f,S,k,P,this)},drawTitle:function(S,j,z,U,R,X,B){var O=this.getRootContext();O.beginPath(),Xh(O,S,j,z,U,R,X,B,sr,id)},validateImpl:function(j,Q,$,u){var C=this,F=C.getTitle(),_=C.getChildren().get(0),m=C.getIconDrawable(),e=F?30:16,K=F?30:16,p=0,S=0,l=j,J=Q,R=C.getCloseIconDrawable();if(m&&(C.drawIcon(m,j,Q,e,K),j+=e,p+=e,j+=10,p+=10),F){var V=C.getTitleFont(),h=Kd(V,F);C.drawTitle(F,C.getTitleFont(),C.getTitleColor(),j,Q,$,h.height),Q+=h.height,S+=h.height+5}if(R){var y=C.$369={x:l+$-16,y:J,width:16,height:16};R.draw(y.x,y.y,y.width,y.height,P,C),y.x-=l,y.y-=J,$-=y.width+10}else C.$369=P;if(_ instanceof N.HtmlView){var M=_.getContentDiv();M.style.color=C.getContentColor(),M.style.font=C.getContentFont()}C.layoutChild(_,p,S,$-p,u-S)},getSerializableProperties:function(){var n=N.Message.superClass.getSerializableProperties.call(this);return pq(n,{title:!0,titleFont:!0,titleColor:!0,content:!0,contentColor:!0,contentFont:!0,icon:!0,iconDrawable:!0,closeIcon:!0,closeIconDrawable:!0,fixedWidth:!0})}}),N.MessageInteractor=function(S){N.MessageInteractor.superClass.constructor.call(this,S)},Mg("ht.ui.MessageInteractor",N.Interactor,{handle_mousedown:function(g){this.handle_touchstart(g)},handle_touchstart:function(f){var E=this,J=E.getComponent();J.isSelfViewEvent(f)&&(fm(f),J.closeIconHitTest(f)&&(E.$47u=!0,Qd(E,f)))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(j){this.handleWindowTouchEnd(j)
},handleWindowTouchEnd:function(c){var U=this,u=U.getComponent();U.$47u&&u.closeIconHitTest(c)&&u.fireViewEvent({kind:"clickCloseIcon",source:u}),U.$47u=P},handle_mousemove:function(r){var l=this,Y=l.getComponent(),D=Y.closeIconHitTest(r);Y.setOnIcon(D)}}),N.Alert=function(C){var x=this;N.Alert.superClass.constructor.call(x);var f=x._contentLayout=new N.SplitLayout({orientation:"h",resizable:!1,splitter:"rgba(0,0,0,0)",toggleVisible:!1,splitterSize:10,splitterHitSize:10,positionType:"absoluteFirst"}),k=x._rightLayout=new N.VBoxLayout,M=x.$363=new N.HtmlView,d=x.$364=new N.Label({padding:0,border:P,iconWidth:30,iconHeight:30}),O=M.createContentWrapper;M.createContentWrapper=function(){var k=O.call(M),G=x.getFixedWidth();return k.style.font=x.getContentTextFont(),G&&(G-=x.getPaddingLeft()+x.getPaddingRight()+x.getBorderLeft()+x.getBorderRight()+f.getPaddingLeft()+f.getPaddingRight()+(x.getContentIcon()?40:0),k.style.width=G+wc),k},f.addView(d,{region:"first",vAlign:el,align:$r,width:30,height:30}),f.addView(k,{region:"second"}),k.getChildLayoutParams=function(Z){var J=Z.getLayoutParams();return Z===M?J||{width:Ki}:J||{width:Ki,marginTop:5}},k.addView(M),f.setPadding(x.getContentPadding()),x.setContentView(f),x.on("d:keydown",function(b){if(jm(b)){var I=x.getEscHandler();I&&I.call(x,b)}else if(Tn(b)){var c=x.getEnterHandler();c&&c.call(x,b)}}),x.set(C)},Mg("ht.ui.Alert",N.Dialog,{ui_ac:["contentText","contentPadding","contentIcon","contentTextColor","contentTextFont","fixedWidth"],ms_ac:["contentInput","escHandler","enterHandler"],_preferredSizeProps:pq(Je(N.Dialog.prototype._preferredSizeProps),{contentPadding:!0,contentInput:!0}),__contentTextFont:O.font,__contentTextColor:O.textColor,__contentPadding:16,__maximizable:!1,__closable:!1,__collapsable:!1,__resizable:!1,__footerHeight:44,__buttonVAlign:el,__fixedWidth:300,onPropertyChanged:function(n){var O=this,m=n.property;N.Alert.superClass.onPropertyChanged.call(O,n);var d=O._contentLayout,X=O._rightLayout,J=O.$363,R=O.$364;if("contentText"===m)J.setContent(n.newValue);else{var W={contentTextFont:!0,contentPadding:!0,contentIcon:!0,fixedWidth:!0};if(W[m])J.checkPreferredSize("*");else if("contentInput"===m){var z=n.oldValue,r=n.newValue;z&&X.removeView(z),r&&(X.addView(r),O.onOnce("endValidate",function(){r.requestFocus()}))}"contentPadding"===m&&d.setPadding(n.newValue),"contentIcon"===m&&R.setIcon(n.newValue),R.getIconDrawable()?(d.setSplitterSize(10),d.setSplitterHitSize(10),d.setCollapseRegion(P)):(d.setSplitterSize(0),d.setSplitterHitSize(0),d.setCollapseRegion("first"))}},validateImpl:function(I,L,J,g){var s=this,m=s.$363,d=m.getContentDiv();d.style.color=s.getContentTextColor(),d.style.font=s.getContentTextFont(),N.Alert.superClass.validateImpl.call(s,I,L,J,g)},getSerializableProperties:function(){var r=N.Alert.superClass.getSerializableProperties.call(this);return pq(r,{contentText:!0,contentPadding:!0,contentIcon:!0,contentTextColor:!0,contentTextFont:!0,fixedWidth:!0,escHandler:!0,enterHandler:!0})}}),N.Breadcrumb=function(g){N.Breadcrumb.superClass.constructor.call(this),this.set(g)},Mg("ht.ui.Breadcrumb",N.View,{ui_ac:["items","itemGap","drawable:separator","separatorWidth","separatorHeight","drawable:itemBackground","drawable:hoverItemBackground","drawable:activeItemBackground","drawable:selectItemBackground","itemTextColor","hoverItemTextColor","activeItemTextColor","selectItemTextColor","itemTextFont","itemIconWidth","itemIconHeight","itemIconTextGap","itemPadding"],ms_ac:["currentItemIndex","currentItemState","selectItemIndex"],ui_txy:!0,_preferredSizeProps:pq(Je(N.View.prototype._preferredSizeProps),{items:!0,itemGap:!0,separator:!0,itemTextFont:!0,itemIconWidth:!0,itemIconHeight:!0,itemIconTextGap:!0,itemPadding:!0}),__scrollBarMode:"off",__itemIconWidth:16,__itemIconHeight:16,__itemIconTextGap:4,__separator:"ui_breadcrumb_separator",__separatorWidth:6,__separatorHeight:10,__itemBackground:P,__hoverItemBackground:O.hoverBackground,__activeItemBackground:O.activeBackground,__selectItemBackground:P,__itemTextColor:O.textColor,__selectItemTextColor:O.baseColor,__itemTextFont:O.font,__itemPadding:6,__itemGap:10,__padding:2,getItemPaddingLeft:function(){var i=this.getItemPadding();return Gr(i)?i[3]:i},getItemPaddingTop:function(){var C=this.getItemPadding();return Gr(C)?C[0]:C},getItemPaddingRight:function(){var K=this.getItemPadding();return Gr(K)?K[1]:K},getItemPaddingBottom:function(){var U=this.getItemPadding();return Gr(U)?U[2]:U},truncate:function(H){var Q=this,R=Q.getItems();if(R){if(H===R.length-1)return;var o=R.slice(0);o=o.splice(0,H+1),Q.setItems(o)}},addItem:function(G,E){if(G){var I=this,q=I.getItems();q||(q=[]),E==P&&(E=q.length);var V=q.slice(0);V.splice(E,0,G),I.setItems(V)}},getInteractorClasses:function(){return[N.BreadcrumbInteractor]},getItemAt:function(Z){var t=this,G=Z instanceof Event?t.lp(Z):Z,u=t.getItems();if(u){var S=0,l=0,n=t.getItemGap();if(t.getContentTop(),G.y>=0&&G.y<=t.getContentHeight()){var J=t.getStyle();if(J&&J.indexOf("breadcrumb-arrow")>=0)for(var M=0,w=u.length;w>M;M++){var D,L=u[M],U=t.figureItemSize(L),e=U.width,r=U.height;if(D=0===M?[[S,l],[S,l+r],[S+e-10,l+r],[S+e,l+r/2],[S+e-10,l]]:M===w-1?[[S,l],[S+10,l+r/2],[S,l+r],[S+e,l+r],[S+e,l]]:[[S,l],[S+10,l+r/2],[S,l+r],[S+e-10,l+r],[S+e,l+r/2],[S+e-10,l]],Xj([G.x,G.y],D))return L;S+=e+n}else for(var M=0,w=u.length;w>M;M++){var L=u[M],U=t.figureItemSize(L),e=U.width,r=U.height;if(G.x>=S&&G.x<=S+e)return L;S+=e+n}}}},figurePreferredSize:function(){var y=this,X={width:0,height:0},Y=y.getItems(),P=y.getBorderLeft(),o=y.getBorderRight(),U=y.getBorderTop(),E=y.getBorderBottom(),B=y.getPaddingTop(),c=y.getPaddingBottom(),u=y.getPaddingLeft(),V=y.getPaddingRight();if(Y)for(var r=(y.getItemIconWidth(),y.getItemIconHeight(),y.getItemGap()),p=0,N=Y.length;N>p;p++){var z=Y[p],I=y.figureItemSize(z),L=I.width,t=I.height;X.width+=L,N-1>p&&(X.width+=r),X.height=A(t,X.height)}return X.width=w(X.width+P+o+u+V),X.height=w(X.height+U+E+B+c),X},isHScrollable:function(){var R=this;return R._sumWidth>R.getContentWidth()},adjustTranslateX:function(f){var E=this.getContentWidth()-this._sumWidth;return E>f&&(f=E),f>0?0:X(f)},drawItemBackground:function(q,t,J,P,i,o){q&&q.draw(t,J,P,i,o,this)},drawItemIcon:function(F,H,_,q,k){F&&F.draw(H,_,q,k,P,this)},drawSeparator:function(x,W,n,D,c){x&&x.draw(W,n,D,c,P,this)},drawItemText:function(N,M,C,g,A,F,p,D){var W=this.getRootContext();W.beginPath(),Xh(W,N,M,C,g,A,F,p,D||$r,id)},figureItemSize:function(y){var d=this,C=y.icon||y.iconDrawable,g=d.getItemIconWidth(),T=d.getItemIconHeight(),Q=y.text,G=Q==P?{width:0,height:0}:Kd(this.getItemTextFont(),Q),F=G.width,z=G.height;return C&&(F+=g+d.getItemIconTextGap()),z=A(G.height,T),{width:F+d.getItemPaddingLeft()+d.getItemPaddingRight(),height:z+d.getItemPaddingTop()+d.getItemPaddingBottom()}},validateImpl:function(u,v,c,G){var s=this,A=s.getItems();if(s._sumWidth=0,A){var y=s.getRootContext();y.save(),y.beginPath(),y.rect(u,v,c,G),y.clip(),y.translate(s.getTranslateX(),0);for(var N=s.getItemBackgroundDrawable(),o=s.getHoverItemBackgroundDrawable(),r=s.getActiveItemBackgroundDrawable(),p=s.getSelectItemBackgroundDrawable(),K=s.getItemPaddingLeft(),O=s.getItemPaddingRight(),P=s.getItemIconWidth(),R=s.getItemIconHeight(),q=s.getItemTextColor(),l=s.getCurrentItemIndex(),B=s.getSelectItemIndex(),j=s.getItemGap(),J=s.getSeparatorDrawable(),Q=s.getSeparatorWidth(),H=s.getSeparatorHeight(),h=v+(G-R)/2,M=0,I=A.length;I>M;M++){var b=A[M],X=s.figureItemSize(b),t=X.width;b.iconDrawable||(b.iconDrawable=_.toDrawable(b.icon));var T=b.iconDrawable;if(B===M){s.drawItemBackground(p||N,u,v,t,G,b);var f=b.selectIconDrawable;f||(f=b.selectIconDrawable=_.toDrawable(b.selectIcon)),s.drawItemIcon(f||T,u+K,h,P,R),s.drawItemText(b.text,s.getItemTextFont(),s.getSelectItemTextColor()||q,u,v,t-O,G,Vb)}else if(l===M)if(s.getCurrentItemState()===Yh){s.drawItemBackground(o||N,u,v,t,G,b);var i=b.hoverIconDrawable;i||(i=b.hoverIconDrawable=_.toDrawable(b.hoverIcon)),s.drawItemIcon(i||T,u+K,h,P,R),s.drawItemText(b.text,s.getItemTextFont(),s.getHoverItemTextColor()||q,u,v,t-O,G,Vb)}else{s.drawItemBackground(r||N,u,v,t,G,b);var e=b.activeIconDrawable;e||(e=b.activeIconDrawable=_.toDrawable(b.activeIcon)),s.drawItemIcon(e||T,u+K,h,P,R),s.drawItemText(b.text,s.getItemTextFont(),s.getActiveItemTextColor()||q,u,v,t-O,G,Vb)}else s.drawItemBackground(N,u,v,t,G,b),s.drawItemIcon(T,u+K,h,P,R),s.drawItemText(b.text,s.getItemTextFont(),q,u,v,t-O,G,Vb);J&&I-1>M&&s.drawSeparator(J,u+t+(j-Q)/2,v+(G-H)/2,Q,H),u+=t+j,s._sumWidth+=t,I-1>M&&(s._sumWidth+=j)}y.restore()}s.tx(s.tx())},serializeProperty:function(Q,I,F){var X=this;if("items"===I){var p;if(Q){p=[];for(var j=0,T=p.length;T>j;j++){var v=_.clone(p[j]);delete v.iconDrawable,delete v.hoverIconDrawable,delete v.activeIconDrawable,delete v.selectIconDrawable,p.push(v)}}return p}return F.serializeProperty(Q,I,X)},getSerializableProperties:function(){var Z=N.Breadcrumb.superClass.getSerializableProperties.call(this);return pq(Z,{items:!0,itemGap:!0,separator:!0,separatorDrawable:!0,separatorWidth:!0,separatorHeight:!0,itemBackground:!0,itemBackgroundDrawable:!0,hoverItemBackground:!0,hoverItemBackgroundDrawable:!0,activeItemBackground:!0,activeItemBackgroundDrawable:!0,selectItemBackground:!0,selectItemBackgroundDrawable:!0,itemTextColor:!0,hoverItemTextColor:!0,activeItemTextColor:!0,selectItemTextColor:!0,itemTextFont:!0,itemIconWidth:!0,itemIconHeight:!0,itemIconTextGap:!0,itemPadding:!0,selectItemIndex:!0})}}),N.BreadcrumbInteractor=function(H){N.ButtonInteractor.superClass.constructor.call(this,H)},Mg("ht.ui.BreadcrumbInteractor",N.Interactor,{handle_mousedown:function(z){this.handle_touchstart(z)},handle_touchstart:function(C){fm(C);var u=this,D=u.getComponent(),s=D.getItems(),v=D.getItemAt(C);v&&(D.requestFocus(),D.setCurrentItemIndex(s.indexOf(v)),D.setCurrentItemState(hh),u.$47u=Zr(C),Qd(u))},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handleWindowTouchEnd:function(D){var S=this;S.$47u=P,S._oldPagePoint=P,S.checkCurrentItem(D,!0)},handle_mouseup:function(P){this.handle_touchend(P)},handle_touchend:function(K){var Q=this,i=Q.getComponent();if(Q.$47u&&!Q._oldPagePoint){var P=i.getItems(),w=i.getItemAt(K),r=i.getCurrentItemIndex();P.indexOf(w)===r&&i.setSelectItemIndex(r)}},handleWindowMouseMove:function(){},handleWindowTouchMove:function(i){var T=this,W=Zr(i),q=T._oldPagePoint;q||(q=T.$47u),(T._oldPagePoint||Bp(W,T.$47u)>2)&&(T.handleScroll(i,W.x-q.x),T._oldPagePoint=W)},handle_mousemove:function(d){var n=this;Gq()||n.checkCurrentItem(d)},checkCurrentItem:function(B,S){var _=this,T=_.getComponent(),m=T.getItems(),e=T.getItemAt(B);S&&tc||!e?(T.setCurrentItemIndex(P),T.setCurrentItemState(Ie)):(T.setCurrentItemIndex(m.indexOf(e)),T.setCurrentItemState(Yh))},handle_touchmove:function(){},handle_mousewheel:function(z){this.handleScroll(z,10*(z.wheelDelta/40))},handle_DOMMouseScroll:function(r){this.handleScroll(r,10*-r.detail)},handleScroll:function(b,h){var l=this,K=l.getComponent();fm(b),K.isHScrollable()&&(b.$146u=!0,K.tx(K.tx()+h))},handle_mouseleave:function(){var $=this,Z=$.getComponent();$.$47u||(Z.setCurrentItemIndex(P),Z.setCurrentItemState(Ie))}}),N.ButtonBase=function(){N.ButtonBase.superClass.constructor.call(this)},Mg("ht.ui.ButtonBase",Aq,{ui_ac:["drawable:icon","iconWidth","iconHeight","iconTextGap","text","textColor","textFont","hTextPosition","vTextPosition","align","vAlign","toolTip","badge","multilineTextAlign","iconStretch"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{icon:!0,iconDrawable:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,text:!0,textFont:!0,hTextPosition:!0,vTextPosition:!0}),__align:$r,__vAlign:id,__iconWidth:16,__iconHeight:16,__iconTextGap:4,__padding:[2,6,2,6],__textFont:O.font,__textColor:"black",__hTextPosition:Vb,__vTextPosition:id,__multilineTextAlign:sr,figureTextSize:function(){var W=this,n=W.getText(),f=W.getTextFont();return n==P||""===n?{width:0,height:0}:(n=n.toString(),n.indexOf("\n")>=0?Qn(f,n):Kd(f,n))},getTextSize:function(){return this.figureTextSize()},figurePreferredSize:function(){var F=this,l=F.getTextSize(),r=F.getIconDrawable(),g=F.getIconWidth(),K=F.getIconHeight(),D=F.getHTextPosition(),N=F.getVTextPosition(),Q=F.getIconTextGap(),C=F.getBorderLeft(),H=F.getBorderRight(),j=F.getBorderTop(),P=F.getBorderBottom(),u=F.getPaddingTop(),O=F.getPaddingBottom(),J=F.getPaddingLeft(),p=F.getPaddingRight();return l={width:l.width,height:l.height},r&&g&&K&&(D===$r?N===el||N===eh?(l.height+=K+(0===l.height?0:Q),l.width=A(l.width,g)):N===id&&(l.width=A(l.width,g),l.height=A(l.height,K)):(D===sr||D===Vb)&&(l.width+=g+(0===l.width?0:Q),l.height=A(l.height,K))),l.width=w(l.width+C+H+J+p),l.height=w(l.height+j+P+u+O),l},onPropertyChanged:function(h){var b=this;N.ButtonBase.superClass.onPropertyChanged.call(b,h)},drawText:function(I,A,n,G,S,f,o){var b=this.getRootContext();b.beginPath(),I&&I.toString().indexOf("\n")>=0?_.drawBreakableText(b,I.toString().split("\n"),{x:G,y:S,width:f,height:o},A,n,this.getMultilineTextAlign()):Xh(b,I,A,n,G,S,f,o,$r,id)},drawIcon:function($,S,e,q,u){if($){var f=this.getIconStretch();$.getStretch&&f&&($._stretch=f),$.draw(S,e,q,u,P,this)}},hitTest:function(u){var J=this,b=J._view;return u instanceof Event?b.contains(Ig(u)):u?u.x>=0&&u.x<=J.getWidth()&&u.y>=0&&u.y<=J.getHeight():void 0},validateImpl:function(U,q,V,T){var Y=this,g=Y.getAlign(),u=Y.getVAlign(),J=Y.getIconDrawable(),n=Y.getIconWidth(),s=Y.getIconHeight(),D=Y.getHTextPosition(),S=Y.getVTextPosition(),j=(Y.getIconTextGap(),Y.getTextSize()),$=Y.getBorderLeft(),v=Y.getBorderRight(),b=Y.getBorderTop(),B=Y.getBorderBottom(),t=Y.getPaddingTop(),r=Y.getPaddingBottom(),z=Y.getPaddingLeft(),c=Y.getPaddingRight(),w=Y.figurePreferredSize(),l=w.width-$-v-z-c,p=w.height-b-B-t-r;l-=Y._rightGap||0,V-=Y._rightGap||0;var y,K;D===$r?S===el?(y={x:(V-j.width)/2,y:(T-p)/2},K=J?{x:(V-n)/2,y:(T+p)/2-s}:P):S===id?(y={x:(V-j.width)/2,y:(T-j.height)/2},K=J?{x:(V-n)/2,y:(T-s)/2}:P):S===eh&&(K=J?{x:(V-n)/2,y:(T-p)/2}:P,y={x:(V-j.width)/2,y:(T+p)/2-j.height}):(D===sr?(K=J?{x:(V+l)/2-n}:P,y={x:(V-l)/2}):(y={x:(V+l)/2-j.width},K=J?{x:(V-l)/2}:P),S===el?(K&&(K.y=(T-A(j.height,s))/2),y.y=(T-A(j.height,s))/2):S===id?(K&&(K.y=(T-s)/2),y.y=(T-j.height)/2):S===eh&&(K&&(K.y=(T+A(j.height,s))/2-s),y.y=(T+A(j.height,s))/2-j.height));var x=(V-l)/2,F=(T-p)/2;g===sr?(y&&(y.x-=x),K&&(K.x-=x)):g===Vb&&(y&&(y.x+=x),K&&(K.x+=x)),u===el?(y&&(y.y-=F),K&&(K.y-=F)):u===eh&&(y&&(y.y+=F),K&&(K.y+=F)),K&&(K.x+=U,K.y+=q,K.width=n,K.height=s,Y.drawIcon(J,K.x,K.y,K.width,K.height)),y&&(y.x+=U,y.y+=q,y.width=j.width,y.height=j.height,Y.drawText(Y.getText(),Y.getTextFont(),Y.getTextColor(),y.x,y.y,y.width,y.height));var I=Y.getBadge(),R=Y._badgeDiv,L=Y._view;if(I){if(R||(R=Y._badgeDiv=E.createElement("div"),R.className="ht-ui-badge"),R.innerHTML=Gl(I)?I:I.text,R.style.borderRadius="10000px",R.style.padding=".25em .625em",R.style.display="inline-block",R.style.font=O.font,R.style.position="absolute",R.style.background="#cd5b52",R.style.color="#fff",I.css)for(var k in I.css)R.style[k]=I.css[k];R.parentNode!==L&&L.appendChild(R);var o=R.getBoundingClientRect();if(R.style.top=-o.height/2+"px",R.style.right=-o.width/2+"px",I.css)for(var k in I.css)R.style[k]=I.css[k]}else R&&Rl(R)},getSerializableProperties:function(){var U=N.ButtonBase.superClass.getSerializableProperties.call(this);return pq(U,{icon:1,iconStretch:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,text:1,textColor:1,textFont:1,hTextPosition:1,vTextPosition:1,align:1,vAlign:1,multilineTextAlign:1,toolTip:1,badge:1})}}),N.Label=function(J){N.Label.superClass.constructor.call(this),Gl(J)||Lk(J)?this.setText(J):this.set(J)},Mg("ht.ui.Label",N.ButtonBase,{__align:sr,__padding:0,__textColor:O.textColor,getInteractorClasses:function(){return[N.LabelInteractor]}}),N.LabelInteractor=function(G){this._label=G},Mg("ht.ui.LabelInteractor",j,{ms_listener:1,getView:function(){return this._label.$239u},handle_mousedown:function(e){this.handle_touchstart(e)},handle_touchstart:function(C){var i=this._label;i.isSelfViewEvent(C)&&fm(C)}}),N.Button=function(W){N.Button.superClass.constructor.call(this),this.set(W)},Mg("ht.ui.Button",N.ButtonBase,{ui_ac:["hoverTextColor","activeTextColor","disabledTextColor","drawable:hoverIcon","drawable:activeIcon","drawable:disabledIcon","drawable:hoverBackground","drawable:activeBackground","drawable:disabledBackground","hoverBorder","activeBorder","disabledBorder","is:pixelPerfect"],ms_ac:["state"],_preferredSizeProps:pq(Je(N.ButtonBase.prototype._preferredSizeProps),{hoverIconDrawable:!0,activeIconDrawable:!0,disabledIconDrawable:!0,hoverIcon:!0,activeIcon:!0,disabledIcon:!0}),_state:Ie,__padding:[4,16,4,16],__cursor:"pointer",__borderRadius:O.borderRadius,__border:new N.border.LineBorder(1,O.baseColor),__textColor:O.baseColor,__hoverTextColor:O.baseColor,__activeTextColor:O.baseColor,__background:P,__hoverBackground:O.hoverBackground,__activeBackground:O.activeBackground,__disabledBackground:"#fff",__disabledTextColor:O.textDimColor,__disabledBorder:new N.border.LineBorder(1,O.dimColor),hitTest:function(R){if(!this.isDisabled()){var D=this,l=D.isPixelPerfect();if(!l)return N.Button.superClass.hitTest.call(D,R);var I=R instanceof Event?D.lp(R):R;I.x+=D.getBorderLeft()+D.getPaddingLeft(),I.y+=D.getBorderTop()+D.getPaddingTop();var L=D.getRootContext(),H=L.getImageData(I.x*_.devicePixelRatio,I.y*_.devicePixelRatio,1,1).data,S=D.$244u;S&&S.$93u&&(S.$93u.restore(),S.$93u=P);var W=D._canvas;return W&&W.$93u&&(W.$93u.restore(),W.$93u=P),H[3]?!0:void 0}},getInteractorClasses:function(){return["ht.ui.ButtonInteractor"]},setDisabled:function(x){var o=this,t=o.isDisabled();!!x!=!!t&&(o.setPropertyValue("state",Ie),o.setPropertyValue("disabled",x),o.$240u())},setDisabledBorder:function(_){var f=this,B=f.getDisabledBorder();f.setPropertyValue("disabledBorder",_),B!==_&&f.isDisabled()&&f.$240u()},drawBackground:function(j,n,K,L,r,M){var z=this;j=z.getCurrentBackgroundDrawable(),N.Button.superClass.drawBackground.call(z,j,n,K,L,r,M)},getCursor:function(){var B=this,V=B.isPixelPerfect(),d=B.getPropertyValue("cursor");if(!V)return d;var u=B.getState();return"hover"===u||"active"===u?d:void 0},drawText:function(f,j,B,O,D,b,I){var c=this;B=c.getCurrentTextColor(),N.Button.superClass.drawText.call(c,f,j,B,O,D,b,I)},drawIcon:function(F,K,i,S,g){var A=this;F=A.getCurrentIconDrawable(),N.Button.superClass.drawIcon.call(A,F,K,i,S,g)},getCurrentBackgroundDrawable:function(B){var G=this,m=G.isDisabled(),n=G.getBackgroundDrawable();if(m){var D=G.getDisabledBackgroundDrawable();return D===x?n:D}if(B||(B=G.getState()),B===Ie)return n;if(B===Yh){var J=G.getHoverBackgroundDrawable();return J===x?n:J}if(B===hh){var A=G.getActiveBackgroundDrawable();return A===x?n:A}},getCurrentTextColor:function(i){var D=this,$=D.isDisabled(),e=D.getTextColor();return $?D.getDisabledTextColor()||e:(i||(i=D.getState()),i===Ie?e:i===Yh?D.getHoverTextColor()||e:i===hh?D.getActiveTextColor()||e:void 0)},getCurrentIconDrawable:function(p){var K=this,o=K.isDisabled(),y=K.getIconDrawable();if(o){var V=K.getDisabledIconDrawable();return V===x?y:V}if(p||(p=K.getState()),p===Ie)return y;if(p===Yh){var g=K.getHoverIconDrawable();return g===x?y:g}if(p===hh){var e=K.getActiveIconDrawable();return e===x?y:e}},makeDisabled:function(v,C){var D=this;N.Button.superClass.makeDisabled.call(D,v,C),C&&(C.style.background="rgba(0,0,0,0)",C.style.cursor="not-allowed")},setState:function(v){var h=this,S=h._state;h.setPropertyValue("state",v),v!==S&&h.$240u()},getCurrentBorder:function(v){var p=this,V=p.isDisabled(),q=N.Button.superClass.getCurrentBorder.call(p);if(V){var t=p.getDisabledBorder();return t===x?q:t}if(v||(v=p.getState()),v===Ie)return q;if(v===Yh){var I=p.getHoverBorder();return I===x?q:I}if(v===hh){var f=p.getActiveBorder();return f===x?q:f}},getSerializableProperties:function(){var m=N.Button.superClass.getSerializableProperties.call(this);return pq(m,{hoverTextColor:1,activeTextColor:1,disabledTextColor:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,disabledIcon:1,disabledIconDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,activeBackground:1,activeBackgroundDrawable:1,disabledBackground:1,disabledBackgroundDrawable:1,"is:pixelPerfect":1,hoverBorder:1,activeBorder:1,disabledBorder:1})}}),N.ButtonInteractor=function(u){N.ButtonInteractor.superClass.constructor.call(this,u)},Mg("ht.ui.ButtonInteractor",N.Interactor,{clearTouchState:function(){var e=this,q=e.getComponent();e.$47u=P,q.setState(Ie)},handle_mousedown:function(y){this.handle_touchstart(y)},handle_touchstart:function(S){fm(S);var o=this,j=o.getComponent();!j.isDisabled()&&j.hitTest(S)&&(j.requestFocus(),j.setState(hh),o.$47u=!0,Qd(o,S),o.addToTouchScrollClearQuene(S))},handleWindowMouseUp:function(n){this.handleWindowTouchEnd(n)},handleWindowTouchEnd:function(){var f=this;f.$47u=P},handle_mouseup:function(P){this.handle_touchend(P)},handle_touchend:function(Z){var I=this,m=I.getComponent();I.$47u&&(tc?m.setState(Ie):m.setState(Yh),m.isSelfViewEvent(Z)&&m.fireViewEvent({kind:"click",nativeEvent:Z,source:m,target:m}))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(k){var e=this,S=e.getComponent();S.isDisabled()||(S.hitTest(k)?e.$47u?S.setState(hh):Gq()||S.setState(Yh):S.setState(Ie))},handle_touchmove:function(){},handle_mouseleave:function(){var C=this,q=C.getComponent();q.isDisabled()||q.setState(Ie)},handle_keydown:function(){}}),N.LinkButton=function(Z){N.LinkButton.superClass.constructor.call(this,Z)},Mg("ht.ui.LinkButton",N.Button,{__textColor:"#3399ff",__hoverTextColor:_.darker(O.baseColor,11),__activeTextColor:_.darker(O.baseColor,15),__background:null,__hoverBackground:null,__activeBackground:null,__border:null,drawText:function(w,n,X,U,y,b,f){var o=this;N.LinkButton.superClass.drawText.call(o,w,n,X,U,y,b,f);var j=o.getState();if(w&&("hover"===j||"active"===j)){var x,M=o.getRootContext();M.beginPath(),x=w.toString().indexOf("\n")>=0?Qn(n,w):Kd(n,w),M.rect(U,y+x.height,b,1),M.fillStyle=o.getCurrentTextColor(),M.fill()}}}),N.MenuButton=function(q){var F=this;F.$179u=new N.ContextMenu,F.$179u.getStyleParent=function(){return F},F.$179u.setStyle("button_dropDown"),N.MenuButton.superClass.constructor.call(F),F.set(q)},Mg("ht.ui.MenuButton",N.Button,{ui_ac:["drawable:dropDownIcon","drawable:hoverDropDownIcon","drawable:activeDropDownIcon","drawable:disabledDropDownIcon","dropDownIconWidth","dropDownIconHeight","dropDownIconTextGap","items"],__dropDownIcon:"ui_menubutton_dropdown",__hoverDropDownIcon:"ui_menubutton_dropdown",__activeDropDownIcon:"ui_menubutton_dropdown",__dropDownIconWidth:16,__dropDownIconHeight:16,__dropDownIconTextGap:10,_preferredSizeProps:pq(Je(N.Button.prototype._preferredSizeProps),{dropDownIcon:!0,hoverDropDownIcon:!0,activeDropDownIcon:!0,disabledDropDownIcon:!0,dropDownIconDrawable:!0,hoverDropDownIconDrawable:!0,activeDropDownIconDrawable:!0,disabledDropDownIconDrawable:!0,dropDownIconWidth:!0,dropDownIconHeight:!0,dropDownIconTextGap:!0}),getDropDownMenu:function(){return this.$179u},figurePreferredSize:function(){var w=this,u=w.getDropDownIconDrawable(),r=w.getDropDownIconWidth(),X=w.getDropDownIconHeight(),b=w.getDropDownIconTextGap(),i=N.MenuButton.superClass.figurePreferredSize.call(w);return u&&(i.width+=b+r,i.height=A(i.height,X)),i},getInteractorClasses:function(){return[N.MenuButtonInteractor]},closePopup:function(){N.MenuButton.superClass.closePopup.call(this),this.setState(Ie),this.close()},getCurrentDropDownIconDrawable:function(E){var i=this,A=i.isDisabled(),e=i.getDropDownIconDrawable();return A?i.getDisabledDropDownIconDrawable()||e:(E||(E=i.getState()),E===Ie?e:E===Yh?i.getHoverDropDownIconDrawable()||e:E===hh?i.getActiveDropDownIconDrawable()||e:void 0)},drawDropDownIcon:function(D,u,X,U,N){D&&D.draw(u,X,U,N,P,this)},open:function(){this.isOpened()||(this._opened=!0,this.setState(hh),this.iv())},toggle:function(){var j=this;j.isOpened()?j.close():j.open()},isOpened:function(){return this._opened},close:function(){this.isOpened()&&(this._opened=!1,this.setState(Ie),this.iv())},validateImpl:function(Y,P,g,$){var i,L,v=this,y=v.getCurrentDropDownIconDrawable();y?(i=v.getDropDownIconWidth(),L=v.getDropDownIconHeight(),v._rightGap=i+v.getDropDownIconTextGap()):v._rightGap=0,N.MenuButton.superClass.validateImpl.call(v,Y,P,g,$),y&&v.drawDropDownIcon(y,Y+g-i,P+($-L)/2,i,L);var K=v.$179u;if(v._opened){if(!K.isInDOM()){var H=Qo(),l=v._view.getBoundingClientRect();K.setItems(v.getItems()),K.ivm();var B=l.left+H.left,q=l.top+l.height+H.top;K.show(B,q),K.validate()}}else K.isInDOM()&&K.hide()},getSerializableProperties:function(){var E=N.MenuButton.superClass.getSerializableProperties.call(this);return pq(E,{dropDownIcon:!0,hoverDropDownIcon:!0,activeDropDownIcon:!0,disabledDropDownIcon:!0,dropDownIconDrawable:!0,hoverDropDownIconDrawable:!0,activeDropDownIconDrawable:!0,disabledDropDownIconDrawable:!0,dropDownIconTextGap:!0,dropDownIconWidth:!0,dropDownIconHeight:!0,items:!0})}}),N.MenuButtonInteractor=function(O){var u=this;N.MenuButtonInteractor.superClass.constructor.call(u,O);var F=O.$179u;F.hideOnEvent=function(Z){if("mouseEvent"===Z.kind){var y=Z.event;if(!F.getView().contains(Ig(y))&&!O.getView().contains(Ig(y)))return O.close(),O.setState(Ie),!1;if(O.getView().contains(Ig(y)))return!1}else if("action"===Z.kind||"keyboardEvent"===Z.kind)return O.close(),O.setState(Ie),!1},F.addViewListener(function(l){"action"===l.kind&&O.fireViewEvent({kind:"action",item:l.item,nativeEvent:l.nativeEvent,source:O})})},Mg("ht.ui.MenuButtonInteractor",N.Interactor,{handle_mousedown:function(D){this.handle_touchstart(D)},clearTouchState:function(){var y=this,H=y.getComponent();H.setState(Ie),H.close(),y.$47u=P},handle_touchstart:function(j){fm(j);var _=this,l=_.getComponent();!l.isDisabled()&&l.hitTest(j)&&(l.requestFocus(),l.setState(hh),_.$47u=!0,Qd(_,j),_.addToTouchScrollClearQuene(j))},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handleWindowTouchEnd:function(){var L=this;L.$47u=P},handle_mouseup:function(A){this.handle_touchend(A)},handle_touchend:function(A){var d=this,V=d.getComponent();d.$47u&&(V.toggle(),V.isOpened()||(tc?V.setState(Ie):V.setState(Yh)),V.fireViewEvent({kind:"click",nativeEvent:A,source:V,target:V}))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(b){var d=this,g=d.getComponent();g.isDisabled()||g.getState()===hh||(g.hitTest(Vk(b))?Gq()||g.setState(Yh):g.setState(Ie))},handle_touchmove:function(){},handle_mouseleave:function(){var t=this,l=t.getComponent();l.isDisabled()||l.getState()===hh&&l.isOpened()||l.setState(Ie)}}),N.ToggleButton=function(k){N.ToggleButton.superClass.constructor.call(this),this.set(k)},Mg("ht.ui.ToggleButton",N.Button,{ui_ac:["selected","drawable:selectIcon","drawable:selectHoverIcon","drawable:selectActiveIcon","drawable:selectDisabledIcon","drawable:selectBackground","drawable:selectHoverBackground","drawable:selectActiveBackground","drawable:selectDisabledBackground","selectTextColor","selectHoverTextColor","selectActiveTextColor","selectDisabledTextColor","selectBorder","selectHoverBorder","selectActiveBorder","selectDisabledBorder"],_preferredSizeProps:pq(Je(N.Button.prototype._preferredSizeProps),{selectIcon:!0,selectHoverIcon:!0,selectActiveIcon:!0}),_formDataValueProps:{selected:!0},ms_ac:["radios","formDataName"],__preferredSize:{width:34,height:20},__minSize:{width:34,height:20},__textColor:O.textColor,__hoverTextColor:O.textColor,__activeTextColor:O.textColor,__selectTextColor:O.textColor,__border:x,__disabledBorder:x,__background:["ht.ui.drawable.ImageDrawable","ui_toggleOff","fill"],__hoverBackground:["ht.ui.drawable.ImageDrawable","ui_hoverToggleOff","fill"],__activeBackground:["ht.ui.drawable.ImageDrawable","ui_activeToggleOff","fill"],__disabledBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOffDisabled","fill"],__selectBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOn","fill"],__selectDisabledBackground:["ht.ui.drawable.ImageDrawable","ui_toggleOnDisabled","fill"],__selectHoverBackground:["ht.ui.drawable.ImageDrawable","ui_hoverToggleOn","fill"],__selectActiveBackground:["ht.ui.drawable.ImageDrawable","ui_activeToggleOn","fill"],getInteractorClasses:function(){return[N.ToggleButtonInteractor]},getCurrentTextColor:function(u){var q=this,e=q.isSelected(),R=q.isDisabled(),Y=q.getTextColor(),S=q.getSelectTextColor();if(u||(u=q.getState()),e){if(R)return q.getSelectDisabledTextColor()||S;if(u===Ie)return S;if(u===Yh)return q.getSelectHoverTextColor()||S;if(u===hh)return q.getSelectActiveTextColor()||S}else{if(R)return q.getDisabledTextColor()||Y;if(u===Ie)return Y;if(u===Yh)return q.getHoverTextColor()||Y;if(u===hh)return q.getActiveTextColor()||Y}},getCurrentBorder:function(P){var A=this,c=A.isSelected(),H=A.isDisabled(),I=A.getBorder(),b=A.getSelectBorder();if(b===x&&(b=I),P||(P=A.getState()),c){if(H)return A.getSelectDisabledBorder()||b;if(P===Ie)return b;if(P===Yh)return A.getSelectHoverBorder()||b;if(P===hh)return A.getSelectActiveBorder()||b}else{if(H)return A.getDisabledBorder()||I;if(P===Ie)return I;if(P===Yh)return A.getHoverBorder()||I;if(P===hh)return A.getActiveBorder()||I}},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(F){F?this.setSelected(!0):this.setSelected(!1)},getFormDataValue:function(){return this.isSelected()},setRadios:function(Z){var B=this,l=B.getRadios();l!==Z&&(B.setPropertyValue("radios",Z),l&&l.remove(B),Z&&Z.add(B))},getCurrentBackgroundDrawable:function(v){var e=this,z=e.isSelected(),G=e.isDisabled(),m=e.getBackgroundDrawable(),U=e.getSelectBackgroundDrawable();if(v||(v=e.getState()),z){if(G)return e.getSelectDisabledBackgroundDrawable()||U;if(v===Ie)return U;if(v===Yh)return e.getSelectHoverBackgroundDrawable()||U;if(v===hh)return e.getSelectActiveBackgroundDrawable()||U}else{if(G)return e.getDisabledBackgroundDrawable()||m;if(v===Ie)return m;if(v===Yh)return e.getHoverBackgroundDrawable()||m;if(v===hh)return e.getActiveBackgroundDrawable()||m}},getCurrentIconDrawable:function(y){var p=this,T=p.isSelected(),b=p.isDisabled(),P=p.getIconDrawable(),M=p.getSelectIconDrawable();if(y||(y=p.getState()),T){if(b)return p.getSelectDisabledIconDrawable()||M;if(y===Ie)return M;if(y===Yh)return p.getSelectHoverIconDrawable()||M;if(y===hh)return p.getSelectActiveIconDrawable()||M}else{if(b)return p.getDisabledIconDrawable()||P;if(y===Ie)return P;if(y===Yh)return p.getHoverIconDrawable()||P;if(y===hh)return p.getActiveIconDrawable()||P}},getSerializableProperties:function(){var L=N.ToggleButton.superClass.getSerializableProperties.call(this);return pq(L,{selected:1,selectIcon:1,selectIconDrawable:1,selectHoverIcon:1,selectHoverIconDrawable:1,selectActiveIcon:1,selectActiveIconDrawable:1,selectBackground:1,selectBackgroundDrawable:1,selectHoverBackground:1,selectHoverBackgroundDrawable:1,selectActiveBackground:1,selectActiveBackgroundDrawable:1,selectTextColor:1,selectHoverTextColor:1,selectActiveTextColor:1,selectDisabledTextColor:1,selectBorder:1,selectHoverBorder:1,selectActiveBorder:1,selectDisabledBorder:1,radios:1,formDataName:1,selectDisabledIcon:1,selectDisabledIconDrawable:1,selectDisabledBackground:1,selectDisabledBackgroundDrawable:1})}}),N.ToggleButtonInteractor=function(q){N.ToggleButtonInteractor.superClass.constructor.call(this,q)},Mg("ht.ui.ToggleButtonInteractor",N.ButtonInteractor,{handle_touchend:function(n){var M=this,b=M.getComponent();M.$47u&&(b.setSelected(!b.isSelected()),b.setState(Yh),b.validate(),b.fireViewEvent({kind:"click",nativeEvent:n,target:b,source:b}))}}),N.CheckBox=function(Q){N.CheckBox.superClass.constructor.call(this),this.set(Q)},Mg("ht.ui.CheckBox",N.ToggleButton,{ui_ac:["value"],_formDataValueProps:{value:!0,selected:!0},__preferredSize:x,__minSize:x,__background:x,__hoverBackground:x,__activeBackground:x,__disabledBackground:x,__selectBackground:x,__selectDisabledBackground:x,__selectHoverBackground:x,__selectActiveBackground:x,__textColor:O.textColor,__hoverTextColor:O.textColor,__activeTextColor:O.textColor,__selectTextColor:O.textColor,__icon:"ui_"+p,__hoverIcon:"ui_hoverUncheck",__activeIcon:"ui_activeUncheck",__selectIcon:"ui_"+u,__selectHoverIcon:"ui_hoverCheck",__selectActiveIcon:"ui_activeCheck",__selectDisabledIcon:"ui_checkDisabled",__disabledIcon:"ui_uncheckDisabled",__padding:2,setFormDataValue:function(l){var D=this,i=D.getValue();
Gr(l)?l.indexOf(i)>=0?D.setSelected(!0):D.setSelected(!1):i===l?D.setSelected(!0):D.setSelected(!1)},getFormDataValue:function(){var n=this,C=n.getValue();return n.isSelected()?C:x},getSerializableProperties:function(){var S=N.CheckBox.superClass.getSerializableProperties.call(this);return pq(S,{value:1})}}),N.RadioButton=function(G){N.RadioButton.superClass.constructor.call(this),this.set(G)},Mg("ht.ui.RadioButton",N.ToggleButton,{ui_ac:["value"],_formDataValueProps:{value:!0,selected:!0},__preferredSize:x,__minSize:x,__background:x,__hoverBackground:x,__activeBackground:x,__disabledBackground:x,__selectBackground:x,__selectDisabledBackground:x,__selectHoverBackground:x,__selectActiveBackground:x,__textColor:O.textColor,__hoverTextColor:O.textColor,__activeTextColor:O.textColor,__selectTextColor:O.textColor,__icon:"ui_"+Q,__hoverIcon:"ui_hoverRadioOff",__activeIcon:"ui_activeRadioOff",__selectIcon:"ui_"+t,__selectHoverIcon:"ui_hoverRadioOn",__selectActiveIcon:"ui_activeRadioOn",__selectDisabledIcon:"ui_radioOnDisabled",__disabledIcon:"ui_radioOffDisabled",__padding:2,setFormDataValue:function(R){var F=this,H=F.getValue();Gr(R)?R.indexOf(H)>=0?F.setSelected(!0):F.setSelected(!1):H===R?F.setSelected(!0):F.setSelected(!1)},getFormDataValue:function(){var k=this,Z=k.getValue();return k.isSelected()?Z:x},getSerializableProperties:function(){var W=N.RadioButton.superClass.getSerializableProperties.call(this);return pq(W,{value:1})}}),J.ui.Radios=function(){var j=this;j.$158u=[]},Mg("ht.ui.Radios",j,{ms_ac:["emptiable"],ms_fire:!0,ui_monitor:!0,$171u:function(b){var Q=this,q=b.source,G=b.property,D=Q.$158u;if("selected"===G){var n=b.newValue;n?(Q._flag=!0,D.forEach(function(i){i!==q&&i.setSelected(!1)}),Q._flag=!1):Q._flag||(Q.isEmptiable()?q.setSelected(n):q.setSelected(!0))}for(var H,k=0;k<D.length;k++){var q=D[k];if(q.isSelected()){H=q;break}}var c=Q.$83u;H!=c&&(Q.$83u=H,Q.firePropertyChange("selectedButton",c,H))},getSelectedButton:function(){return this.$83u},getButtons:function(){return this.$158u},add:function(C){var x=this,T=x.$158u;C.setRadios(x),C&&T.indexOf(C)<0&&(T.push(C),C.addPropertyChangeListener(x.$171u,x))},remove:function(L){var H=this,U=H.$158u;if(L&&U.indexOf(L)>=0){U.splice(U.indexOf(L),1),L.removePropertyChangeListener(H.$171u,H);var g=H.$83u;L==g&&(delete H.$83u,H.firePropertyChange("selectedButton",g,P))}},clear:function(){var Y=this,v=Y.$158u;v.forEach(function(H){H.removePropertyChangeListener(Y.$171u,Y)}),v.length=0,Y.$83u=P},getSerializableProperties:function(){return{}}}),N.ContextMenu=function(V){var T=this;N.ContextMenu.superClass.constructor.call(T);var g=T.$53u;T.$131u=function(f){g.$337u(f)},T.$132u=function(G){g.handleViewParentContextMenu(G)},T.set(V)},Mg("ht.ui.ContextMenu",Aq,{ui_ac:["items","rowHeight",pd,"visibleFunc","gapLeft","gapRight","drawable:hoverRowBackground","hoverMenuItem","bottomMargin","shortcutEnabled","separatorColor","separatorSize","prefixWidth","prefixGapRight","iconWidth","iconGapRight",M,S,"disabledLabelColor","hoverLabelColor","labelGapRight","labelLeftAligned","suffixGapRight","drawable:indicatorIcon","indicatorWidth","indicatorColor","hoverIndicatorColor","drawable:radioOnIcon","drawable:radioOffIcon","drawable:checkIcon","drawable:uncheckIcon","drawable:scrollUpIndicator","drawable:scrollDownIndicator","drawable:disabledScrollUpIndicator","drawable:disabledScrollDownIndicator","scrollIndicatorHeight"],_styleProps:{padding:!0,border:!0,background:!0,backgroundDrawable:!0,zIndex:!0,rowHeight:!0,gapLeft:!0,gapRight:!0,hoverRowBackground:!0,hoverRowBackgroundDrawable:!0,bottomMargin:!0,separatorColor:!0,separatorSize:!0,prefixWidth:!0,prefixGapRight:!0,iconWidth:!0,iconGapRight:!0,labelFont:!0,labelColor:!0,disabledLabelColor:!0,hoverLabelColor:!0,labelGapRight:!0,labelLeftAligned:!0,suffixGapRight:!0,indicatorIcon:!0,indicatorWidth:!0,indicatorColor:!0,hoverIndicatorColor:!0,radioOnIcon:!0,radioOffIcon:!0,checkIcon:!0,uncheckIcon:!0,radioOnIconDrawable:!0,radioOffIconDrawable:!0,checkIconDrawable:!0,uncheckIconDrawable:!0,boxShadow:!0,borderRadius:!0,scrollIndicatorHeight:!0,scrollUpIndicator:!0,scrollUpIndicatorDrawable:!0,scrollDownIndicator:!0,scrollDownIndicatorDrawable:!0,disabledScrollUpIndicator:!0,disabledScrollUpIndicatorDrawable:!0,disabledScrollDownIndicator:!0,disabledScrollDownIndicatorDrawable:!0},$284u:{},_idSeq:0,__padding:[5,0,5,0],__position:{x:0,y:0},__bottomMargin:0,__rowHeight:24,__iconWidth:16,__prefixWidth:16,__prefixGapRight:6,__iconGapRight:6,__labelGapRight:30,__suffixGapRight:2,__labelLeftAligned:!0,__background:O.popupBackground,__separatorSize:1,__separatorColor:O.lineColor,__gapLeft:8,__gapRight:8,__labelFont:O.font,__hoverLabelColor:"white",__indicatorIcon:"contextmenu_indicator",__indicatorWidth:16,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__scrollUpIndicator:[J.ui.drawable.ContextMenuScrollIndicatorDrawable,"up",O.lineColor,O.textColor],__scrollDownIndicator:[J.ui.drawable.ContextMenuScrollIndicatorDrawable,"down",O.lineColor,O.textColor],__disabledScrollUpIndicator:[J.ui.drawable.ContextMenuScrollIndicatorDrawable,"up",O.dimColor,O.textDimColor],__disabledScrollDownIndicator:[J.ui.drawable.ContextMenuScrollIndicatorDrawable,"down",O.dimColor,O.textDimColor],__scrollIndicatorHeight:20,_width:1,_height:1,__borderRadius:O.borderRadius,__labelColor:O.textColor,__disabledLabelColor:O.textDimColor,__boxShadow:O.popupBoxShadow,__hoverRowBackground:O.baseColor,setUpInteractors:function(){var d=this,X=d.$53u;X||(X=d.$53u=new N.ContextMenuInteractor(d),X.addListeners())},initView:function(){var y=this,n=y._view=Zh();y._view.htComp=y,n.setAttribute(q,"ht-view "+y.getClassName()),n.style.left="0",n.style.top="0"},setShortcutEnabled:function(Q){var p=this;Q?(p.$168u&&p.$168u.dispose(),p.$168u=new J.Mousetrap,p.ivm()):p.$168u&&(p.$168u.dispose(),delete p.$168u),p.setPropertyValue("shortcut",Q)},isDisabled:function(){return!1},onPropertyChanged:function(o){var c=this,Y=o.property;if(["items","visibleFunc","position",pd].indexOf(Y)>=0){"items"===Y&&(c._idSeq=0,c.each(function(u){u._id=++c._idSeq}),c.ivm());var l=c.$209u;l||(l=c.$209u={}),c.each(function(A){var Y=c.isItemVisible(A);l[A._id]!==Y&&c.ivm(),l[A._id]=Y})}c.iv()},$317u:function(D){for(var H,$,u,j,o,F=this,E=0,l=0,G=F.getLabelFont(),p=0,O=D.length;O>p;p++){var K=D[p];if(("check"===K.type||"radio"===K.type)&&($=!0),(K.suffix||K.shortcut)&&(j=!0),F.$61u[K._id]&&(u=!0),F.getMenuItemIconDrawable(K)&&(o=!0),$&&j&&u&&o)break}for(var p=0,O=D.length;O>p;p++){var K=D[p];if(K.width!=P)H=H==P?K.width:A(H,K.width);else{var J=F.getLabel(K),e=K.suffix||K.shortcut,X=F.getIconWidth(K),z=F.getPrefixWidth(K),y=F.getIndicatorWidth(K),U=Kd(G,J);u&&(U.width+=y),o&&(U.width+=X+F.getIconGapRight(K)),$&&(U.width+=z+F.getPrefixGapRight(K)),j&&(l=Kd(G,e).width,U.width+=l+F.getSuffixGapRight(K)),(u||j)&&(U.width+=F.getLabelGapRight(K)),H=H==P?U.width:A(H,U.width)}var x=F.getRowHeight(K);E+=x}return H=Qk(H),E=Qk(E),{itemSize:{width:H,height:E},suffixWidth:l}},getRowHeight:function(J){var w=this.getPropertyValue("rowHeight");if(J){if(J.height)return J.height;if("-"===J.type)return w/2}return w},ivm:function(){var J=this;J.$116u||(J.$116u=!0,J.iv())},validateModel:function(){var r=this;r._itemsMap={},r.$61u={},r.$60u={},r.$63u={},Kp(r._view),r.$168u&&r.$168u.reset(),r.$56u()},$56u:function(U){var I=this,b=U?U.items:I.getItems(),$=U?U._id:0,R=I.$61u,x=I.$63u,W=I.$168u;if(b){var D=[];if(b.forEach(function(e){if(e._pid=$,I._itemsMap[e._id]=e,"radio"===e.type){var N=e.groupId;N!=P&&(x[N]||(x[N]=[]),x[N].push(e))}I.$209u[e._id]&&D.push(e)}),D.length>0){var t=I._view,h=Se(P,!0),s=I.getBoxShadow(),e=I.getBorderRadius(),g=Zh(!1);s!=P&&(h.style.boxShadow=s),e!=P&&(h.style.borderRadius=e),g.className="ht-content",g.style.overflow="hidden",g.style.visibility="hidden",h.contentDiv=g;var w=g.$41u=Zh();w.setAttribute(q,"ht-bottomMargin"),w.style.left="0",w.style.width=1+wc,w.style.height=1+wc,g.appendChild(w),h.style.visibility="hidden",t.appendChild(h),t.appendChild(g),h.$59u=$,I.$60u[$]=h,R[$]=D,D.forEach(function(u){W&&u.shortcut&&W.bind(u.shortcut,function(B){u.preventDefault!==!1&&B.preventDefault(),I.isItemDisabled(u)||I.clickItem(u,B)}),I.$56u(u)})}}},isItemDisabled:function(z){var M=z.disabled;return lg(M)?M.call(this,z)?!0:void 0:!!M},isItemVisible:function(x){var u=this.getVisibleFunc();return u?u.call(this,x):!0},each:function(K,n,M){var P=this,m=M?M.items:P.getItems();if(m)for(var O=0,k=m.length;k>O;O++){var h=m[O],V=K.call(n||P,h);if(V===!1)break;P.each(K,n,h)}},findItemByLabel:function(E){var T;return this.each(function(H){return H.label===E?(T=H,!1):void 0}),T},selectItem:function(u){if("radio"===u.type){var k=u.groupId;if(k!=P)for(var F=this.$63u[k],o=0,T=F.length;T>o;o++){var b=F[o];b.selected=b===u?!0:!1}else u.selected=!u.selected}else"check"===u.type&&(u.selected=!u.selected)},clickItem:function(s,w,b){var D=this;s.action&&s.action.call(D,s,w),D.fireViewEvent({kind:"action",nativeEvent:w,item:s,source:D}),D.$61u[s._id]||(D.hideOnEvent?D.hideOnEvent({kind:"action",item:s})&&D.hide(s):b||D.hide(s))},drawRowBackground:function(u,j,A,R,n,z,D){u&&u.draw(j,A,R,n,z,this,D)},isHoverMenuItem:function(x){for(var H=this,f=H.getHoverMenuItem(),d=H._itemsMap;f;){if(f===x&&"-"!==f.type)return!0;f=d[f._pid]}},drawSeparator:function(Y,U,y,d,C,p){Y.beginPath(),Y.fillStyle=U,Y.rect(y,d,C,p),Y.fill()},drawPrefix:function(s,L,z,k,I,Q,O){s&&s.draw(L,z,k,I,Q,this,O)},drawSuffix:function(E,A,R,m,x,T,h,n,U,D){Xh(E,A,R,m,x,T,h,n,U,D)},drawIcon:function(s,j,h,C,W,$,U){s.draw(j,h,C,W,$,this,U)},getLabel:function(Z){return Z.label},drawLabel:function(R,O,o,X,M,V,E,S,Y,z){Xh(R,O,o,X,M,V,E,S,Y,z)},drawIndicatorIcon:function(c,d,x,V,I,S,s){c.draw(d,x,V,I,S,this,s)},drawItem:function(g,w,q,s,G,J,e,l,j){var c=this,S=c.getIconWidth(w),X=c.getPrefixWidth(w),p=c.getIndicatorWidth(w),f=c.getSuffixGapRight(w),E=c.getLabelFont(w),o=c.getGapLeft(),C=c.getGapRight(),U=c.$61u,V=q.x,I=q.y,$=q.width,R=q.height,K=c.getRootContext(g);if(w.renderer){q={x:q.x,y:q.y-j,width:q.width,height:q.height};var W=w.renderer.call(c,K,w,q,G,J,e);if(W&&W.getView){var k=W.getView();k.parentNode!==s&&s.appendChild(k)}else W&&W.parentNode!==s&&s.appendChild(W)}else if("-"===w.type){var m=c.getSeparatorSize(w);c.drawSeparator(K,c.getSeparatorColor(w),V+o,I+(R-m)/2,$,m,w)}else{var O=c.isHoverMenuItem(w);O?c.drawRowBackground(c.getHoverRowBackgroundDrawable(w),V,I,$+o+C,R,w,g):c.drawRowBackground(P,V,I,$+o+C,R,w,g);var T=V+o;if("check"===w.type){var _=w.selected;"function"==typeof _&&(_=_.call(c,w));var Q=_?c.getCheckIconDrawable(w):c.getUncheckIconDrawable(w);c.drawPrefix(Q,T,I,X,R,w,g)}else if("radio"===w.type){var _=w.selected;"function"==typeof _&&(_=_.call(c,w));var r=_?c.getRadioOnIconDrawable(w):c.getRadioOffIconDrawable(w);c.drawPrefix(r,T,I,X,R,w,g)}T+=J?X+c.getPrefixGapRight(w):0;var b=c.getMenuItemIconDrawable(w);b?(c.drawIcon(b,T,I,S,R,w,g),T+=S+c.getIconGapRight(w)):e&&c.isLabelLeftAligned(w)&&(T+=S+c.getIconGapRight(w));var B=O?c.getHoverLabelColor(w):c.getLabelColor(w),y=c.isItemDisabled(w);y&&(B=c.getDisabledLabelColor(w)),c.drawLabel(K,c.getLabel(w),E,B,T,I,$,R,P,P,w);var N=w.suffix||w.shortcut;N&&(T=l?V+o+$-p-G-f:V+o+$-G-f,c.drawSuffix(K,N,E,B,T,I,G,R,Vb,P,w)),U[w._id]&&c.drawIndicatorIcon(c.getIndicatorIconDrawable(w),V+o+$-p,I,p,R,w,g)}},indicatorHitTest:function(Z){var k=this,F=Z.target?k.lp(Z):Z,G=F.canvas;if(G._scrollFlag){var z=k.getBorderTop(),f=k.getBorderBottom(),V=k.getScrollIndicatorHeight(),R=F.bound,c=F.lp.y;return c>z&&z+V>=c?{canvas:G,indicator:"up"}:c>R.height-f-V&&c<=R.height-f?{canvas:G,indicator:"down"}:void 0}},drawUpIndicator:function(f,L,Y){var W=this,J=L.x,u=L.y,l=L.width,b=L.height,O=Y?W.getDisabledScrollUpIndicatorDrawable():W.getScrollUpIndicatorDrawable();O&&O.draw(J,u,l,b,P,W,f)},drawDownIndicator:function(Y,t,g){var o=this,k=t.x,E=t.y,z=t.width,R=t.height,d=g?o.getDisabledScrollDownIndicatorDrawable():o.getScrollDownIndicatorDrawable();d&&d.draw(k,E,z,R,P,o,Y)},$57u:function(G,Q,D){var I=this,E=I.$61u,l=I.$60u,X=I.getPaddingTop(),u=I.getPaddingRight(),v=I.getPaddingBottom(),U=I.getPaddingLeft(),o=I.getBorderLeft(),q=I.getBorderRight(),R=I.getBorderTop(),j=I.getBorderBottom(),w=I.getGapLeft(),N=I.getGapRight(),S=I.getHoverMenuItem(),p=I._itemsMap,C=Q?Q._id:0,t=E[C],c=I.getScrollIndicatorHeight();if(t){var W=I.$317u(t),F=W.itemSize,y=W.suffixWidth,s=l[C],T=s.contentDiv,z=s.style,r=F.width+U+u+o+q+w+N,g=F.height+X+v+R+j;r>G.width&&(r=G.width);var e,L;g>G.height&&(g=G.height,e=!0,L=F.height),s._scrollFlag=e,s.$188u=L,wr(s,r,g),T.style.width=r+wc;var h=I.getBottomMargin(),f="hidden";if(0===C){var $=I.getX(),i=I.getY();$+r>G.left+G.width&&($=G.left+G.width-r),$<G.left&&($=G.left),i+g+h>G.top+G.height&&(i=G.top+G.height-g-h),i<G.top&&(i=G.top),z.left=$+wc,z.top=i+wc,T.style.left=$+wc,T.style.top=i+wc,f=pd}else if(S){if(S._id===C){var O=l[p[Q._id]._pid],$=Qk(O.style.left)+Qk(O.style.width)-q,i=Qk(O.style.top)+(D||0);$+r>G.left+G.width&&($=Qk(O.style.left)-r+o),$<G.left&&($=G.left),i+g+h>G.top+G.height&&(i=G.top+G.height-g-h),i<G.top&&(i=G.top),z.left=$+wc,z.top=i+wc,T.style.left=$+wc,T.style.top=i+wc}I.isHoverMenuItem(Q)&&(f=pd)}if(z.visibility=f,T.style.visibility=f,f===pd){I.drawBackground(I.getBackgroundDrawable(),o,R,r-o-q,g-R-j,s),I.drawBorder(I.getBorder(),0,0,r,g,s);for(var B,J,_,Y=0,A=t.length;A>Y;Y++){var H=t[Y];if(("check"===H.type||"radio"===H.type)&&(B=!0),I.getMenuItemIconDrawable(H)&&(J=!0),I.$61u[H._id]&&(_=!0),B&&J&&_)break}var m=X+R,a=g-m-j-v,K=m,M=s._scrollTop||0;if(e){m+=c,K+=c,a-=2*c,I.drawUpIndicator(s,{x:o,y:R,width:r-o-q,height:c},0===M);var Z=I.getRootContext(s);Z.beginPath(),Z.save(),Z.rect(0,m,r,a),Z.clip(),Z.translate(0,M),T.scrollTop=-M,T.$41u.style.top=L-1+"px",s._contentHeight=a}T.style.top=Qk(z.top)+K+wc,T.style.height=a+wc;for(var Y=0,A=t.length;A>Y;Y++){var H=t[Y],k=I.getRowHeight(H),V={x:U+o,y:m,width:F.width,height:k};if(e){if(-M>m-K+k){m+=k;continue}if(m-K>a-M){m+=k;continue}}I.drawItem(s,H,V,T,y,B,J,_,K),m+=k}Z&&Z.restore(),e&&I.drawDownIndicator(s,{x:o,y:g-c,width:r-o-q,height:c},-M+a==L?!0:!1),s.$93u&&(s.$93u.restore(),s.$93u=P)}m=K+M;for(var Y=0,A=t.length;A>Y;Y++){var H=t[Y];I.$57u(G,H,m),m+=I.getRowHeight(H)}}},getRootContext:function(k){var t=k.$93u;return t||(t=k.$93u=Ll(k),_l(t,0,0,1)),t},layoutDOM:function(){},validate:function(){var i=this,S=i._view;S&&N.ContextMenu.superClass.validate.call(i)},processValidateImpl:function(){var G=this,w=G.isVisible();G.$116u&&(G.validateModel(),delete G.$116u),w&&G.$57u(Qo())},lp:function(s){var c=this,h=c.$60u,H=$q(s);for(var k in h){var W=h[k],D=Ig(s);if(W.contains(D)||W.contentDiv.contains(D)){var t=W.getBoundingClientRect();return{dom:D,canvas:W,id:k,bound:t,lp:{x:H.x-t.left,y:H.y-t.top}}}}},getMenuItemAt:function(B){var s,a,v,j,L=this;if(B.target){var $=L.lp(B);if($==P)return;a=$.id,s=$.lp,v=$.canvas,j=$.bound}else a=B.id,s=B.lp,v=B.canvas,j=B.bound;var o=L.$61u[a],d=L.getPaddingTop(),h=L.getBorderTop(),i=v._scrollTop||0,e=L.getScrollIndicatorHeight(),g=d+h+i;if(v._scrollFlag){if(g+=e,s.y<d+h+e)return;if(s.y>d+h+e+v._contentHeight)return}else{if(s.y<d+h)return;if(s.y>j.height-L.getPaddingBottom()-L.getBorderBottom())return}for(var J=0;J<o.length;J++){var U=o[J],X=L.getRowHeight(U);if(g+=X,s.y<=g&&s.y>g-X)return U}},getMenuItemIconDrawable:function($){return!$.iconDrawable&&$.icon&&($.iconDrawable=_.toDrawable($.icon)),$.iconDrawable},$210u:function(n){E.addEventListener(tc?"touchstart":"mousedown",n,!0)},$211u:function($){E.removeEventListener(tc?"touchstart":"mousedown",$,!0)},getInvoker:function(){return this.$226u},addToDOM:function(E){if(E){var D=this;if(D.$226u)throw new Error("ht.ui.ContextMenu#addToDOM: 菜单不能加到多个组件上");E.getView&&(E=E.getView()),D.$226u=E,E.addEventListener("contextmenu",D.$132u)}},show:function(v,Q){var B,J=this;1===arguments.length&&(B=v,B=Vk(B),v=B.pageX,Q=B.pageY),J.setX(v),J.setY(Q),J.isVisible()!==!0&&(J.fireViewEvent({kind:"beforeShow",nativeEvent:B,source:J}),J.setVisible(!0),J.fireViewEvent({kind:"afterShow",nativeEvent:B,source:J}),J.$210u(J.$131u));for(var j in J.$60u){var L=J.$60u[j];L._scrollTop=0}var D=J.getView();D&&!D.parentNode&&(_.appendToScreen(D),J.refreshStyles())},hide:function(Q){var X=this;X.isVisible()!==!1&&(X.fireViewEvent({kind:"beforeHide",item:Q,source:X}),X.setVisible(!1),X._hoverMenuItem=P,X.$211u(X.$131u),X.fireViewEvent({kind:"afterHide",item:Q,source:X})),Rl(X.getView())},dispose:function(){var O=this,d=O.$226u,p=O._view;p&&(Rl(p),d&&d.removeEventListener("contextmenu",O.$132u),O.$168u&&O.$168u.dispose(),O._view=O._items=O.$226u=O.$168u=O.$131u=O.$132u=P)},serializeProperty:function(I,e,l){var O=this;if("items"===e){var $;if(I){var X=function(C){for(var m=0,N=C.length;N>m;m++){var E=C[m];delete E.iconDrawable,delete E._pid,delete E._id,E.items&&X(E.items)}};$=_.parse(_.stringify(I)),X($)}return $}return l.serializeProperty(I,e,O)},getSerializableProperties:function(){return{border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,toolTipEnabled:1,zIndex:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,items:1,rowHeight:1,visibleFunc:1,gapLeft:1,gapRight:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,bottomMargin:1,shortcutEnabled:1,separatorColor:1,separatorSize:1,prefixWidth:1,prefixGapRight:1,iconWidth:1,iconGapRight:1,labelFont:1,labelColor:1,disabledLabelColor:1,hoverLabelColor:1,labelGapRight:1,labelLeftAligned:1,suffixGapRight:1,indicatorIcon:1,indicatorIconDrawable:1,indicatorWidth:1,indicatorColor:1,hoverIndicatorColor:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,scrollUpIndicator:1,scrollUpIndicatorDrawable:1,scrollDownIndicator:1,scrollDownIndicatorDrawable:1,disabledScrollUpIndicator:1,disabledScrollUpIndicatorDrawable:1,disabledScrollDownIndicator:1,disabledScrollDownIndicatorDrawable:1,scrollIndicatorHeight:1}}}),N.ContextMenuInteractor=function(_){this._view=_,_.getView().addEventListener("contextmenu",function(e){e.stopPropagation(),e.preventDefault()})},Mg("ht.ui.ContextMenuInteractor",j,{ms_listener:1,getView:function(){return this._view.getView()},handle_mousedown:function(_){this.handle_touchstart(_)},handle_touchstart:function(z){var X=this,E=X._view,J=E.indicatorHitTest(z);if(J){var l=J.indicator,n=J.canvas;"up"===l?(X.$355u=setTimeout(function(){X.$356u=setInterval(function(){var N=n._scrollTop||0;N+=8,N>0&&(N=0),-N+n._contentHeight>n.$188u&&(N=-(n.$188u-n._contentHeight)),n._scrollTop=N,E.iv()},80)},500),Qd(X,z)):"down"===l&&(X.$355u=setTimeout(function(){X.$356u=setInterval(function(){var i=n._scrollTop||0;i-=8,i>0&&(i=0),-i+n._contentHeight>n.$188u&&(i=-(n.$188u-n._contentHeight)),n._scrollTop=i,E.iv()},80)},500),Qd(X,z))}else X.$58u=Zr(z),tc&&X.handle_mousemove(z)},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handleWindowTouchEnd:function(N){var s=this,n=s._view,$=n.indicatorHitTest(N);if($&&s.$356u==P){var M=$.indicator,R=$.canvas;if("up"===M){var m=R._scrollTop||0;m+=8,m>0&&(m=0),-m+R._contentHeight>R.$188u&&(m=-(R.$188u-R._contentHeight)),R._scrollTop=m,n.iv()}else if("down"===M&&s.$356u==P){var m=R._scrollTop||0;m-=8,m>0&&(m=0),-m+R._contentHeight>R.$188u&&(m=-(R.$188u-R._contentHeight)),R._scrollTop=m,n.iv(),Qd(s,N)}}clearTimeout(s.$355u),clearInterval(s.$356u),delete s.$355u,delete s.$356u},handle_mouseup:function(S){this.handle_touchend(S)},handle_touchend:function(B){var I=this,u=I._view,$=I.$58u;if($){var v=Zr(B),y=Bp($,v);if(An>y){var n=u.lp(B),D=u.getMenuItemAt(n);if(D){if(u.isItemDisabled(D))return;u.selectItem(D),u.clickItem(D,B,n.dom instanceof HTMLCanvasElement||n.dom.$41u?!1:!0)}}}},handle_wheel:function(H){H.preventDefault();var E=this,q=E._view,V=q.lp(H);if(V){var e=V.canvas;if(e._scrollFlag){var i=H.deltaY,v=e._scrollTop||0;v-=i,v>0&&(v=0),-v+e._contentHeight>e.$188u&&(v=-(e.$188u-e._contentHeight)),e._scrollTop=v,q.iv()}}},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(l){var M=this._view;if(M.isVisible()){var j=M.getMenuItemAt(l);if(!j||j&&M.isItemDisabled(j)){var x=Ig(l);x.$59u!==P&&(j=M._itemsMap[x.$59u])}M.setHoverMenuItem(j)}},handle_touchmove:function(){},handle_mouseout:function(S){var _=this._view;if(_.isVisible()){var f,H=_.lp(S),t=H.canvas;t.$59u!==P&&(f=_._itemsMap[t.$59u]),f&&_.isItemDisabled(f)&&(f=P),_.setHoverMenuItem(f)}},handle_keydown:function(L){var Y=this._view;jm(L)&&(self.hideOnEvent?self.hideOnEvent({kind:"keyboardEvent",event:L})&&Y.hide():Y.hide())},handleViewParentContextMenu:function(u){tc&&(u=Vk(u)),u.preventDefault(),this._view.show(u)},$337u:function(W){var K=this._view;K.hideOnEvent?K.hideOnEvent({kind:"mouseEvent",event:W})&&this._view.hide():this.getView().contains(Ig(W))||this._view.hide()}}),N.TextField=function(T){var t=this;N.TextField.superClass.constructor.call(t),t.set(T),t.on("d:focusin",function(){var o=t.getDisplayFunc();o&&(t.getValueObject?t.setInputValue(t.getValueObject()):t.setInputValue(t.getValue()))}),t.on("d:focusout",function(){var o=t.getDisplayFunc();o&&(t.getValueObject?t.setInputValue(t.getValueObject()):t.setInputValue(t.getValue()))})},Mg("ht.ui.TextField",Aq,{ui_ac:["drawable:icon","drawable:hoverIcon","drawable:activeIcon","iconWidth","iconHeight","iconTextGap","iconPosition",U,"font","maskRe","placeholder","is:readOnly","maxLength","is:instant","type","displayFunc"],ms_ac:["iconState","value","formDataName"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{font:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,icon:!0,iconDrawable:!0}),_formDataValueProps:{value:!0},_iconState:Ie,__font:O.font,__iconWidth:16,__iconTextGap:4,__iconPosition:"left",__background:O.inputBackground,__redrawOnFocus:!0,__border:new N.border.FocusLineBorder(1,O.borderColor,O.baseColor),__borderRadius:0,__padding:[2,6,2,6],__color:O.textColor,requestFocus:function(){this.isFocusable()&&this._input.focus()},initView:function(){var f=this;N.TextField.superClass.initView.call(f);var b=f.initInput();f.$198u.appendChild(b);var M=f._view,h=f.$239u,F=f.$198u;M.removeAttribute("tabIndex"),h.removeAttribute("tabIndex"),F.removeAttribute("tabIndex")},isSelfViewEvent:function(g){var _=this,V=ym.superClass.isSelfViewEvent.call(_,g);if(!V){var L=Ig(g);L===_._input&&(V=!0)}return V},setValue:function(T,g){var F=this;g&&F.isInstant()||F.setInputValue(T),F.setPropertyValue("value",T)},setFocusable:function(){},setInputValue:function(i){var t=this,z=t._input;if("file"!==t.getType()){var O=t.getDisplayFunc();z.value=!O||t.getView().contains(E.activeElement)&&!t.isReadOnly()?i!=P?i:"":O.call(t,i)}else i==P&&(z.value=P)},initInput:function(){var e=this,z=e._input=e.createInputDOM();return z.style.position="absolute",z.style.boxSizing="border-box",z.style.padding="0",z.style.border="0",z.style.resize=wm,z.style.outline=wm,z.setAttribute("spellcheck","false"),z.style.backgroundColor="rgba(0,0,0,0)",z},getInput:function(){return this._input},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(T){this.setValue(T)},stopFormEditing:function(){this.getInput().blur()},getFormDataValue:function(){var o=this,y=o.getValue(),t=o.getType();return"file"===t?o.getInput().files:"number"===t?y!=P&&""!==y?parseFloat(y):y:y},getCurrentIconDrawable:function(Y){var s=this,H=s.getIconDrawable();return Y||(Y=s.getIconState()),Y===Ie?H:Y===Yh?s.getHoverIconDrawable()||H:Y===hh?s.getActiveIconDrawable()||H:void 0},createInputDOM:function(){return E.createElement("input")},onPropertyChanged:function(T){var l=this;N.TextField.superClass.onPropertyChanged.call(l,T)},getInteractorClasses:function(){return[N.TextFieldInteractor]},figureTextSize:function(){var z=this,M=z.getFont();return Kd(M,"AaBbFfgG$PER?#Qixy^O")},getTextSize:function(){return this.figureTextSize()},getToolTip:function(){return this.getValue()},figurePreferredSize:function(){var h=this,m=h.getTextSize(),f=h.getIconDrawable(),g=h.getIconHeight()||16,j=(h.getIconTextGap(),h.getBorderLeft()),B=h.getBorderRight(),P=h.getBorderTop(),n=h.getBorderBottom(),Z=h.getPaddingTop(),D=h.getPaddingBottom(),L=h.getPaddingLeft(),o=h.getPaddingRight();return m={width:m.width,height:m.height},f&&(m.height=A(g,m.height)),m.width=w(m.width+j+B+L+o),m.height=w(m.height+P+n+Z+D),m},drawIcon:function(p,D,T,E,i){p.draw(D,T,E,i,P,this)},setOnIcon:function(l){var L=this,f=L._onIcon;l!==f&&(L._onIcon=l,L.iv())},getCursor:function(){var y=this,J=y.getPropertyValue("cursor"),m=y._onIcon;return m?"pointer":J},iconHitTest:function(B){var h=this,S=B,F=h.isReadOnly(),q=h.$177u;return q&&"entire"!==F?(B instanceof Event&&(S=h.lp(B)),be(q,S)):void 0},validateImpl:function(e,z,h,b){var k=this,c=k._input,Y=k.getCurrentIconDrawable(),$=k.getMaxLength(),M=k.getPlaceholder();k.getValue(),$!=P?c.setAttribute("maxlength",$):c.removeAttribute("maxlength"),M?c.setAttribute("placeholder",M):c.removeAttribute("placeholder"),k.isReadOnly()?c.setAttribute("readonly","readonly"):c.removeAttribute("readonly"),k.getType()&&(c.type=k.getType()),c.style.font=k.getFont(),c.style.color=k.getColor();var A=h,t=b,U=k.getCursor();if(U==P&&(U=""),tc||(c.style.cursor=U),k.$177u=P,Y){var G,g,H=k.getPaddingTop(),_=k.getPaddingBottom(),j=k.getIconWidth(),F=k.getIconHeight(),w=F,p=k.getIconTextGap(),V=k.getIconPosition();F==P&&(F=b+H+_),V===sr?(G=e,c.style.left=p+j+wc,A-=p+j):(G=e+h-j,c.style.right=p+j+wc,A-=p+j),g=w==P?z-H:z+(b-F)/2,k.$177u={x:G-e,y:g-z,width:j-1,height:F-1},k.drawIcon(Y,G,g,j,F)}else c.style.left="",c.style.right="";c.style.width=A+wc,c.style.height=t+wc},getSerializableProperties:function(){var r=N.TextField.superClass.getSerializableProperties.call(this);return pq(r,{icon:1,iconDrawable:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,iconPosition:1,color:1,font:1,maskRe:1,placeholder:1,"is:readOnly":1,maxLength:1,"is:instant":1,type:1,value:1,formDataName:1,displayFunc:1})}}),N.TextFieldInteractor=function(s){var c=this;c.$91u=s;var A=s.getInput();A.addEventListener("change",function(P){c.changeHandler(P)}),A.addEventListener("blur",function(){c._compositionstart=!1})},Mg("ht.ui.TextFieldInteractor",j,{ms_listener:1,re_uchars:/([\uD800-\uDBFF][\uDC00-\uDFFF]|[\S\s])/g,addToTouchScrollClearQuene:N.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this.$91u.$239u},getComp:function(){return this.$91u},toArray:function(O){return O.match(this.re_uchars)||[]},handle_compositionstart:function(){var V=this;V._compositionstart=!0},handle_compositionend:function(R){var b=this;b._compositionstart=!1,b.handle_input(R)},changeHandler:function(){var x=this,Q=x.$91u,b=Q.getMaskRe(),J=Q.getInput();Q instanceof N.ComboBox?Q.$227u&&Q.setValue(x.getFilteredValue(J.value,b)):Q.setValue(x.getFilteredValue(J.value,b))},getFilteredValue:function(e,B){if(!B)return e;for(var p=this.toArray(e),y=p.length;y--;)B.test(p[y])||p.splice(y,1);return p.join("")},handle_input:function(){var v=this,K=v.$91u,B=K._input,q=K.getMaskRe(),N=K.isInstant(),A=B.value;v._compositionstart||(A=v.getFilteredValue(A,q),B.value=A,N&&K.setValue(A,!0))},handle_mousedown:function(I){gp(I)&&this.handle_touchstart(I)},clearTouchState:function(){var H=this,t=H.getComp();t.setIconState(Ie),H.$47u=P},handle_touchstart:function($){var O=this,e=O.getComp();e.iconHitTest($)&&(fm($),O.$47u=!0,e.setIconState(hh),Qd(O,$),O.addToTouchScrollClearQuene($))},handle_mouseup:function(){},handle_touchend:function(){},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(Z){this.handleWindowTouchEnd(Z)},handleWindowTouchEnd:function(u){var G=this;G.$47u=P;var D=G.getComp();D.iconHitTest(u)?(tc?D.setIconState(Ie):D.setIconState(Yh),D.fireViewEvent({kind:"clickIcon",nativeEvent:u,source:D,target:D})):D.setIconState(Ie)},handle_mouseleave:function(){var Z=this,i=Z.getComp();Z.$47u||(i.setIconState(Ie),i.setOnIcon(!1))},handle_mousemove:function(M){var e=this,q=e.getComp();q.iconHitTest(M)?q.setOnIcon(!0):q.setOnIcon(!1),e.$47u?q.setIconState(hh):q.iconHitTest(M)?Gq()||q.setIconState(Yh):q.setIconState(Ie)},handle_touchmove:function(){}}),N.NumberInput=function(e){var f=this;N.NumberInput.superClass.constructor.call(f),f.set(e)},Mg("ht.ui.NumberInput",N.TextField,{ui_ac:["drawable:increaseIcon","drawable:decreaseIcon","drawable:hoverIncreaseIcon","drawable:hoverDecreaseIcon","drawable:activeIncreaseIcon","drawable:activeDecreaseIcon","step","max","min","iconVisible"],ms_ac:["currentIcon","currentIconState"],__step:1,__increaseIcon:"ui_increaseIcon",__decreaseIcon:"ui_decreaseIcon",__hoverIncreaseIcon:"ui_hoverIncreaseIcon",__hoverDecreaseIcon:"ui_hoverDecreaseIcon",__activeIncreaseIcon:"ui_activeIncreaseIcon",__activeDecreaseIcon:"ui_activeDecreaseIcon",__iconPosition:"right",__maskRe:/[\d\-\.]/,__iconVisible:!0,getInteractorClasses:function(){return N.NumberInput.superClass.getInteractorClasses.call(this).concat([N.NumberInputInteractor])},getCursor:function(){var W=this,l=W.getPropertyValue("cursor");return W.getCurrentIcon()?"pointer":l},getCurrentIconDrawable:function(){return this.isIconVisible()?{}:null},iconHitTest:function(){return!1},increaseIconHitTest:function(E){var t=this,W=E,B=t.isReadOnly(),n=t.$357u;return t.isIconVisible()&&n&&"entire"!==B?(E instanceof Event&&(W=t.lp(E)),be(n,W)):void 0},decreaseIconHitTest:function(q){var p=this,$=q,B=p.isReadOnly(),j=p.$358u;return p.isIconVisible()&&j&&"entire"!==B?(q instanceof Event&&($=p.lp(q)),be(j,$)):void 0},setValue:function(d){var k=this,C=k.getMax(),o=k.getMin(),u=d;d=parseFloat(d),C!=P&&d>parseFloat(C)&&(d=C),o!=P&&d<parseFloat(o)&&(d=o),isNaN(d)&&(d=""),u&&"."===u[u.length-1]&&(d+="."),N.NumberInput.superClass.setValue.call(k,d)},handleDecrease:function(){var x=this,i=x.getValue(),h=x.getStep();isNaN(i)&&(i=0),i=parseFloat(zr(i,h)),x.setValue(i)},handleIncrease:function(){var A=this,m=A.getValue(),a=A.getStep();isNaN(m)&&(m=0),m=parseFloat(Tc(m,a)),A.setValue(m)},getValue:function(){var c=this.getPropertyValue("value");return c!=P&&""!=c?parseFloat(c):c},getCurrentIncreaseIconDrawable:function(){var g=this,Q=g.getCurrentIcon(),k=g.getIncreaseIconDrawable();if("increase"===Q){var f=g.getCurrentIconState();return f===Yh?g.getHoverIncreaseIconDrawable()||k:f===hh?g.getActiveIncreaseIconDrawable()||k:k}return k},getCurrentDecreaseIconDrawable:function(){var Q=this,V=Q.getCurrentIcon(),s=Q.getDecreaseIconDrawable();if("decrease"===V){var G=Q.getCurrentIconState();return G===Yh?Q.getHoverDecreaseIconDrawable()||s:G===hh?Q.getActiveDecreaseIconDrawable()||s:s}return s},drawIcon:function(u,e,A,J,b){var s=this,p=s.getCurrentIncreaseIconDrawable(),Z=s.getCurrentDecreaseIconDrawable(),V=s.isIconVisible(),H=b/2;if(V){var S=s.getBorder(),f=0;S&&(f=S.isCSSBorder()?S.getLeft()+S.getRight():S.getRight()),e=s.getWidth()-J-f,s.$357u={x:e-s.getContentLeft(),y:A-s.getContentTop(),width:J,height:H},s.$358u={x:e-s.getContentLeft(),y:A+H-s.getContentTop(),width:J,height:H},p.draw(e,A,J,H,P,s),Z.draw(e,A+H,J,H,P,s)}},getSerializableProperties:function(){var J=N.NumberInput.superClass.getSerializableProperties.call(this);return pq(J,{increaseIcon:1,decreaseIcon:1,increaseIconDrawable:1,decreaseIconDrawable:1,hoverIncreaseIcon:1,hoverDecreaseIcon:1,hoverIncreaseIconDrawable:1,hoverDecreaseIconDrawable:1,activeIncreaseIcon:1,activeDecreaseIcon:1,activeIncreaseIconDrawable:1,activeDecreaseIconDrawable:1,step:1,min:1,max:1})}}),N.NumberInputInteractor=function(R){var O=this;N.NumberInputInteractor.superClass.constructor.call(O,R)},Mg("ht.ui.NumberInputInteractor",N.Interactor,{handle_mousedown:function(P){this.handle_touchstart(P)},clearTouchState:function(){var E=this,U=E.getComponent();E.$47u=P,U.setCurrentIcon(P),U.setCurrentIconState(Ie),clearTimeout(E.$355u),clearInterval(E.$356u),delete E.$355u,delete E.$356u},handle_touchstart:function(d){var k=this,$=k.getComponent();if($.decreaseIconHitTest(d)){if(fm(d),k.$47u=!0,$.setCurrentIcon("decrease"),$.setCurrentIconState(hh),k.addToTouchScrollClearQuene(d),!$.isInstant()){var u=$.getInput().value;
""===u||isNaN(u)?$.setValue(0):$.setValue(parseFloat(u))}Qd(k,d),k.$355u=setTimeout(function(){k.$356u=setInterval(function(){$.handleDecrease()},80)},500)}else if($.increaseIconHitTest(d)){if(fm(d),k.$47u=!0,$.setCurrentIcon("increase"),$.setCurrentIconState(hh),k.addToTouchScrollClearQuene(d),!$.isInstant()){var u=$.getInput().value;""===u||isNaN(u)?$.setValue(0):$.setValue(parseFloat(u))}Qd(k,d),k.$355u=setTimeout(function(){k.$356u=setInterval(function(){$.handleIncrease()},80)},500)}},handle_mouseup:function(){},handle_touchend:function(){},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(v){this.handleWindowTouchEnd(v)},handleWindowTouchEnd:function(Q){var A=this,F=A.getComponent();A.$47u=P,F.decreaseIconHitTest(Q)?(tc?F.setCurrentIconState(Ie):F.setCurrentIconState(Yh),F.fireViewEvent({kind:"clickDecreaseIcon",nativeEvent:Q,source:F,target:F}),A.$356u==P&&F.handleDecrease()):F.increaseIconHitTest(Q)?(F.setCurrentIcon("increase"),tc?F.setCurrentIconState(Ie):F.setCurrentIconState(Yh),F.fireViewEvent({kind:"clickIncreaseIcon",nativeEvent:Q,source:F,target:F}),A.$356u==P&&F.handleIncrease()):(F.setCurrentIconState(Ie),F.setCurrentIcon("")),clearTimeout(A.$355u),clearInterval(A.$356u),delete A.$355u,delete A.$356u},handle_mousemove:function(S){var I=this,j=I.getComponent();I.$47u||Gq()||(j.decreaseIconHitTest(S)?(j.setCurrentIcon("decrease"),j.setCurrentIconState(Yh)):j.increaseIconHitTest(S)?(j.setCurrentIcon("increase"),j.setCurrentIconState(Yh)):(j.setCurrentIcon(""),j.setCurrentIconState(Ie)))},handle_mouseleave:function(){var h=this,p=h.getComponent();h.$47u||(p.setCurrentIcon(""),p.setCurrentIconState(Ie))}}),N.TextArea=function(q){N.TextArea.superClass.constructor.call(this),this.set(q)},Mg("ht.ui.TextArea",N.TextField,{ui_ac:["lineHeight","is:autoRefreshPreferredSize"],__borderRadius:O.borderRadius,__border:new N.border.FocusLineBorder(1,O.borderColor,O.baseColor),_preferredSizeProps:pq(Je(N.TextField.prototype._preferredSizeProps),{value:!0}),createInputDOM:function(){return E.createElement("textarea")},figureTextSize:function(){return{width:300,height:150}},validateImpl:function(S,r,W,l){var U=this,p=U._input,b=U.getLineHeight();U.isAutoRefreshPreferredSize()?U.$120u!==W&&(U.checkPreferredSize("value"),U.$120u=W):U.$120u=x,N.TextArea.superClass.validateImpl.call(U,S,r,W,l),p.style.lineHeight=b!=P?b+wc:""},getSerializableProperties:function(){var q=N.TextArea.superClass.getSerializableProperties.call(this);return pq(q,{lineHeight:1,"is:autoRefreshPreferredSize":1})}}),N.Slider=function(p){N.Slider.superClass.constructor.call(this),this.set(p)},Mg("ht.ui.Slider",Aq,{ui_ac:["drawable:bar","drawable:selectBar","barThickness","drawable:thumb","drawable:hoverThumb","drawable:activeThumb","thumbWidth","thumbHeight","min","max","step","value","orientation","is:instant"],ms_ac:["thumbState","formDataName"],_formDataValueProps:{value:!0},_preferredSizeProps:pq(Je(fn._preferredSizeProps),{orientation:!0}),_thumbState:Ie,__barThickness:2,__thumbWidth:14,__thumbHeight:14,__step:1,__min:0,__max:100,__value:0,__orientation:"h",__bar:["ht.ui.drawable.SliderBarDrawable",O.barBackground,P,1],__selectBar:["ht.ui.drawable.SliderBarDrawable",O.baseColor,P,1],__thumb:"ui_slider_thumb",__hoverThumb:"ui_slider_hoverThumb",__activeThumb:"ui_slider_activeThumb",getInteractorClasses:function(){return[N.SliderInteractor]},setValue:function(h){this.setPropertyValue("value",this.adjustValue(h))},figurePreferredSize:function(){var H=this,x=H.getThumbWidth(),P=H.getThumbHeight(),q=H.getBarThickness(),$=H.getOrientation(),v=H.getMax(),W=H.getMin(),M=0,G=0,D=H.getBorderLeft(),j=H.getBorderRight(),Q=H.getBorderTop(),l=H.getBorderBottom(),b=H.getPaddingTop(),K=H.getPaddingBottom(),r=H.getPaddingLeft(),h=H.getPaddingRight();return"h"===$||"horizontal"===$?(M=v-W,M+=r+D+h+j+x,G=b+Q+K+l+A(P,q)):(G=v-W,G+=b+Q+K+l+P,M=r+D+h+j+A(x,q)),{width:w(M),height:w(G)}},drawBar:function(F,o,a,N,H){F&&F.draw(o,a,N,H,P,this)},drawThumb:function(L,X,t,o,r){L&&L.draw(X,t,o,r,P,this)},drawSelectBar:function(k,O,q,Z,r,$,t,y,_){if(k){var K=this.getRootContext();K.save(),K.beginPath(),K.rect($,t,y,_),K.clip(),k.draw(O,q,Z,r,P,this),K.restore()}},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(c){c==P&&(c=this.getMin()),this.setValue(c)},getFormDataValue:function(){return this.getValue()},getCurrentThumbDrawable:function(w){var P=this,v=P.getThumbDrawable();return w||(w=P.getThumbState()),w===Ie?v:w===Yh?P.getHoverThumbDrawable()||v:w===hh?P.getActiveThumbDrawable()||v:void 0},thumbHitTest:function(O){var G=this,E=O,M=G.$84u;return O instanceof Event&&(E=G.lp(O)),be(M,E)},validateImpl:function(l,a,S,i){var z=this,I=z.getOrientation(),D=z.getMin(),U=z.getMax(),Q=z.$142u!=P?z.$142u:z.getValue(),F=z.getBarThickness(),y=z.getThumbWidth(),T=z.getThumbHeight(),p=0,L=0;if("vertical"===I||"v"===I){p=(1-(Q-D)/(U-D))*(i-T);var x=l+(S-F)/2,Z=a+T/2,M=F,C=i-T;z.drawBar(z.getBarDrawable(),x,Z,M,C),z.drawSelectBar(z.getSelectBarDrawable(),x,Z,M,C,x,p,F,i-p),z.drawThumb(z.getCurrentThumbDrawable(),l+(S-y)/2,a+p,y,T),z.$84u={x:(S-y)/2,y:p,width:y-1,height:T-1}}else{L=(Q-D)/(U-D)*(S-y);var x=l+y/2,Z=a+(i-F)/2,M=S-y,C=F;z.drawBar(z.getBarDrawable(),x,Z,M,C),z.drawSelectBar(z.getSelectBarDrawable(),x,Z,M,C,x,Z,L,F),z.drawThumb(z.getCurrentThumbDrawable(),l+L,a+(i-T)/2,y,T),z.$84u={x:L,y:(i-T)/2,width:y-1,height:T-1}}},adjustValue:function(W){W==P&&(W=0);var Y=this,j=Y.getMin(),r=Y.getMax(),x=Y.getStep();return j>W&&(W=j),W>r&&(W=r),x>0&&(W=X((W-j)/x)*x+j),W},getToolTip:function(M){var n,V=this,L=V.getOrientation(),Q=V.lp(M),s=V.getMin(),i=V.getMax(),S=V.getThumbWidth(),v=V.getThumbHeight(),I=V.getContentWidth(),F=V.getContentHeight(),U=V.$84u,E=0;return U&&be(U,Q)?V.$142u!=P?V.$142u:V.getValue():("vertical"===L||"v"===L?(n=F-v/2,E=s+(n-Q.y)/(F-v)*(i-s)):(n=v/2,E=s+(Q.x-n)/(I-S)*(i-s)),V.adjustValue(E))},getSerializableProperties:function(){var e=N.Slider.superClass.getSerializableProperties.call(this);return pq(e,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,barThickness:1,thumb:1,thumbDrawable:1,hoverThumb:1,hoverThumbDrawable:1,activeThumb:1,activeThumbDrawable:1,thumbWidth:1,thumbHeight:1,min:1,max:1,value:1,orientation:1,"is:instant":1})}}),N.SliderInteractor=function(m){this.$85u=m},Mg("ht.ui.SliderInteractor",j,{ms_listener:1,getView:function(){return this.$85u.$239u},setValue:function(k,M){var s,N=this.$85u,v=N.getMin(),a=N.getMax(),S=N.getThumbWidth(),B=N.getThumbHeight(),p=N.getContentWidth(),I=N.getContentHeight(),o=N.lp(k),h=N.getOrientation(),$=0;"vertical"===h||"v"===h?(s=I-B/2,$=v+(s-o.y)/(I-B)*(a-v)):(s=S/2,$=v+(o.x-s)/(p-S)*(a-v)),M?N.setValue($):(N.$142u=N.adjustValue($),N.iv())},handle_mousedown:function(L){gp(L)&&this.handle_touchstart(L)},handle_touchstart:function(L){fm(L);var h=this,G=h.$85u;G.requestFocus(),h.setValue(L,G.isInstant()),h.$47u=!0,G.setThumbState(hh),Qd(h,L),G.isToolTipEnabled()&&_.showToolTip(L,G.getToolTip(L))},handle_mouseup:function(b){this.handle_touchend(b)},handle_touchend:function(U){var v=this,I=v.$85u;I.thumbHitTest(U)?I.setThumbState(Yh):I.setThumbState(Ie)},handleWindowMouseMove:function(y){this.handleWindowTouchMove(y)},handleWindowTouchMove:function(G){var u=this,K=u.$85u;u.setValue(G,K.isInstant()),K.isToolTipEnabled()&&_.showToolTip(G,K.getToolTip(G))},handleWindowMouseUp:function(n){this.handleWindowTouchEnd(n)},handleWindowTouchEnd:function(r){var v=this;v.setValue(r,!0),_.hideToolTip(),v.$85u.$142u=P,v.$47u=P,v.handle_touchend(r)},handle_mouseleave:function(){var s=this,D=s.$85u;s.$47u||D.setThumbState(Ie)},handle_mousemove:function(Z){this.handle_touchmove(Z)},handle_touchmove:function(T){var K=this,l=K.$85u;K.$47u?l.setThumbState(hh):l.thumbHitTest(T)?Gq()||l.setThumbState(Yh):l.setThumbState(Ie)},handle_keydown:function(p){var n=this.$85u,J=n.getValue(),e=n.getStep()||.001;rh(p)||Fp(p)?n.setValue(J-e):(Ng(p)||As(p))&&n.setValue(J+e)}}),N.ProgressBar=function(U){N.ProgressBar.superClass.constructor.call(this),this.set(U)},Mg("ht.ui.ProgressBar",Aq,{ui_ac:["drawable:bar","drawable:selectBar","min","max","value","orientation","fixedSize","is:indeterminate","is:clipSelectBar","percentTextVisible","percentTextFont","percentTextColor"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{orientation:!0,min:!0,max:!0}),__fixedSize:.1,__min:0,__max:100,__value:0,__percentTextFont:O.font,__percentTextColor:O.textColor,__orientation:"h",__clipSelectBar:!0,__bar:["ht.ui.drawable.SliderBarDrawable",O.barBackground,P,1],__selectBar:["ht.ui.drawable.SliderBarDrawable",O.baseColor,P,1],__preferredSize:{width:120,height:16},getInteractorClasses:function(){return[N.ProgressBarInteractor]},setValue:function(c){this.setPropertyValue("value",this.adjustValue(c))},figurePreferredSize:function(){var _=this,d=_.getOrientation(),s=_.getMax(),r=_.getMin(),S=0,b=0,P=_.getBorderLeft(),M=_.getBorderRight(),D=_.getBorderTop(),j=_.getBorderBottom(),g=_.getPaddingTop(),f=_.getPaddingBottom(),c=_.getPaddingLeft(),k=_.getPaddingRight();return"h"===d||"horizontal"===d?(S=s-r,S+=c+P+k+M,b=g+D+f+j+12):("v"===d||"vertical"===d)&&(b=s-r,b+=g+D+f+j,S=c+P+k+M+12),{width:w(S),height:w(b)}},drawBar:function(A,f,w,Y,t){A.draw(f,w,Y,t,P,this)},drawSelectBar:function(c,u,H,f,h,Z,n,E,d){var B=!1;if(Z!=P&&(B=!0),B){var y=this.getRootContext();y.save(),y.beginPath(),y.rect(Z,n,E,d),y.clip()}c.draw(u,H,f,h,P,this),B&&y.restore()},figurePercentText:function(){var P=this,m=P.getValue(),r=P.getMin(),$=P.getMax();return X(100*((m-r)/($-r)))+"%"},drawPercentText:function(q,v,H,L,c,e,Q){var j=this.getRootContext();j.beginPath(),Xh(j,q,v,H,L,c,e,Q,$r,id)},validateImpl:function(j,e,A,m){var y=this,S=y.getOrientation(),h=y.getMin(),o=y.getMax(),B=y.getValue(),X=y.getFixedSize(),k=y.isIndeterminate(),M=y.isClipSelectBar(),R=y.getBarDrawable(),P=y.getSelectBarDrawable(),K=0,E=0,F=j,c=e,b=A,Y=m;"vertical"===S||"v"===S?(y.drawBar(R,F,c,b,Y),k&&X?(Y=1>X?m*X:X,c+=(1-(B-h)/(o-h))*(m+Y)-Y,M?y.drawSelectBar(P,j,e,A,m,j,c,A,Y):y.drawSelectBar(P,j,c,A,Y,j,e,A,m)):(K=(B-h)/(o-h)*m,M?y.drawSelectBar(P,j,e,A,m,j,e+m-K,A,K):y.drawSelectBar(P,j,e+m-K,A,K))):("horizontal"===S||"h"===S)&&(y.drawBar(R,F,c,b,Y),k&&X?(b=1>X?A*X:X,F+=(B-h)/(o-h)*(A+b)-b,M?y.drawSelectBar(P,j,e,A,m,F,e,b,m):y.drawSelectBar(P,F,e,b,m,j,e,A,m)):(E=(B-h)/(o-h)*A,M?y.drawSelectBar(P,j,e,A,m,j,e,E,m):y.drawSelectBar(P,j,e,E,m))),y.isPercentTextVisible()&&y.drawPercentText(y.figurePercentText(),y.getPercentTextFont(),y.getPercentTextColor(),j,e,A,m)},adjustValue:function(d){d==P&&(d=0);var B=this,C=B.getMin(),O=B.getMax();return C>d&&(d=C),d>O&&(d=O),d},getToolTip:function(){return this.getValue()},getSerializableProperties:function(){var s=N.ProgressBar.superClass.getSerializableProperties.call(this);return pq(s,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,min:1,max:1,value:1,orientation:1,fixedSize:1,"is:indeterminate":1,"is:clipSelectBar":1,percentTextVisible:1,percentTextFont:1,percentTextColor:1})}}),N.ProgressBarInteractor=function(o){var g=this;g.$77u=o},Mg("ht.ui.ProgressBarInteractor",j,{ms_listener:1,getView:function(){return this.$77u.$239u},handle_mousedown:function(e){this.handle_touchstart(e)},handle_touchstart:function(i){i.preventDefault()}}),N.Menu=function(H){var M=this;M.$168u=new J.Mousetrap,M.$73u(),M.$179u=new N.ContextMenu,M.$179u.setStyle("menu_dropDown"),M.$179u.getStyleParent=function(){return M},M.$72u={},N.Menu.superClass.constructor.call(M),M.set(H)},Mg("ht.ui.Menu",Aq,{ui_ac:["gap",M,"iconWidth","iconHeight","iconGapRight",S,"hoverLabelColor","activeLabelColor","drawable:hoverItemBackground","drawable:activeItemBackground"],ms_ac:["items"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{items:!0,gap:!0,labelFont:!0}),__iconWidth:16,__iconHeight:16,__iconGapRight:6,__padding:2,__background:"white",__labelFont:O.font,__gap:5,__hoverLabelColor:O.textColor,__hoverItemBackground:O.hoverBackground,__labelColor:O.textColor,__activeLabelColor:"#fff",__activeItemBackground:O.baseColor,getInteractorClasses:function(){return[N.MenuInteractor]},closePopup:function(){N.Menu.superClass.closePopup.call(this),this.hide()},figurePreferredSize:function(){var s=this,h=s.getItems(),t=s.getGap(),Q=2*t,C=s.$72u,K={width:0,height:0},H=s.getBorderLeft(),n=s.getBorderRight(),v=(s.getBorderTop(),s.getBorderBottom(),s.getPaddingTop(),s.getPaddingBottom(),s.getPaddingLeft()),M=s.getPaddingRight();if(h&&h.length>0)for(var G=0;G<h.length;G++){var W=C[G];K.width+=Q+W.width}return K.width=X(K.width+H+n+v+M),K.height=30,K.width=w(K.width),K.height=w(K.height),K},$166u:function(){var t=this,h=t.getItems();if(h&&h.length>0){for(var w=t.getGap(),y=2*w,i=h.length,I=t.getContentLeft(),C=t.getContentWidth(),V=I,_=[],H=!1,k=t.$72u.collectionItem.width+y,q=0,l=h.length;l>q;q++){var J=t.getMenuItemSize(h[q]),A=J.width+y;if(V+=A,V-(I+C)>0){i=A-(V-(I+C))>k?q:q-1,H=!0;break}}for(var q=0;i>q;q++)_.push(h[q]);if(H){for(var L={isCollectionItem:!0,label:">>",items:[]},q=i;q<h.length;q++)L.items.push(h[q]);_.push(L)}t.$167u=_}},$240u:function(z){N.Menu.superClass.$240u.call(this,z),this.$166u()},resetItemsSize:function($){var s=this,E=s.getItems(),W=s.getIconWidth(),H=s.getIconHeight(),I=s.getIconGapRight();if(s.$72u={},E){for(var a=0;a<E.length;a++){var o=E[a],R=s.$72u[a]=Kd(s.getLabelFont(o),s.getLabel(o));s.getMenuItemIconDrawable(o)&&(R.width+=W+I,R.height=A(R.height,H))}s.$72u.collectionItem=Kd(s.getLabelFont(),">>")}$||s.iv()},onPropertyChanged:function(X){var g=this,q=X.property;if(("items"===q||q===M)&&g.resetItemsSize(!0),("items"===q||q===M||q===uh||"padding"===q||q===Yc||"gap"===q)&&g.$166u(),"items"===q){var J=X.newValue;J&&(g.$73u(),g.forEach(function(r){r.shortcut&&g.$168u.bind(r.shortcut,function(u){var p;p=lg(r.preventDefault)?r.preventDefault.call(g):r.preventDefault,p!==!1&&u.preventDefault(),g.$179u.isItemDisabled(r)||(r.action&&r.action.call(g,r,u),g.fireViewEvent({kind:"action",item:r,nativeEvent:u,source:g}))})}))}N.Menu.superClass.onPropertyChanged.call(g,X)},clickItem:function(_,L){var D=this;_.action&&_.action.call(D,_,L),D.fireViewEvent({kind:"action",nativeEvent:L,item:_,source:D})},getDropDownMenu:function(){return this.$179u},getMenuItemSize:function(e){var S=this,H=S.getItems(),J=S.$72u;return e.isCollectionItem?J.collectionItem:J[H.indexOf(e)]},getMenuItemAt:function(A){for(var r=this,i=r.lp(A),x=r.getVisibleItems(),N=r.getContentHeight(),z=r.getGap(),F=0,L=0,m=x.length;m>L;L++){var G=x[L],d=r.getMenuItemSize(G),Y={x:F,y:0,width:d.width+2*z,height:N};if(be(Y,i))return G;F+=Y.width}},setState:function(f){var E=this._state;E!==f&&(this._state=f,this.iv())},setCurrentItem:function(e){var u=this.$154u;u!==e&&(this.$154u=e,this.iv())},getCurrentItem:function(){return this.$154u},$73u:function(){var z=this,Z=z.$168u;Z.reset()},forEach:function(A,Z,q){var E=this,e=q?q.items:E.getItems();if(e)for(var i=e.length,k=0;i>k;k++){var V=e[k],B=A.call(Z||E,V);if(B===!1)return B;E.forEach(A,Z,V)}},getItemBackgroundDrawable:function(B){return B===Yh?this.getHoverItemBackgroundDrawable():B===hh?this.getActiveItemBackgroundDrawable():void 0},drawItemBackground:function(A,D,H,Y,d,y){A&&A.draw(D,H,Y,d,y,this)},drawLabel:function(G,t,A,Y,U,b,K,W){G.beginPath(),Xh(G,t,A,Y,U,b,K,W,sr,id)},drawIcon:function(L,D,w,p,S,e){L.draw(D,w,p,S,e,this)},getVisibleItems:function(){return this.$167u},getMenuItemIconDrawable:function(L){return!L.iconDrawable&&L.icon&&(L.iconDrawable=_.toDrawable(L.icon)),L.iconDrawable},validateImpl:function(h,G,i,t){var E=this,Z=E.getGap(),K=E.getVisibleItems();if(K){var x=E.$179u,$=E._state,B=E._showing,l=E.$154u,N=K.indexOf(l);l&&l.isCollectionItem&&(N=K.length-1),B||x.hide();for(var _=E.getRootContext(),m=E.getIconWidth(),s=E.getIconHeight(),H=E.getIconGapRight(),M=2*Z,C=0,p=K.length;p>C;C++){var P=K[C],c=E.getMenuItemSize(P),y=c.width+M,A=E.getLabelColor(P);if(C===N)if($===Yh)A=E.getHoverLabelColor(P),E.drawItemBackground(E.getItemBackgroundDrawable(Yh,P),h,G,y,t,P);else if($===hh&&(A=E.getActiveLabelColor(P),E.drawItemBackground(E.getItemBackgroundDrawable(hh,P),h,G,y,t,P),B)){var q=Qo(),X=E.$198u.getBoundingClientRect();x.setItems(P.items),x.ivm(),x.show(X.left+q.left+h-E.getContentLeft(),X.top+q.top+X.height),x.validate()}var S=h+Z,v=E.getMenuItemIconDrawable(P);v&&(E.drawIcon(v,S,G+(t-s)/2,m,s,P),S+=m+H),E.drawLabel(_,E.getLabel(P),E.getLabelFont(P),A,S,G,y,t,P),h+=y}}},getLabel:function(y){return y.label},$74u:function(N,W){if(N)for(var c=0;c<N.length;c++){var $=N[c];if($.label===W)return $}},hide:function(){this.setState(Ie),this.setCurrentItem(P),this._showing&&(this._showing=!1,this.iv())},show:function(d){var f=this;f.setState(hh),f.setCurrentItem(d),f._showing||(f._showing=!0,f.iv())},isShowing:function(){return this._showing},deleteItem:function(M){for(var S,U=this,R=U.$75u(M),Z=U.getItems()||[],K=0;K<R.length;K++){var w=R[K];if(S=U.$74u(Z,w),!S)break;K===R.length-1?Z.splice(Z.indexOf(S),1):Z=S.items||[]}U.fp("items",P,U.getItems())},$75u:function(F){for(var k=!1,N="",J=[],K=0;K<F.length;K++){var y=F[K];if("/"===y){if(!k){J.push(N),N="";continue}}else if("`"===y){k=!k;continue}N+=y}return J.push(N),J},findItem:function(Y){for(var x,R=this,p=R.$75u(Y),$=R.getItems(),B=0;B<p.length;B++){var Z=p[B];if(!$)return;if(x=R.$74u($,Z),!x)return;$=x.items}return x},addItem:function(q,O){for(var z,A=this,U=A.$75u(q),c=A.getItems(),S=0;S<U.length;S++){var t=U[S];if(c||(c=z?z.items=[]:A._items=[]),z=A.$74u(c,t),!z){if(z={label:t},S===U.length-1&&O)for(var l in O)z[l]=O[l];c.push(z)}c=z.items}A.fp("items",P,A.getItems())},findItemByLabel:function(R){var e;return this.forEach(function(G){return G.label===R?(e=G,!1):void 0}),e},findItemById:function(w){var a;return this.forEach(function(r){return r.id===w?(a=r,!1):void 0}),a},selectItem:function(T){if("radio"===T.type){var b=T.groupId;b!=P?this.forEach(function(n){n===T?n.selected=!0:n.groupId===T.groupId&&(n.selected=!1)}):T.selected=!0}else T.selected=!0},selectItemById:function(a){var t=this.findItemById(a);t&&this.selectItem(t)},addSeparator:function(Y){for(var N,h=this,$=Y.split("/"),X=h.getItems(),o=0;o<$.length;o++){var Z=$[o];if(!X)return;if(N=h.$74u(X,Z),!N)return;if(o===$.length-1&&X){var p=X.indexOf(N)+1;X.splice(p,0,{type:"-"})}X=N.items}h.fp("items",P,h.getItems())},dispose:function(){var C=this,L=C._view;L&&(Rl(L),C.$168u.dispose(),C.$179u.dispose(),C._view=C._items=C.$168u=P)},serializeProperty:function(o,r,D){var s=this;if("items"===r){var X;if(o){var m=function(b){for(var y=0,g=b.length;g>y;y++){var X=b[y];delete X.iconDrawable,delete X._pid,delete X._id,X.items&&m(X.items)}};X=_.parse(_.stringify(o)),m(X)}return X}return D.serializeProperty(o,r,s)},getSerializableProperties:function(){var I=N.Menu.superClass.getSerializableProperties.call(this);return pq(I,{gap:1,labelFont:1,labelColor:1,hoverLabelColor:1,activeLabelColor:1,hoverItemBackground:1,hoverItemBackgroundDrawable:1,activeItemBackground:1,getActiveItemBackgroundDrawable:1,items:1,iconWidth:1,iconHeight:1,iconGapRight:1})}}),N.MenuInteractor=function(B){var F=this;F.$76u=B;var X=B.$179u;X.hideOnEvent=function(p){if("mouseEvent"===p.kind){var _=p.event;if(!X.getView().contains(Ig(_))&&!B.getView().contains(Ig(_)))return B.hide(),!1;if(B.getView().contains(Ig(_)))return!1}else if("action"===p.kind||"keyboardEvent"===p.kind)return B.hide(),!1},X.addViewListener(function(O){"action"===O.kind&&B.fireViewEvent({kind:"action",item:O.item,nativeEvent:O.nativeEvent,source:B})})},Mg("ht.ui.MenuInteractor",j,{ms_listener:1,addToTouchScrollClearQuene:N.Interactor.prototype.addToTouchScrollClearQuene,getView:function(){return this.$76u.$239u},clearTouchState:function(){var g=this,Y=g.$76u;Y.hide(),g.$47u=P,g.$58u=P},handle_touchstart:function(e){fm(e);var D=this,Y=D.$76u,o=Y.getMenuItemAt(e);Y.isSelfViewEvent(e)&&(Y.isShowing()&&Y.getCurrentItem()!==o&&Y.hide(),o&&(Y.setState(hh),Y.setCurrentItem(o)),D.$47u=!0,D.$58u=Zr(e),Qd(D,e),D.addToTouchScrollClearQuene(e))},handle_mousedown:function(k){var v=this;v.handle_touchstart(k)},handle_touchend:function(t){var A=this,p=A.$76u,U=A.$58u;if(fm(t),U){var W=Zr(t),M=Bp(U,W);if(An>M){var V=p.getMenuItemAt(t);V?(p.isShowing()?(p.hide(),tc||(p.setState(Yh),p.setCurrentItem(V))):p.show(V),p.clickItem(V,t)):p.hide()}}delete A.$58u},handle_mouseup:function(b){this.handle_touchend(b)},handleWindowTouchEnd:function(){this.$47u=!1},handleWindowMouseUp:function(A){this.handleWindowTouchEnd(A)},handle_mouseleave:function(){var a=this.$76u;delete this.$58u,a.isShowing()||(a.setState(Ie),a.setCurrentItem(P))},handle_mousemove:function(m){var b=this,Y=b.$76u,w=Y.getMenuItemAt(m);w?(Y.isShowing()||Y.setState(Yh),Y.setCurrentItem(w)):Y.isShowing()||(Y.setCurrentItem(P),Y.setState(Ie))},handle_touchmove:function(){},handleWindowTouchMove:function(){},handleWindowMouseMove:function(j){this.handleWindowTouchMove(j)}}),N.editor.Editor=function(){},Mg("ht.ui.editor.Editor",j,{ms_fire:!0,addEditorListener:function(x,z,k){var M=this;M.$165u||(M.$165u=new F),M.$165u.add(x,z,k)},removeEditorListener:function(O,w,x){var G=this;G.$165u&&G.$165u.remove(O,w,x)},fireEditorChange:function(Q){var T=this;T.$165u&&T.$165u.fire({kind:Q})},addValueChangeListener:function(G,r,h){var X=this;X.$64u||(X.$64u=new F),X.$64u.add(G,r,h)},removeValueChangeListener:function(y,X,s){var j=this;j.$64u&&j.$64u.remove(y,X,s)},fireValueChange:function(N){var G=this;G.$64u&&G.$64u.fire({value:N})},isEditable:function(L){return mr(L)&&"mousedown"===L.type?!0:!1},shouldSelect:function(){return!0},getEditorValue:function(){},initEditorView:function(){},getEditorView:function(){return this.$230u},afterLayout:function(){},beforeRemove:function(){},stopEditing:function(){this.fireEditorChange("stop")},cancelEditing:function(){this.fireEditorChange("cancel")}}),N.editor.StringEditor=function(){N.editor.StringEditor.superClass.constructor.call(this)},Mg("ht.ui.editor.StringEditor",N.editor.Editor,{createTextField:function(){return new N.TextField},initEditorView:function(H,P,F){var G=this,J=G.createTextField(),n=J.getInput();J.setValue(F),n.onblur=function(){G.shouldSelect()&&G.stopEditing()};var D=!1;return J.on("p:value",function(J){D||G.fireValueChange(J.newValue)}),J.on("d:keydown",function(p){jm(p)?(J.isInstant()&&J.setValue(F),D=!0,G.cancelEditing()):Tn(p)&&(D=!0,G.stopEditing())}),J},getEditorValue:function(){return this.getEditorView().getInput().value}}),N.editor.IntEditor=function(){N.editor.IntEditor.superClass.constructor.call(this)},Mg("ht.ui.editor.IntEditor",N.editor.StringEditor,{createTextField:function(){var y=new N.NumberInput;return y.setMaskRe(/[\d\-]/),y},getEditorValue:function(){var s=Qk(this.getEditorView().getInput().value);return isNaN(s)?P:s}}),N.editor.NumberEditor=function(){N.editor.NumberEditor.superClass.constructor.call(this)},Mg("ht.ui.editor.NumberEditor",N.editor.StringEditor,{createTextField:function(){var P=new N.NumberInput;return P},getEditorValue:function(){var b=parseFloat(this.getEditorView().getInput().value);return isNaN(b)?P:b}}),N.editor.ColorEditor=function(){N.editor.ColorEditor.superClass.constructor.call(this)},Mg("ht.ui.editor.ColorEditor",N.editor.Editor,{initEditorView:function($,v,P){var f=this,s=new N.ColorPicker;return s.setInstant(!0),s.setValue(P),s.on("close",function(){f.stopEditing()}),s.on("d:keydown",function(T){Tn(T)?f.stopEditing():jm(T)&&f.cancelEditing()}),s},afterLayout:function(){this.getEditorView().open()},beforeRemove:function(){this.getEditorView().close()},getEditorValue:function(){return this.getEditorView().getValue()}});var Hc=function(){Hc.superClass.constructor.call(this)};J.Default.def(Hc,N.editor.Editor,{initEditorView:function(P,C,v,p){var s=this,b=new N.ComboBox,J=p.getDatas(C);return b.setValueField(p.getValueField()),b.setDisplayField(p.getDisplayField()),b.setIconField(p.getIconField()),b.setDatas(J),b.setDropDownConfig(p.getDropDownConfig()),b.setFormDataValue(v),b.setReadOnly(p.isReadOnly()),b.on("close",function(){Sn(function(){s.stopEditing()})}),b.on("d:keydown",function(A){27==A.keyCode&&s.cancelEditing()}),b},afterLayout:function(){this.getEditorView().open()},beforeRemove:function(){this.getEditorView().close()},getEditorValue:function(){return this.getEditorView().getFormDataValue()}}),Cq({$152u:function(u){u.$118u=l,u.$188u=0,u.$189u=0,u.setDatas=function(a){if(a){Gl(a)&&(a=JSON.parse(a));var O=this.dm();O.clear();var Y=function(h,G){var l=new J.Data;for(var o in h){var V=h[o];if("children"===o)for(var j=0,K=V.length;K>j;j++)Y(V[j],l);else{var D;0===o.indexOf("a:")?(o=o.substr(2),D="attr"):0===o.indexOf("s:")&&(o=o.substr(2),D="style"),Pl(l,D,o,V)}}G&&l.setParent(G),O.add(l)};if(Gr(a))for(var e=0,f=a.length;f>e;e++){var t=a[e];Y(t)}else Y(a)}},u.initView=function(m){var P=this;N.ListView.superClass.initView.call(P,m);var L=P.$261u=Zh();L.setAttribute(q,"ht-renderer"),P.$198u.appendChild(L)},u.isSelfViewEvent=function(R){var q=this,L=N.ListView.superClass.isSelfViewEvent.call(q,R);if(!L){var c=Ig(R);q.$261u.contains(c)&&(L=!0)}return L},u.closePopup=function(){N.ListView.superClass.closePopup.call(this),this.endEdit()},u.$105u=function(){for(var i=this,z=i.$261u,t=z.children,r=0;r<t.length;r++){var w=t[r],Z=w.htComp;Z&&(Z.$106u(),Z.$105u())}var M=i.$230u;M&&(M.$106u(),M.$105u())},u.figurePreferredSize=function(){var q,i,l=this,b=l.getRowHeightFunc();l.$116u&&(l.validateModel(),l.$116u=P),q=l.$271u;var j=0,Q=h(l.getPreferredSizeRowCountLimit(),q.size());if(b)for(var F=0;Q>F;F++){var o=q.get(F);j+=b.call(l,o)}else j=Q*l.getRowHeight();return i={width:200,height:j},i.width+=l.getBorderLeft()+l.getBorderRight()+l.getPaddingLeft()+l.getPaddingRight(),i.height+=l.getBorderTop()+l.getBorderBottom()+l.getPaddingTop()+l.getPaddingBottom(),i.width=w(i.width),i.height=w(i.height),i},u.$136u=function(){var c=this;c.$271u=new m,c._rowMap={},c.$70u=0,c.$69u=0,c.initView()},u.getViewCheckIconDrawable=function(l){var T=this,b=T.sm(),U=b.co(l);return b.sg()?U?T.getRadioOnIconDrawable(l):T.getRadioOffIconDrawable(l):U?T.resetIndeterminate&&T.isIndeterminateSelected(l)?T.getIndeterminateIconDrawable(l):T.getCheckIconDrawable(l):T.getUncheckIconDrawable(l)},u.checkData=function(R){var j=this.sm(),Q=j.co(R);j.sg()&&Q||(this.$184u=1,Q?j.rs(R):j.as(R),delete this.$184u)},u.getDataAt=function(V,s){if(s=s==x?!0:s,!s||this.isContentEvent(V)){Ig(V)&&(V=this.lp(V));var t=this.$271u,Y=t.size(),E=this.getRowHeightFunc(),K=-1;if(E)for(var m=0,M=0;Y>M;M++){var i=t.get(M);if(m+=E.call(this,i),m>V.y){K=M;break}}else K=$(V.y/this.getRowHeight());return 0>K||K>=Y?P:t.get(K)}},u.onDataDoubleClicked=function(){},u.onDataClicked=function(){},u.adjustTranslateX=function(){return 0},u.adjustTranslateY=function(L){var I=this.getContentHeight()-this.$188u;return I>L&&(L=I),L>0?0:X(L)},u.onPropertyChanged=function(q){var r=this,K=q.property;N.ListView.superClass.onPropertyChanged.call(r,q),("translateX"===K||"translateY"===K)&&r.closePopup(),"checkMode"===K&&r.resetIndeterminate?r.resetIndeterminate(P,r.getCheckMode()):"width"===K&&r.invalidateColumnInfos&&r.invalidateColumnInfos("viewWidth"),Ur[K]?r.ivm():up[K]||r.iv()},u.drawCheckIcon=function(Z,L,d,D,t,f,V){return Z&&Z.draw(L,d,D,t,f,this,V),D},u.getLabel=function(c){return c.toLabel()},u.getCurrentLabelColor=function(f,j,c){var r=this;if(f){if(j&&j.getLabelColor)return r.isCheckMode()?r.getFocusData()===f?j.getLabelColor(c,f,"select"):r.getHoverData()===f?j.getLabelColor(c,f,"hover"):j.getLabelColor(c,f):r.isSelected(f)?j.getLabelColor(c,f,"select"):r.getHoverData()===f?j.getLabelColor(c,f,"hover"):j.getLabelColor(c,f);var M=r.getLabelColor(f),k=r.getHoverLabelColor(f),y=r.getSelectLabelColor(f);if(r.getUnselectableLabelColor&&!r.isSelectable(f)){var w=r.getUnselectableLabelColor(f);return w||M}return r.isCheckMode()?r.getFocusData()===f?y||M:r.getHoverData()===f?k||M:M:r.isSelected(f)?y||M:r.getHoverData()===f?k||M:M}},u.getStartRowIndex=function(){return this.$70u},u.getEndRowIndex=function(){return this.$69u},u.getRowDatas=function(){return this.$271u},u.getRowIndex=function(K){return this._rowMap[K._id]},u.getRowSize=function(){return this.$271u.size()},u.getViewRect=function(){return Je(this.$118u)},u.isVisible=function(K){if(K){var i=this.getVisibleFunc();return i?i(K):!0}return this.getPropertyValue(pd)},u.getCurrentSortFunc=function(){return this.getSortFunc()},u.setDataModel=function(i){var M=this,v=M._dataModel,A=M._selectionModel;v!==i&&(v&&(v.umm(M.handleDataModelChange,M),v.umd(M.handleDataPropertyChange,M),v.umh(M.handleHierarchyChange,M),A||v.sm().ums(M.handleSelectionChange,M)),M._dataModel=i,i.mm(M.handleDataModelChange,M),i.md(M.handleDataPropertyChange,M),i.mh(M.handleHierarchyChange,M),A?A._21I(i):i.sm().ms(M.handleSelectionChange,M),M.fp("dataModel",v,i))},u.validateModel=function(){var t=this;t.$271u.clear(),t._rowMap={},t.$56u(t._dataModel._roots);var d=t.$271u=t.$271u.toList(t.isVisible,t),x=0,M=t.getCurrentSortFunc(),L=d.size();for(M&&d.sort(M);L>x;x++)t._rowMap[d.get(x)._id]=x},u.$56u=function(y){var w=this;y.each(function(A){w.$271u.add(A),w.$56u(A._children)})},u.handleDataModelChange=function(){this.ivm()},u.handleDataPropertyChange=function(P){P.property===$c?this.ivm():this.iv()},u.handleHierarchyChange=function(){this.ivm()},u.handleSelectionChange=function(P){this.iv(),this.onSelectionChanged(P)},u.handleSelect=function(T,u){var s=this,O=s.sm(),l=O.ld();if(cc(T))s.isSelected(u)?O.rs(u):O.as(u);else if(dd(T))if(l)for(var t=s.getRowIndex(l),Q=s.getRowIndex(u);t!==Q;)t+=Q>t?1:-1,O.as(s.$271u.get(t));else O.ss(u);else(gp(T)||!O.contains(u))&&O.ss(u)},u.onSelectionChanged=function(n){var R=this,r=R.sm();R.resetIndeterminate&&"all"===R.getCheckMode()&&R.resetIndeterminate(P,R.getCheckMode()),!R.isAutoMakeVisible()||1!==r.size()||"set"!==n.kind&&"append"!==n.kind||R.$184u||R.makeVisible(r.ld())},u.makeVisible=function(i,Y){i&&(this.$71u=i,this._makeVisibleDataHeight=Y,this.iv())},u.getRootContext=function(A){if(A){var X=Ll(A);return X}return N.ListView.superClass.getRootContext.call(this,A)},u.scrollToIndex=function(C,o){var E,x=this,F=x.$118u,V=F.height,e=x.getRowHeightFunc(),s=x.$271u,w=s.size(),K=0;if(e){E=e.call(x,s.get(C));for(var X=0;C>X;X++)K+=e.call(x,s.get(X))}else E=x.getRowHeight(),K=E*C;o!=P&&(E=o),C>=0&&w>C&&V>0&&(K+E>F.y+V?x.ty(-K+V-E):K<F.y&&x.ty(-K))},u.ivm=function(){this.invalidateModel()},u.invalidateModel=function(){var q=this;q.$116u||(q.checkPreferredSize("ivm"),q.checkMinSize("ivm"),q.checkMaxSize("ivm"),q.$116u=!0,q.fireViewEvent("invalidateModel")),q.iv()},u.createDragImage=function(U,V){var o,B=this,Q=B.isSelected(U);o=Q?V.size()-1:0;var Z,T=B.$271u,C=T.size(),m=B.getRowHeightFunc();if(m){for(var f=B.getContentTop(),u=0;C>u;u++){var g=T.get(u);if(g===U)break;f+=m.call(this,g)}f+=B.ty(),Z={x:0,y:f,width:B.getContentWidth(),height:m.call(this,U)}}else{var S=T.indexOf(U),Y=B.getRowHeight();Z={x:0,y:S*Y+B.ty()+B.getContentTop(),width:B.getContentWidth(),height:Y}}var k=Se(P,!0),b=Z.width,q=Z.height,s=_.devicePixelRatio;wr(k,b,q);var L=Ll(k);if(_l(L,0,0,1),L.beginPath(),L.drawImage(B.$244u,Z.x*s,Z.y*s,b*s,q*s,0,0,b,q),o>0){var p="(+"+o+")",w=Kd(O.font,p);L.beginPath();var D=A(q-12,20);$l(L,b-w.width-10,(q-D)/2,w.width+4,D,4,4,4,4),L.fillStyle="rgba(0, 0, 0, 0.5)",L.fill(),L.beginPath(),Xh(L,p,O.font,"white",0,0,b-8,q,"right","middle")}return k},u.getFocusData=function(){return this._focusData},u.setFocusDataById=function(b){this.setFocusData(this.dm().getDataById(b))},u.setFocusData=function(p){var j=this,J=j._focusData;J!==p&&(j._focusData=p,j.fp("focusData",J,p),p&&j.isAutoMakeVisible()&&j.makeVisible(p))},u.layoutEditor=function(o,b,c,O,V){o.setX(b),o.setY(c),o.setWidth(O),o.setHeight(V)},u.$228u=_.createUIEditor,u.getEditorViewProperties=function(u){return u.s("editorViewProperties")},u.initEditorView=function(s,u){var Y=this,b=u.$230u=u.initEditorView(Y,s,s.getName());b.getStyleParent=function(){return Y};var d=Y.getEditorViewProperties(s);if(d)for(var U in d)b[$j(U)](d[U]);return b.setStyle&&b.setStyle(u.__style),b},u.isEditing=function(){return!!this.$270u
},u.getEditor=function(){return this.$270u},u.beginEdit=function(Z,O){if(!this.$270u){var g,S=this,w=S.$271u,v=w.size(),x=S.getRowHeightFunc(),p=0;if(!(O instanceof N.editor.Editor)){if(O||(O=S.getEditorClassAt(P,Z)),Gl(O)&&(O=_.getClass(O)),!O)return;var E=O;O=new E}var o=S.$230u=S.initEditorView(Z,O);if(S.$270u=O,S.$231u=Z,x){g=x.call(S,Z);for(var b=0;v>b;b++){var A=w.get(b);if(A===Z)break;p+=x.call(S,A)}}else g=S.getRowHeight(),p=g*S.getRowIndex(Z);var f=0,t=S.getContentWidth(),G=g;S.layoutEditor(o,f,p+S.ty(),t,G),S.$67u||(S.$67u=S.$318u.bind(this)),S.$68u||(S.$68u=S.$213u.bind(this)),O.addValueChangeListener(S.$67u),O.addEditorListener(S.$68u),S.$198u.appendChild(o.getView()),o.iv(!0),O.shouldSelect()&&o.requestFocus(),O.afterLayout(o),S.fireViewEvent({kind:"beginEdit",data:Z,editor:O,editorView:o}),S.iv()}},u.setDataValue=function(G,W){var x=W.getName();return W.setName(G),x!==G?!0:void 0},u.$318u=function(E){var i,t=this,e=t.getEditorValidator(),z=t.$231u,N=t.$277u,I=E.value;if(e){var U=N?Fq(z,N.getAccessType(),N.getName()):z.getName();i=e.call(t,U,I,z,N,t.$270u,t.$230u)}else i=!0;i&&t.setDataValue(I,z,N)},u.$163u=function(){var D=this;D.$270u=D.$230u=D.$231u=P},u.endEdit=function(Q){var W=this,L=W.$270u;if(L){var G=W.$231u,S=W.$277u,w=L.getEditorValue();if(Q){var j=W.getEditorValidator();if(j){var f=S?Fq(G,S.getAccessType(),S.getName()):G.getName(),_=j.call(W,f,w,G,S,L,W.$230u,!0);_===!0?W.endEditImpl(w,!0,G,S):"end"===_&&W.endEditImpl(w,!1,G,S)}else W.endEditImpl(w,!0,G,S)}else W.endEditImpl(w,!1,G,S)}},u.endEditImpl=function(v,K,Z,R){var X,d=this,t=d.$270u,y=d.$230u;t&&(K&&(X=d.setDataValue(v,Z,R)),d.$163u(),t.removeValueChangeListener(d.$67u),t.removeEditorListener(d.$68u),t.beforeRemove(y),y.closePopup(),y.setErrorMessage(),Rl(y.getView()),d.iv(),d.fireViewEvent({kind:"endEdit",valueChanged:X}),d.requestFocus())},u.$213u=function(k){var J=this,a=J.$270u;if(a){var $=!1;"stop"===k.kind&&($=!0),J.endEdit($)}},u.getEditorClassAt=function(N,O){return this.getEditorClass(O)},u.drawRowBackground=function(B,i,T,v,H,h){B&&B.draw(i,T,v,H,h,this)},u.drawData=function(_,t,H,d,z){var a=this,Z=a.$118u,s=Z.x,U=Z.width,R=a.drawRow(_,t,a.isSelected(t),s,d,U,z);R!==!0&&a.addElement(R,t.getId(),0,s,d,U,z),a.isRowLineVisible()&&a.drawRowLine(_,a.getRowLineColor(),s,d+z-1,U,1,t)},u.drawRowLine=function(A,Z,F,W,g,a){Wg(A,F,W,g,a,Z)},u.getRowBackgroundDrawable=function(P,n){var l=this,j=l.isCheckMode();return P===l._focusData&&j?l.getFocusBackgroundDrawable():n?l.getSelectBackgroundDrawable():P===l.getHoverData()?l.getHoverBackgroundDrawable():void 0},u.processValidateImpl=function(){var R=this,c=!1;R.$116u&&!c&&(R.validateModel(),R.$116u=P),R._invalidateColumnInfos&&R.$124u&&(R.$124u(),R._invalidateColumnInfos=P),N.ListView.superClass.processValidateImpl.call(R)},u.getTopRowOrderSelection=function(){var M=this.sm().getTopSelection(),y={},q=new m;return M.each(function(v){y[v._id]=v}),this.$271u.each(function(S){y[S._id]&&q.add(S)}),q},u.getRowOrderSelection=function(){var f=new m;return this.$271u.each(function(I){this.isSelected(I)&&f.add(I)},this),f},u.isDraggable=function(){return!0},u.acceptDrop=function(){rf.acceptDragDrop(this,P)},u.isDroppable=function(Z,I,m){var a=this,e=a.$271u,j=!0;if("up"===I||"down"===I)for(var D=e.indexOf(m),y=0,N=Z.length;N>y;y++){var d=Z[y],k=e.indexOf(d);if(D===k){j=!1;break}if("up"===I&&D===k+1){j=!1;break}if("down"===I&&D===k-1){j=!1;break}}return j},u.handleDrop=function(E,U,C,N){var B=this,s=E.source,A=E.target,Q=B.dm();if(s===A)if("up"===C)for(var l=0;l<U.length;l++){var m=U[l],h=Q.getRoots().indexOf(N);Q.getRoots().indexOf(m)<h&&h--,Q.moveTo(m,h)}else if("down"===C)for(var l=U.length-1;l>=0;l--){var m=U[l],h=Q.getRoots().indexOf(N);h++,Q.getRoots().indexOf(m)<h&&h--,Q.moveTo(m,h)}else if(C===$c){for(var l=0;l<U.length;l++){var m=U[l];m.setParent(N)}B.expand(N)}else for(var l=0;l<U.length;l++){var m=U[l];Q.moveToBottom(m)}else if("up"===C)for(var l=0;l<U.length;l++){var m=U[l],h=Q.getRoots().indexOf(N);s.dm&&s.dm().remove(m),Q.add(m),Q.moveTo(m,h)}else if("down"===C)for(var l=U.length-1;l>=0;l--){var m=U[l],h=Q.getRoots().indexOf(N);h++,s.dm&&s.dm().remove(m),Q.add(m),Q.moveTo(m,h)}else if("append"===C)for(var l=0;l<U.length;l++){var m=U[l];s.dm&&s.dm().remove(m),Q.add(m)}},u.drawDropLine=function(O,e,x,B,Q,n,y,r){var X=this;if(r!=P){if(O.save(),O.beginPath(),O.rect(e,x,B,Q),O.clip(),"append"===n)_.drawBorder(O,X.getDropLineColor(),e,x,B,Q,2);else{var v=X.getRowIndent?X.getRowIndent()||0:0;e+=v,r+=X.ty()+x;var J=r;O.beginPath(),"up"===n?J+=3:"down"===n&&(J-=3),O.arc(e+4,J,3,0,o,!0),O.moveTo(e+4,r),O.lineTo(e+B,r),O.lineWidth=2,O.strokeStyle=X.getDropLineColor(),O.stroke()}O.restore()}},u.validateImpl=function(K,A,r,U){var R,j,X=this,J=X.getRootContext(),z=X.getRowHeightFunc(),c=X.getRowHeight(),Y=X.tx(),s=X.ty(),C=X.$271u,u=C.size(),N=0;if(z)for(var I=0;u>I;I++)N+=z.call(X,C.get(I));else N=u*c;var G=X.$118u={x:-Y,y:-s,width:r,height:U},Q=X.$71u;X.$188u=N;var W=0;if(z){for(var I=0;u>I;I++){var m=z.call(X,C.get(I));if(W+m>=G.y){R=I;break}W+=m}R==P&&(R=0)}else R=$(G.y/c);var q=X._startRowIndexOffset,M=R,x=W;if(q&&(M=R-q,0>M&&(M=0),z))for(var I=1;R-M>=I;I++){var m=z.call(X,C.get(R-I));x-=m}if(0>R&&(R=0),X.$70u=R,z){for(var l=W,I=R;u>I;I++)if(l+=z.call(X,C.get(I)),l>=G.y+G.height){j=I+1;break}j==P&&(j=u)}else j=w((G.y+G.height)/c);j>u&&(j=u),X.$69u=j,J.save(),J.beginPath(),J.rect(K,A,r,U),J.clip(),J.translate(K,A),J.translate(Y,s),X.$340u(),X._93db(J),X.figureScrollBarIndent&&(X._scrollBarIndent=X.figureScrollBarIndent("left"),X._rightScrollBarIndent=X.figureScrollBarIndent("right"));for(var I=M;j>I;I++){var V,k=C.get(I);z?(V=z.call(X,k),X.drawData(J,k,I,x,V),x+=V):X.drawData(J,k,I,I*c,c)}if(X._92db(J),J.translate(-Y,-s),J.translate(-K,-A),Q){var B=X.getRowIndex(Q),h=X._makeVisibleDataHeight;B!=P&&X.scrollToIndex(B,h),delete X.$71u,delete X._makeVisibleDataHeight}J.restore(),X.drawDropLine(J,K,A,r,U,X.$224u,X.$223u,X.$222u),X.tx(X.tx()),X.ty(X.ty())},u.selectNext=function(V){var t=this,b=t.isCheckMode(),g=t.$271u,s=g.size(),W=t.sm();if(V){var R=t.getRowIndex(V);R>=0&&R!==s-1&&(V=g.get(R+1),b?t.setFocusData(V):W.ss(V))}else s>0&&(V=g.get(0),b?t.setFocusData(V):W.ss(V))},u.selectPrevious=function(d){var f=this,z=f.isCheckMode(),j=f.$271u,c=j.size(),e=f.sm();if(d){var L=f.getRowIndex(d);L>=0&&0!==L&&(d=j.get(L-1),z?f.setFocusData(d):e.ss(d))}else c>0&&(d=j.get(c-1),z?f.setFocusData(d):e.ss(d))}}}),Cq({$150u:function(l){l._rootData=P,l.resetIndeterminate=function(_,h){var t,m=this;if(t=_?_.getChildren():m.$271u)if("all"===h){for(var H=!0,z=0,J=t.size();J>z;z++){var f=t.get(z);f.hasChildren()&&m.resetIndeterminate(f,h),(!m.isSelected(f)||m.isIndeterminateSelected(f))&&(H=!1)}_&&(_._indeterminateSelected=!H)}else{for(var z=0,J=t.size();J>z;z++){var f=t.get(z);f.hasChildren()&&m.resetIndeterminate(f,h)}_&&(_._indeterminateSelected=P)}},l.isIndeterminateSelected=function(u){return u._indeterminateSelected},l.$137u=function(){this.$262u={},this.$263u={},this._allRows=new m},l.getAllRowDatas=function(){return this._allRows},l.validateModel=function(){var u=this,d=u._rootData;u.$271u.clear(),u._allRows.clear(),u.$263u={},u._rowMap={},u.$264u=0,d?u.isRootVisible()?u.isVisible(d)&&u.buildData(d):u.$56u(d):u.$56u(),delete u.$264u},l.buildData=function(V,r){var N=this,K=V._id,R=N.$271u,L=N._allRows;L.add(V),r||(N._rowMap[K]=R.size(),R.add(V),N.$263u[K]=N.$264u),N.$264u++,N.$56u(V,r||!N.isExpanded(V)),N.$264u--},l.$56u=function(O,J){var $=this,A=O?O._children:$._dataModel._roots,B=$.getCurrentSortFunc();B&&$.isChildrenSortable(O)?A.toList($.isVisible,$).sort(B).each(function(B){$.buildData(B,J)}):A.each(function(T){$.isVisible(T)&&$.buildData(T,J)})},l.getLevel=function(b){return this.$263u[b._id]},l.getToggleIconDrawable=function(N){var S,Q=this,V=Q.getLoader(),t=Q.getCollapseIconDrawable(N);if(Q.isCheckMode()?Q.getFocusData()===N?S="select":Q.getHoverData()===N&&(S="hover"):Q.isSelected(N)?S="select":Q.getHoverData()===N&&(S="hover"),V&&!V.isLoaded(N))return"select"===S?Q.getSelectCollapseIconDrawable(N)||t:"hover"===S?Q.getHoverCollapseIconDrawable(N)||t:t;if(N.hasChildren()){if(Q.isExpanded(N)){var R=Q.getExpandIconDrawable(N);return"select"===S?Q.getSelectExpandIconDrawable(N)||R:"hover"===S?Q.getHoverExpandIconDrawable(N)||R:R}return"select"===S?Q.getSelectCollapseIconDrawable(N)||t:"hover"===S?Q.getHoverCollapseIconDrawable(N)||t:t}return P},l.isCheckMode=function(){var I=this.getCheckMode();return I==P&&(I=this.getStyleValue("checkMode")),I!=P},l.isChildrenSortable=function(){return!0},l.handleDataModelChange=function(B){var Y=this;B.kind===ye?delete Y.$262u[B.data._id]:B.kind===Ij&&(Y.$262u={}),Y.ivm()},l.toggle=function(X){var i=this;i.isExpanded(X)?i.collapse(X):i.expand(X)},l.isExpanded=function(W){return 1===this.$262u[W._id]},l.expand=function(O){var f=this,p=f._loader;f.isExpanded(O)||(p&&!p.isLoaded(O)&&p.load(O),f.fireViewEvent({kind:"expand",data:O,source:f}),f.$262u[O._id]=1,f.ivm(),f.onExpanded(O))},l.onExpanded=function(){},l.collapse=function(s){var N=this;N.isExpanded(s)&&(N.fireViewEvent({kind:"collapse",data:s,source:N}),delete N.$262u[s._id],N.ivm(),N.onCollapsed(s))},l.onCollapsed=function(){},l.expandAll=function(T){var P=this;T?(P.expand(T),T.eachChild(function(T){P.expandAll(T)},P)):(P._dataModel.each(function(S){S.hasChildren()&&(P.$262u[S._id]=1)}),P.fireViewEvent({kind:"expandAll",source:P}),P.ivm())},l.collapseAll=function(){var d=this;d.$262u={},d.fireViewEvent({kind:"collapseAll",source:d}),d.ivm()},l.isDroppable=function(j,l,M){var $=this,e=$.$271u,k=!0;if("up"===l||"down"===l){e.indexOf(M);a:for(var z=0,Z=j.length;Z>z;z++){var L=j[z],d=e.indexOf(L),u=L.getParent();if(L===M||M.isDescendantOf(L)){k=!1;break}if("up"===l&&u==M.getParent())for(var J=d+1,Q=e.size();Q>J;J++){var O=e.get(J);if(O.getParent()===u){if(O==M){k=!1;break a}break}}else if("down"===l&&L.getParent()==M.getParent())for(var J=d-1;J>=0;J--){var O=e.get(J);if(O.getParent()===u){if(O==M){k=!1;break a}break}}}}else if(l===$c)for(var z=0,Z=j.length;Z>z;z++){var L=j[z];if(L===M||M.isDescendantOf(L)||L.getParent()===M){k=!1;break}}return k},l.handleDrop=function(j,Q,W,X){var g=this,q=j.source,L=j.target,M=g.dm();if(q===L){var p=X?X.getParent():P;if("up"===W)for(var m=0,U=Q.length;U>m;m++){var r=Q[m];r.setParent(p);var A=p?p.getChildren():M.getRoots(),F=A.indexOf(X);A.indexOf(r)<F&&F--,M.moveTo(r,F)}else if("down"===W)for(var m=Q.length-1;m>=0;m--){var r=Q[m];r.setParent(p);var A=p?p.getChildren():M.getRoots(),F=A.indexOf(X);F++,A.indexOf(r)<F&&F--,M.moveTo(r,F)}else if(W===$c){for(var m=0,U=Q.length;U>m;m++){var r=Q[m];r.setParent(X)}g.expand(X)}else for(var m=0;m<Q.length;m++){var r=Q[m];r.setParent(g.getRootData()),M.moveToBottom(r)}}else{var f=function(a){if(a&&a.size()>0)for(var c=0,w=a.size();w>c;c++){var u=a.get(c);M.add(u),f(u.getChildren())}};if("up"===W)for(var O=X.getParent(),A=O?O.getChildren():M.getRoots(),m=0,U=Q.length;U>m;m++){var r=Q[m],F=A.indexOf(X);q.dm&&q.dm().remove(r,{keepStructure:!0}),r.setParent(O),M.add(r),M.moveTo(r,F),f(r.getChildren())}else if("down"===W)for(var O=X.getParent(),A=O?O.getChildren():M.getRoots(),m=Q.length-1;m>=0;m--){var r=Q[m],F=A.indexOf(X);F++,q.dm&&q.dm().remove(r,{keepStructure:!0}),r.setParent(O),M.add(r),M.moveTo(r,F),f(r.getChildren())}else if(W===$c){for(var m=0,U=Q.length;U>m;m++){var r=Q[m];q.dm&&q.dm().remove(r,{keepStructure:!0}),r.setParent(X),M.add(r),f(r.getChildren())}g.expand(X)}else if("append"===W)for(var m=0,U=Q.length;U>m;m++){var r=Q[m];q.dm&&q.dm().remove(r,{keepStructure:!0}),r.setParent(g.getRootData()),M.add(r),f(r.getChildren())}}},l.drawDropLine=function(v,a,F,U,l,B,f,W){var C=this;if(W!=P){var k=C.getRowIndent?C.getRowIndent():0;if(v.save(),v.beginPath(),v.rect(a,F,U,l),v.clip(),"append"===B)_.drawBorder(v,C.getDropLineColor(),a,F,U,l,2);else if(B===$c){var Y=C.getIndent(),z=C.$263u[f._id],V=Y*z;a+=k,a+=V,W+=C.ty()+F;var j,i=C.getRowHeightFunc();j=i?i.call(C,f):C.getRowHeight(),_.drawBorder(v,C.getDropLineColor(),a,W,U-=V,j,2)}else{var Y=C.getIndent(),z=C.$263u[f._id];a+=k,a+=Y*z,C.getToggleIconDrawable(f)||(a+=C.getIconWidth()),W+=C.ty()+F;var R=W;v.beginPath(),"up"===B?R+=3:"down"===B&&(R-=3),v.arc(a+4,R,3,0,o,!0),v.moveTo(a+4,W),v.lineTo(a+U,W),v.lineWidth=2,v.strokeStyle=C.getDropLineColor(),v.stroke()}v.restore()}},l.makeVisible=function(X){if(X){var Q=this;if(!Q._rootData||X.isDescendantOf(Q._rootData)){for(var O=X._parent;O;)Q.expand(O),O=O._parent;Q.$71u=X,Q.iv()}}},l.checkData=function(P){var o,O=this,e=O.getCheckMode(),$=O.sm(),C=$.co(P);if(!$.sg()||!C){if(O.$184u=1,e===op)C?$.rs(P):$.as(P);else if(e===Bd)o=new m(P),o.addAll(P._children);else if("descendant"===e)o=new m,xj(P,o);else if("all"===e){o=new m,xj(P,o);var a=P._parent;if(C)for(;a;){for(var S=a.getChildren(),F=!0,U=0,c=S.size();c>U;U++){var Q=S.get(U);if(Q!==P&&$.co(Q)){F=!1;break}}if(!F)break;$.rs(a),a=a._parent}else for(;a;)o.add(a),a=a._parent}o&&(C?$.rs(o):$.as(o)),delete O.$184u}},l.drawToggleIcon=function(k,Z,q,w,t,V){return k&&k.draw(Z,q,w,t,V,this),w},l.drawTree=function(D,t,h,q,d,A,$){var I=this,V=I.getIndent(),W=I.$263u[t._id],z=I.getIconWidth(t),X=I.getIconHeight(t),p=I.getIconGap(),r=I.getRowIndent?I.getRowIndent()||0:0,F=d+($-X)/2,S=I.getToggleIconDrawable(t);q+=r,q+=V*W;var n=I.drawToggleIcon(S,q,F,z,X,t);if(q+=(n==x?z:n)+p,I.isCheckMode()){var H=I.drawCheckIcon(I.getViewCheckIconDrawable(t),q,F,z,X,t);q+=(H==x?z:H)+p}I.getIcon(t)&&(I.drawIcon(D,t,q,F,z,X),q+=z+p);var e=I.drawLabel(D,t,q,d,$);if(e){var K=I instanceof J.ui.TreeTableView?I.getTreeColumn().getId():0;return I.addElement(e,t.getId(),K,q,d,A-q,$),!0}}}}),Cq({$162u:function(g){g.getIcon=function(y){return y.getIcon()},g.drawLabel=function(A,y,E,s,D){var R=this;Xh(A,R.getLabel(y),R.getLabelFont(y),R.getCurrentLabelColor(y),E,s,0,D)},g.drawIcon=function(A,f,e,F,n,c){if(n){var V=this,T=V.getBodyColor(f),q=Xe(V.getIcon(f),T);if(q){c-=V.isRowLineVisible()?1:0;var Y=V.getIconStretch&&V.getIconStretch();Y==P&&(Y="centerUniform"),Hl(A,q,Y,e,F,n,c,f,V,T),Ak(A,V.getBorderColor(f),e,F,n,c)}}}}}),Cq({$151u:function($){$.$164u=function(){var Q=this,w=Q.$117u=new a;Q.$86u=new m,w.mm(Q.$186u,Q),w.md(Q.$185u,Q),w.mh(Q.$187u,Q)},$.setColumnModel=function(m){var d=this,D=d.$117u;D!==m&&(D&&(D.umm(d.$186u,d),D.umd(d.$185u,d),D.umh(d.$187u,d)),d.$117u=m,m.mm(d.$186u,d),m.md(d.$185u,d),m.mh(d.$187u,d),d.$186u(),d.fp("columnModel",D,m),d instanceof N.TreeTableView&&d.addTreeColumn())},$.getScrollBarIndent=function(){return this._scrollBarIndent},$.getRightScrollBarIndent=function(){return this._rightScrollBarIndent},$.setColumns=function(y){this.$117u.clear(),this.addColumns(y)},$.makeColumnVisible=function(d,f){if(d&&!d.getFixed()&&d.getDataModel()===this.getColumnModel()){for(var Z=this,i=Z.$86u,U=i.size(),g=Z.$118u,s=g.x,A=g.width,u=0,r=0;U>r;r++){var o=i.get(r),E=o.column,$=E.getFixed(),F=E.hasChildren();$&&!F&&(A-=o.width)}for(var r=0;U>r;r++){var o=i.get(r),E=o.column,$=E.getFixed(),F=E.hasChildren();if(!$&&!F){var R=o.width;if(E===d){f==P&&(f=R);break}u+=R}}u+f>s+A?Z.tx(-u+A-f):s>u&&Z.tx(-u)}},$.invalidateColumnInfos=function($,X){var s=this;s._invalidateColumnInfos||(s.checkPreferredSize("ivc"),s.checkMinSize("ivc"),s.checkMaxSize("ivc"),s._invalidateColumnInfos=!0,X?s.fireViewEvent({kind:"invalidateColumnInfos",type:$,property:X}):s.fireViewEvent({kind:"invalidateColumnInfos",type:$})),s.iv()},$.addColumns=function(u){var r=this.$117u;u.forEach(function(K){if(!(K instanceof Vj)){var O=Bi(K.className);K=Hm(O?O:Vj,K);var W=K.parentId;if(W!=P){var w=r.getDataById(W);K.setParent(w)}}r.add(K)})},$.onColumnClicked=function(){},$.onCheckColumnClicked=function(){},$.isColumnShowing=function(O){var h=this,b=h._startColumnIndexOffset,r=0;if(b!=P)for(var I=h.getColumnInfos(),S=I.size(),j=I.indexOf(O),c=1;b>0&&!(j+c>=S);){var k=I.get(j+c),p=k.column;c++,p.hasChildren()||(r+=k.width,b--)}var _=O.column;if(_.getFixed())return!0;var w=h.$118u,o=O.startX,q=O.width,L=h._scrollBarIndent||0,C=h._rightScrollBarIndent||0;return o<=w.x+w.width-C&&o+q>=w.x-r+L?!0:void 0},$.getColumnInfo=function(j){for(var u,s=0,I=this.$86u,a=I.size();a>s;s++)if(u=I.get(s),u.column===j)return u;return P},$.getColumnsAt=function(S){var U=this.getColumnInfosAt(S),j=[];if(U)for(var y=0,x=U.length;x>y;y++)j.push(U[y].column);return j},$.getColumnAt=function(X){var B=this.getColumnInfoAt(X);return B?B.column:P},$.getColumnDisplayWidth=function(W){var n=this,q=n.getColumnInfo(W);return q?q.width:void 0},$.figureColumnDisplayWidth=N.TableHeader.prototype.figureColumnDisplayWidth,$.getColumnInfosAt=function(f){var U=this,O=Ig(f)?U.lp(f).x:f.x,H=U.$86u,k=[],i=H.size(),x=U.tx(),v=0;for(v=0;i>v;v++){var M=H.get(v),d=M.startX,Z=O;M.column.getFixed()&&(Z+=x,Z>=d&&Z<d+M.width&&k.push(M))}for(v=0;i>v;v++){var M=H.get(v),d=M.startX,Z=O;M.column.getFixed()||Z>=d&&Z<d+M.width&&k.push(M)}return k},$.getColumnInfoAt=function(C){var E=this,L=E.getColumnInfosAt(C);if(L)for(var T=0,g=L.length;g>T;T++)if(!L[T].hasChildren)return L[T]},$.getColumnInfos=function(){return this.$86u},$.getToolTip=function(s){var N=this,O=N.getDataAt(s),h=N.getColumnAt(s);return O&&h?h.getToolTip(O,N):P},$.adjustTranslateX=function(m){var E=this.getContentWidth()-this.$189u;return E>m&&(m=E),m>0?0:X(m)},$.getEditorClassAt=function(l,h){var S=this,H=l instanceof N.Column?l:S.getColumnAt(l);if(H){var Q=H.getEditorClass(h);return Q}},$.isDataEditable=function(n,w){var X=this,Z=X.getColumnAt(n);return w=w==P?X.getDataAt(n):w,Z?Z.isEditable(w):void 0},$.getEditorViewProperties=function(f,O){return O.s("editorViewProperties")},$.initEditorView=function(b,I,A){var S=this,v=A.$230u=A.initEditorView(S,b,S.getValue(b,I),I);v.getStyleParent=function(){return S};var o=S.getEditorViewProperties(b,I);if(o)for(var W in o)v[$j(W)](o[W]);return v.setStyle&&v.setStyle(A.__style),v},$.beginEdit=function(h,i,r){var X=this;if(!X.$270u){if(!(r instanceof N.editor.Editor)){if(r||(r=X.getEditorClassAt(i,h)),Gl(r)&&(r=_.getClass(r)),!r)return;var g=r;r=new g}var $;$=i instanceof N.Column?X.getColumnInfo(i):X.getColumnInfoAt(i);var e=X.$230u=X.initEditorView(h,$.column,r);X.$270u=r,X.$231u=h,X.$277u=$.column;var K=X.getEditorRect(h,$),D=K.x,Q=K.y,k=K.width,F=K.height;X.layoutEditor(e,D,Q,k,F),X.$67u||(X.$67u=X.$318u.bind(this)),X.$68u||(X.$68u=X.$213u.bind(this)),r.addValueChangeListener(X.$67u),r.addEditorListener(X.$68u),X.$198u.appendChild(e.getView()),e.iv(!0),r.shouldSelect()&&e.requestFocus(),r.afterLayout(e),X.fireViewEvent({kind:"beginEdit",data:h,column:i,editor:r,editorView:e}),X.iv()}},$.getEditorRect=function(T,g){var C,q=this,y=q.$271u,B=y.size(),l=q.getRowHeightFunc(),t=-q.tx(),n=0;if(l){C=l.call(q,T);for(var K=0;B>K;K++){var U=y.get(K);if(U===T)break;n+=l.call(q,U)}}else C=q.getRowHeight(),n=q.getRowIndex(T)*C;var Y=g.startX,J=g.column,f=g.width;if(J!==q.$90u){var P={x:(J.getFixed()?t:0)+Y,y:n,width:f,height:C},u={x:P.x+q.tx(),y:P.y+q.ty(),width:P.width,height:P.height};return u}},$.setDataValue=function(R,z,K){var c=this;if(c.isBatchEditable()&&K.isBatchEditable()&&c.isSelected(z)){var F;c.sm().each(function(A){if(K.setValue){var v=K.setValue(A,K,R,c);F||(F=v)}else{var k=Fq(A,K.getAccessType(),K.getName());Pl(A,K.getAccessType(),K.getName(),R),F||(F=k!==R)}})}else{if(K.setValue)return K.setValue(z,K,R,c);var q=Fq(z,K.getAccessType(),K.getName());if(Pl(z,K.getAccessType(),K.getName(),R),q!==R)return!0}},$.$163u=function(){var n=this;n.$270u=n.$230u=n.$231u=n.$277u=P},$.figurePreferredSize=function(){var m,f,U=this,r=U.getRowHeightFunc();U.$116u&&(U.validateModel(),U.$116u=P),m=U.$271u;var _=0,Y=0,u=h(U.getPreferredSizeRowCountLimit(),m.size());if(U.$117u._roots.each(function(c){if(c.isVisible()){var e=c.getWidth();_+=e>=0?e:80}}),r)for(var y=0;u>y;y++){var z=m.get(y);Y+=r.call(U,z)}else Y=u*U.getRowHeight();return f={width:_,height:Y},f.width+=U.getBorderLeft()+U.getBorderRight()+U.getPaddingLeft()+U.getPaddingRight(),f.height+=U.getBorderTop()+U.getBorderBottom()+U.getPaddingTop()+U.getPaddingBottom(),f.width=w(f.width),f.height=w(f.height),f},$.$214u=function(u,i,n,x){var c=this;if(i){var Z=i.size();if("right"!==n||x)for(var d=0;Z>d;d++){var C=i.get(d),k=C.getFixed(),z=C._children,v=z.size()>0;if(n==k&&C.isVisible()&&(C instanceof N.GroupColumn?v:!0)){var p=c.figureColumnDisplayWidth(C),L=c.$189u,h=L;u.add({column:C,startX:h,hasChildren:v,width:p}),v?c.$214u(u,z,n,x):c.$189u=L+p}}else for(var d=Z-1;d>=0;d--){var C=i.get(d),k=C.getFixed(),z=C._children,v=z.size()>0;if(n==k&&C.isVisible()&&(C instanceof N.GroupColumn?v:!0)){var p=c.figureColumnDisplayWidth(C),h=c.__contentWidth-p;v&&c.$214u(u,z,n,x),u.add({column:C,startX:h,hasChildren:v,width:p},u.size()-c.__rightCount),c.__rightCount++,v||(c.$189u+=p,c.__contentWidth-=p)}}}},$.$124u=function(){var V=this,y=V.$86u;y.clear(),V.$189u=0,V.$214u(y,V.$117u._roots,"left"),V.$214u(y,V.$117u._roots,P);var w=0,e=function(_){for(var q=_.size(),h=q-1;h>=0;h--){var D=_.get(h),C=D.getFixed(),y=D._children,c=y.size()>0;if("right"===C&&D.isVisible()&&(D instanceof N.GroupColumn?c:!0)){var g=V.figureColumnDisplayWidth(D);c?e(y):w+=g}}};e(V.$117u._roots);var x=V.getContentWidth();V.$189u+w>x?(V.__contentWidth=x,V.__rightCount=0,V.$214u(y,V.$117u._roots,"right"),delete V.__contentWidth,delete V.__rightCount):V.$214u(y,V.$117u._roots,"right",!0)},$.isFixedShadowVisible=function(Z,m){return Z>0&&0!==m},$.drawFixedShadow=function(i,M,T,G,R,a){i.save(),i.beginPath();var j=i.createLinearGradient(M,T,M+G,T);j.addColorStop(0,a),j.addColorStop(1,"rgba(0,0,0,0)"),i.rect(M,T,G,R),i.fillStyle=j,i.fill(),i.restore()},$.isRightFixedShadowVisible=function(Z,B){var V=this.getScrollRect().width;return V=X(1e3*V)/1e3,Z>0&&B+V>this.getContentWidth()?!0:void 0},$.drawRightFixedShadow=function(i,R,C,o,W,L){i.save(),i.beginPath();var c=i.createLinearGradient(R,C,R+o,C);c.addColorStop(0,"rgba(0,0,0,0)"),c.addColorStop(1,L),i.rect(R,C,o,W),i.fillStyle=c,i.fill(),i.restore()},$.figureScrollBarIndent=function(z){var W=this,x=0;return W.$86u.each(function(o){var k=o.column,m=k.getFixed(),h=o.width;m==z&&h>0&&!o.hasChildren&&W.isColumnShowing(o)&&(x+=h)}),x},$.drawDataColumn=function(Z,S,b,r,L,O,x){var G=this,p=-G.tx();G.$86u.each(function(B){var c=B.column,e=c.getFixed(),q=B.startX,t=B.width;if(e==x&&t>0&&!B.hasChildren&&G.isColumnShowing(B)&&!G.isEditing(S,c)){var u=c.getPaddingLeft(),k=c.getPaddingRight(),W=(x?p:0)+q+u,J=c.getCellBackground,$=t-u-k;if(Z.save(),J){var a=c.getCellBackground(G.getValue(S,c),S);a=_.toDrawable(a),a&&a instanceof N.drawable.Drawable&&a.draw((x?p:0)+q,r,t,L,S,G)}Z.beginPath(),Z.rect(W,r,0>$?0:$,L),Z.clip();var V=G.drawCell(Z,S,O,c,W,r,$,L);V!==!0&&G.addElement(V,S.getId(),c.getId(),W,r,$,L),Z.restore(),G.isColumnLineVisible()&&Wg(Z,(x?p:0)+q+t-1,r,1,L,G.getColumnLineColor())}})},$.drawData=function(n,J,L,a,m){var H=this,K=H.isSelected(J),t=H.$118u,I=t.x,w=H.getRowBackgroundDrawable(J,K),u=t.width;H.drawRowBackground(w,I,a,u,m,J),H.drawDataColumn(n,J,L,a,m,K,"left"),H.drawDataColumn(n,J,L,a,m,K,"right");var $=H._scrollBarIndent,d=H._rightScrollBarIndent,z=!1;if($>0||d>0){var Z,D;Z=I+$,D=u-$-d,n.save(),n.beginPath(),n.rect(Z,a,D,m),n.clip(),z=!0}H.drawDataColumn(n,J,L,a,m,K,P),z&&n.restore(),H.isRowLineVisible()&&H.drawRowLine(n,H.getRowLineColor(),I,a+m-1,u,1,J)},$.drawCell=function(K,G,S,M,b,H,I,x){var r=this;if(M.drawCell)return M.drawCell(K,G,S,M,b,H,I,x,r);var P,$=r.getValue(G,M);P=M.getLabelFont?M.getLabelFont(G):r.getLabelFont(G,M,$),bd(K,$,M,P,r.getCurrentLabelColor(G,M,$),b,H,I,x,G,r)},$.getColumnModel=function(){return this.$117u},$.$186u=function(){this.invalidateColumnInfos("columnModelChange")},$.$185u=function(Z){var i=this,t=Z.property;(t===uh||t===pd||"fixed"===t)&&i.invalidateColumnInfos("columnPropertyChange",t),Z.data===i._sortColumn&&Sj[t]?i.ivm():i.iv()},$.$187u=function(){this.invalidateColumnInfos("columnHierarchyChange")},$.getCurrentSortFunc=function(){var h=this,o=h._sortColumn;if(o&&o.isSortable()){var D=o.getSortFunc(),f=ks===o.getSortOrder()?1:-1;return D||(D=h.getSortFunc()||oe),function(l,Q){return D.call(h,h.getValue(l,o),h.getValue(Q,o),l,Q)*f}}return h.getSortFunc()}}});var Vj=N.Column=function(){Vj.superClass.constructor.call(this)};Mg("ht.ui.Column",J.Data,{ms_ac:["accessType","valueType",pd,Rd,Ce,uh,"sortOrder",pg,"sortable","editorClass","summary"],ui_ac:["paddingLeft","paddingRight","align"],_visible:!0,_width:100,_sortOrder:ks,_sortFunc:P,_sortable:!0,_summary:"first",__align:sr,__paddingLeft:16,__paddingRight:16,getStyle:function(){return 0===arguments.length?this._style:Vj.superClass.getStyle.apply(this,arguments)},setStyle:function(s,K){if(K!=P||!Gl(s))return Vj.superClass.setStyle.apply(this,arguments);var p="_style",$=this[p];this[p]=s,this.fp("style",$,s)},getFixed:function(){for(var N=this;N;){var j=N.getParent();if(!j)break;N=j}return N._fixed},setFixed:function(V){var k=this._fixed;this._fixed=V,this.fp("fixed",k,V)},setWidth:function(S){16>S&&S>=0&&(S=16);var o=this._width;this._width=S,this.fp(uh,o,S)},getToolTip:function(z,g){return z&&g?this.formatValue(g.getValue(z,this),z):void 0},formatValue:function(m){var M=this,N=M._valueType;if(N===c)return!!m;if(m!=P){if(N===v)return X(m);if(Lk(m))return X(100*m)/100}return m},getSerializableProperties:function(){var i=Je(Vj.superClass.getSerializableProperties.call(this));return delete i.toolTip,i.accessType=1,i.valueType=1,i.visible=1,i.editable=1,i.batchEditable=1,i.width=1,i.align=1,i.sortOrder=1,i.sortable=1,i.editorClass=1,i.paddingLeft=1,i.paddingRight=1,i.summary=1,i}});var dg=N.GroupColumn=function(){dg.superClass.constructor.call(this)};Mg("ht.ui.GroupColumn",N.Column,{isSortable:function(){return!1},getSerializableProperties:function(){var E=Je(dg.superClass.getSerializableProperties.call(this));delete E.width}});var Do=N.EnumColumn=function(){Do.superClass.constructor.call(this)};Mg("ht.ui.EnumColumn",N.Column,{ms_ac:["datas","dropDownConfig","valueField","displayField","iconField"],_editorClass:Hc,_displayField:"label",_iconField:"icon",isReadOnly:function(){return this._readOnly},setReadOnly:function(x){var B=this,T=B._readOnly;T!==x&&(B._readOnly=x,B.fp("readOnly",T,x))},getValueData:function(E,e){var H=this,c=H.getValueField(),p=H.getDatas(e);if(p)for(var K=0,f=p.length;f>K;K++){var e=p[K];if(e===E)return e;if(e!=P&&(c!=P?e[c]===E:e.hasOwnProperty("id")&&e.id===E||e.hasOwnProperty("value")&&e.value===E))return e}return E},drawCell:function(s,G,K,c,I,p,O,i,l){var R=l.getValue(G,c),E=this.getDisplayField(),u=this.getIconField();if(R=c.getValueData(R,G)){var S=Xe(R[u]),J="object"==typeof R?R[E]:R,X=l.getIconWidth(),W=l.getIconHeight(),Q=p+(i-W)/2,V=c.getAlign(),b=l.getLabelFont(G,c,R),k=l.getCurrentLabelColor(G,c,R),M=Kd(b,J).width;S||(X=0),V===sr?(S&&Hl(s,S,np,I,Q,X,W),Xh(s,J,b,k,I+X+2,p,O,i,sr)):V===Vb?(S&&Hl(s,S,np,I+O-M-X,Q,X,W),Xh(s,J,b,k,I+2,p,O,i,Vb)):(S&&Hl(s,S,np,I+(O-M-X)/2,Q,X,W),Xh(s,J,b,k,I+(O-M+X)/2+2,p,0,i,sr))}},getSerializableProperties:function(){var T=Je(Do.superClass.getSerializableProperties.call(this));return T.datas=1,T.dropDownConfig=1,T.readOnly=1,T.valueField=1,T.iconField=1,T.displayField=1,T}});var jl=N.Property=function(){jl.superClass.constructor.call(this)};Mg("ht.ui.Property",J.Data,{ms_ac:["accessType","valueType",Rd,"categoryName",U,"align","editorClass","paddingLeft","paddingRight"],_categoryName:P,getToolTip:function(f,$,s){var z=this;return $?z.formatValue(s.getValue(f,z),f):s.getPropertyName(z)},formatValue:function(T){var R=this,u=R._valueType;if(u===c)return!!T;if(T!=P){if(u===v)return X(T);if(Lk(T))return X(100*T)/100}return T},getSerializableProperties:function(){var v=Je(jl.superClass.getSerializableProperties.call(this));return delete v.toolTip,v.accessType=1,v.valueType=1,v.editable=1,v.categoryName=1,v.color=1,v.align=1,v.editorClass=1,v.paddingLeft=1,v.paddingRight=1,v}});var Fb=N.EnumProperty=function(){Fb.superClass.constructor.call(this)};Mg("ht.ui.EnumProperty",N.Property,{ms_ac:["datas","dropDownConfig","valueField","displayField","iconField"],_editorClass:Hc,_displayField:"label",_iconField:"icon",isReadOnly:function(){return this._readOnly},setReadOnly:function(G){var Y=this,z=Y._readOnly;z!==G&&(Y._readOnly=G,Y.fp("readOnly",z,G))},getValueData:function(l){var t=this,i=t.getValueField(),r=t.getDatas();if(r)for(var f=0,p=r.length;p>f;f++){var J=r[f];if(J===l)return J;if(J!=P&&(i!=P?J[i]===l:J.hasOwnProperty("id")&&J.id===l||J.hasOwnProperty("value")&&J.value===l))return J}return l},drawPropertyValue:function(g,s,X,_,C,D,G,A,c,n){var X=Fq(c,s.getAccessType(),s.getName()),j=this.getDisplayField(),E=this.getIconField();if(X=s.getValueData(X)){var M=Xe(X[E]),b="object"==typeof X?X[j]:X,R=n.getIconWidth(),x=n.getIconHeight(),B=D+(A-x)/2,m=n.getValueAlign(s),U=n.getLabelFont(s),Z=n.getCurrentLabelColor(s,X,_),N=Kd(U,b).width;M||(R=0),m===sr?(M&&Hl(g,M,np,C,B,R,x),Xh(g,b,U,Z,C+R+2,D,G,A,sr)):m===Vb?(M&&Hl(g,M,np,C+G-N-R,B,R,x),Xh(g,b,U,Z,C+2,D,G,A,Vb)):(M&&Hl(g,M,np,C+(G-N-R)/2,B,R,x),Xh(g,b,U,Z,C+(G-N+R)/2+2,D,0,A,sr))}},getSerializableProperties:function(){var e=Je(Fb.superClass.getSerializableProperties.call(this));return e.datas=1,e.dropDownConfig=1,e.readOnly=1,e.valueField=1,e.iconField=1,e.displayField=1,e}}),N.ListView=function(O){var d=this;d.$136u(),d.setUpInteractors(),O instanceof a?d.dm(O):d.set(O),d._dataModel||d.dm(new a)},Mg("ht.ui.ListView",Aq,{ui_ac:[S,b,"hoverLabelColor","unselectableLabelColor",M,d,Ld,Hf,pg,"pannable","iconGap","drawable:focusBackground",Gi,bi,"drawable:selectBackground","drawable:hoverBackground","iconWidth","iconHeight","iconStretch","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","rowHeightFunc","is:checkMode","dragEnabled","dropEnabled","dropLineColor","rowIndent","preferredSizeRowCountLimit","editorValidator"],ms_ac:["hoverData"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,$162u:1,ms_dm:1,$148u:1,__iconWidth:16,__preferredSizeRowCountLimit:10,__iconHeight:16,__rowHeight:26,__rowIndent:4,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__rowLineVisible:!1,__rowLineColor:O.lineColor,__autoMakeVisible:!0,__labelFont:O.font,__dropLineColor:O.insertColor,__checkMode:!1,__pannable:!0,__iconGap:4,__labelColor:O.textColor,__hoverBackground:O.hoverBackground,__selectBackground:O.rowSelectBackground,__focusBackground:O.rowSelectBackground,__unselectableLabelColor:O.textDimColor,getInteractorClasses:function(){return[N.ScrollInteractor,Ob]},checkHitTest:function(A){var q=this;if(q.isCheckMode()){var P=A;A instanceof Event&&(P=q.lp(A));var G=P.x;if(G>=0&&G<=q.getIconWidth())return!0}},isDataEditable:function(u,B){var _=this,s=_.isEditable();return B=B==P?_.getDataAt(u):B,s&&B&&!_.checkHitTest(u)?!0:void 0},drawRow:function(S,Y,$,p,a,E,e){var N=this,D=N.getRowIndent(),_=N.getIconGap(),n=N.getIconWidth(Y),r=N.getIconHeight(Y),m=N.getRowBackgroundDrawable(Y,$);N.drawRowBackground(m,p,a,E,e,Y),N.isCheckMode()&&(N.drawCheckIcon(N.getViewCheckIconDrawable(Y),D,a+(e-r)/2,n,r,Y),D+=n+_),N.getIcon(Y)&&(N.drawIcon(S,Y,D,a+(e-r)/2,n,r),D+=n+_),N.drawLabel(S,Y,D,a,e)},getSerializableProperties:function(){var G=N.ListView.superClass.getSerializableProperties.call(this);return pq(G,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,unselectableLabelColor:1,labelFont:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,sortFunc:1,pannable:1,iconGap:1,visibleFunc:1,autoMakeVisible:1,selectBackground:1,selectBackgroundDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,focusBackground:1,focusBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconStretch:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:!0,radioOnIconDrawable:!0,radioOffIcon:!0,radioOffIconDrawable:!0,editorClass:1,editable:1,rowHeightFunc:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1,dataModel:1,selectionModelShared:1,selectionModel:1,rowIndent:1,preferredSizeRowCountLimit:1,editorValidator:1})
}});var Ob=function(Q){this.list=Q,this.$319u&&this.$319u()};Mg(Ob,j,{ms_listener:1,$319u:function(){var l=this,u=l.list;u.addViewListener(function(N){var S=N.kind,t=u.isDropEnabled&&u.isDropEnabled();if(t)if("dragEnter"===S)u.acceptDrop(N);else if("dragMove"===S){var c=N.target,i=N.source;delete c.$222u,delete c.$223u,delete c.$224u,c.autoScroll(N.nativeEvent);var Y,W,y=c.lp(N.nativeEvent),D=c.$118u,j=c.$271u,J=j.size(),Z=c.getRowHeightFunc(),w=0,s=y.y;if(Z)if(s<D.y||s>=D.y+D.height)W="append";else{for(var R=0;J>R;R++){var q=j.get(R),O=Z.call(c,q),Q=O/2;if(w+Q>s&&w>=D.y){Y=q,W="up";break}if(w+O>s){if(w+O<=D.y+D.height){w+=O,Y=q,W="down";break}if(w>=D.y){Y=q,W="up";break}break}w+=O}W||(W="append")}else{var O=c.getRowHeight(),Q=O/2;if(s<D.y||s>=h(D.y+D.height,c.$69u*O))W="append";else{var d=$(s/O);w=O*d,w+Q>s&&w>=D.y?(Y=j.get(d),W="up"):w+O<=D.y+D.height?(w+=O,Y=j.get(d),W="down"):w>=D.y&&(Y=j.get(d),W="up")}}var g=!0;if(i===c){var z,A=N.data.data,L=N.data.selection;z=L.contains(A)?L._as:[A],u.isDroppable(z,W,Y)||(g=!1)}g&&W!=x&&(c.$222u=w,c.$223u=Y,c.$224u=W),c.iv()}else if("dragCompleted"===S&&N.target===u){var i=N.source,c=N.target,j=c.$271u,Y=c.$223u,W=c.$224u;if(W!=P){var z,A=N.data.data,L=N.data.selection;z=A&&L?L.contains(A)?L._as:[A]:N.data,i===c?u.isDroppable(z,W,Y)&&u.handleDrop(N,z,W,Y):u.handleDrop(N,z,W,Y)}delete c.$222u,delete c.$223u,delete c.$224u,c.iv()}else if("dragExit"===S||"dragCanceled"===S){var c=N.target;c&&(delete c.$222u,delete c.$223u,delete c.$224u,c.iv())}})},getView:function(){return this.list.$239u},clear:function(){var u=this;u.state=u.$44u=u.$45u=u.$46u=u._touchstartData=P},handle_mousedown:function(G){this.handle_touchstart(G)},handle_touchstart:function(b){var o=this,u=o.list;if(u.isSelfViewEvent(b)){var G=u.$270u;if(G&&G.stopEditing(),!b.$146u){var l=o._touchstartData=u.getDataAt(b);if(u.requestFocus(),u.$261u.contains(Ig(b))||fm(b),l){var i=u.isDataEditable(b,l);if(i){var H=u.getEditorClassAt(b,l);H&&Sn(function(){var t=u.$228u(H);t&&t.isEditable(b)&&(u instanceof N.TableView||u instanceof N.TreeTableView?u.beginEdit(l,u.getColumnAt(b),t):u.beginEdit(l,t),o.clear())})}}u.$270u||(o.$44u=$q(b),o.$45u=u.tx(),o.$46u=u.ty(),gp(b)||(l&&o.handleSelectMode(b,l),o.clear()))}}},handleWindowMouseUp:function(r){this.clear(r)},handleWindowTouchEnd:function(c){this.clear(c)},handle_mouseup:function(Z){this.handle_touchend(Z)},handle_touchend:function(G){var w=this,R=w.list;if(R.isSelfViewEvent(G)){var $=R.getDataAt(G),S=R.isDataEditable(G,$);if(!w.state&&!rf.isDragging(R)&&S&&w.$44u){var g=$q(G);if(Bp(g,w.$44u)<An){var z=R.$270u;if(z&&z.stopEditing(),$){var d=R.getEditorClassAt(G,$);if(d){var J=R.$228u(d);J&&J.isEditable(G)&&(R instanceof N.TableView||R instanceof N.TreeTableView?R.beginEdit($,R.getColumnAt(G),J):R.beginEdit($,J),w.clear())}}}}if(!R.$270u&&w.$44u&&!w.state&&!rf.isDragging(R)&&$){var I=$q(G);Bp(I,w.$44u)<An&&(R.isCheckMode()?w.handleCheckMode(G,$):w.handleSelectMode(G,$)),mr(G)?(R.fireViewEvent({kind:"doubleClickData",data:$,nativeEvent:G}),R.onDataDoubleClicked($,G)):(R.fireViewEvent({kind:"clickData",data:$,nativeEvent:G}),R.onDataClicked($,G))}}w.clear(G)},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)},handleWindowTouchMove:function(K){if(!K.$146u){var s=this,o=s.list,T=s.state,n=s.$45u,E=s.$46u,V=s.$44u;if("p"===T){var l=$q(K);o.setTranslate(n+l.x-V.x,E+l.y-V.y),K.$146u=!0}}},handle_mousemove:function(K){this.handle_touchmove(K)},handle_touchmove:function(X){if(!X.$146u&&!Gq()&&gp(X)){var u=this,f=u.list,e=u.$44u,d=$q(X);if(!(Bp(d,e)<An)){var h=f.isContentEvent(X);if(h||f.$224u!=P){if(!rf.isDragging(f)&&f.$224u==P){var $=f.getDataAt(X);f.isSelectable($)&&!tc?f.setHoverData($):f.setHoverData(P)}}else f.setHoverData(P);if(e&&!u.state){if(h&&u._touchstartData&&f.isDragEnabled&&f.isDragEnabled()&&!rf.isDragging(f)){var a=u._touchstartData,G=f.getRowOrderSelection();(f instanceof N.TreeView||f instanceof N.TreeTableView)&&(G=f.getTopRowOrderSelection()),f.isDraggable(a,G,X)&&(rf.doDrag(f,{data:a,selection:G},f.createDragImage(a,G),10,10),Qd(u))}rf.getDragView()!==f&&f.isPannable()&&(u.state="p",Qd(u))}}}},handle_mousewheel:function(d){var G=this.list;G.isSelfViewEvent(d)&&this.handleScroll(d,d.wheelDelta/40,d.wheelDelta!==d.wheelDeltaX)},handle_DOMMouseScroll:function(I){var l=this.list;l.isSelfViewEvent(I)&&this.handleScroll(I,-I.detail,1)},handleScroll:function(M){var q=this.list;fm(M),q.$270u&&q.$270u.stopEditing()},handle_keydown:function(z){var A,x=this.list,M=x.sm();if(x.isSelfViewEvent(z))if(lh(z))x.selectAll();else if($b(z))x.handleDelete&&x.handleDelete(z);else if(Nd(z))x.isCheckMode()&&(A=x.getFocusData(),A&&x.checkData(A));else if(As(z)||Fp(z)){var t=x.isCheckMode();A=t?x.getFocusData():M.ld(),As(z)?x.selectPrevious(A):x.selectNext(A)}},handleCheckMode:function(Y,L){var n=this.list;return n.checkHitTest(Y)?(n.checkData(L),void 0):(n.setFocusData(L),void 0)},handleSelectMode:function(A,Z){var W=this.list;W.handleSelect(A,Z)},handle_mouseleave:function(){this.list.setHoverData(P)}}),N.DropDownTemplate=function(){},Mg("ht.ui.DropDownTemplate",j,{ms_fire:!0,ms_ac:[uh,_o,"filterEnabled","filterFunc"],_filterEnabled:!0,_filterCaseSensitive:!1,isFilterCaseSensitive:function(){return this._filterCaseSensitive},setFilterCaseSensitive:function(k){var A=this._filterCaseSensitive;this._filterCaseSensitive=k,this.fp("filterCaseSensitive",A,k)},addDropDownListener:function($,O,x){var E=this;E.$65u||(E.$65u=new F),E.$65u.add($,O,x)},removeDropDownListener:function(Q,a,I){var P=this;P.$65u&&P.$65u.remove(Q,a,I)},fireDropDownChange:function(J){var k=this;k.$65u&&k.$65u.fire({kind:J})},addValueChangeListener:function(K,W,w){var x=this;x.$64u||(x.$64u=new F),x.$64u.add(K,W,w)},removeValueChangeListener:function($,H,X){var c=this;c.$64u&&c.$64u.remove($,H,X)},fireValueChange:function(F){var c=this;c.$64u&&c.$64u.fire({value:F})},handle_keydown:function(){},setPropertyValue:function(w,A,m){var u=this,V=w.split("."),X=function(){if(V.length>1){for(var L=0;L<V.length-1;L++)u=u[ij(V[L])]();w=V[V.length-1]}var j=u["_"+w];Pl(u,P,w,A),u.fp(w,j,A)};m?0===w.indexOf("dropDownView.")&&X():0!==w.indexOf("dropDownView.")&&X()},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},initDropDownView:function(){},getDropDownView:function(){return this._dropDownView},getDropDownValue:function(){},filter:function(){},getWidth:function(){var w=this.getDropDownView(),e=w.getMaxSize(),K=this._width||w.getPreferredSize().width;return e?h(K,e.width):K},getHeight:function(){var n=this.getDropDownView(),b=n.getMaxSize(),D=this._height||n.getPreferredSize().height;return b?h(D,b.height):D},stop:function(){this.fireDropDownChange("stop")},cancel:function(){this.fireDropDownChange("cancel")}}),N.PopupList=function(){N.PopupList.superClass.constructor.call(this),this.setFocusable(!1)},Mg("ht.ui.PopupList",N.ListView,{ms_ac:["selectableFunc"],__maxSize:{width:1/0,height:200},__borderRadius:O.borderRadius,__boxShadow:O.popupBoxShadow,__background:O.popupBackground,setSelectableFunc:function(y){this.setPropertyValue("selectableFunc",y),this.sm().setFilterFunc(y)},drawLabel:function(w,E,U,n,I){var t=this;t._hasGroupNode&&(E.a("data")&&E.a("data").isGroup||(U+=10)),N.PopupList.superClass.drawLabel.call(t,w,E,U,n,I)},drawIcon:function(I,D,p,z,s,H){var R=this;R._hasGroupNode&&(D.a("data")&&D.a("data").isGroup||(p+=10)),N.PopupList.superClass.drawIcon.call(R,I,D,p,z,s,H)},getLabelFont:function(A){var c=this.getPropertyValue("labelFont");return A.a("data")&&A.a("data").isGroup&&c&&c.indexOf("bold")<0&&(c="bold "+c),c}}),N.ListDropDown=function(){},Mg("ht.ui.ListDropDown",N.DropDownTemplate,{handle_keydown:function(i){var M,w=this,I=w.getListView(),b=w._master,C=I.sm(),y=I.isCheckMode();return M=y?I.getFocusData():C.ld(),I.isVisible(M)||(M=P),As(i)||Fp(i)?(As(i)?I.selectPrevious(M):Fp(i)&&I.selectNext(M),b.isInstant()&&w.$170u(),!1):(Tn(i)&&(w.$170u(),b.close()),void 0)},$170u:function(){var m=this,L=m.getDropDownValue();L!==x&&m.fireValueChange(L)},_handleClick:function(){var D=this;D.stop()},filter:function(K){var o=this,T=o.getListView(),y=o.isFilterEnabled(),f=o.isFilterCaseSensitive();if(K&&y){var x=o.getFilterFunc(),p=K.toLowerCase();T.setVisibleFunc(function(s){if(!s)return!1;if(x)return x(s,K);var X=s.getName();if(X!=P){if(f){if(X.indexOf(K)>=0)return!0}else if(X.toLowerCase().indexOf(p)>=0)return!0}else if(""==K||K==P)return!0})}else T.setVisibleFunc(P)},getMaster:function(){return this._master},getSelectedData:function(D,k){for(var i=this,y=i._master,e=y.getValueField(),x=D.dm().getDatas(),u=0;u<x.size();u++){var j=x.get(u),X=j.a("data");if(k!==P&&"object"==typeof k){if(X==P);else if(e!=P){if(k[e]===X[e])return j}else if(k.id!=P){if(k.id===X.id)return j}else if(k.value!=P){if(k.value===X.value)return j}else if(y.getValueText(k)!=P){if(y.getValueText(k)===y.getValueText(X))return j}else if(y.getValueIcon(k)===y.getValueIcon(X))return j}else if(k===X)return j}},getWidth:function(){return this._width||this._master.getWidth()||this.getDropDownView().getPreferredSize().width},createDropDownView:function(){var K=this,l=K._list=new N.PopupList;return tc?(l.getView().addEventListener("touchstart",function(H){K.$58u=$q(H)}),l.getView().addEventListener("touchend",function(U){var k=$q(U);Bp(K.$58u,k)<An&&K.stop(),delete K.$58u})):l.getView().addEventListener("click",function(){K.stop()}),l.setSelectableFunc(function(r){return r.a("data")&&r.a("data").isGroup?!1:!0}),l},initListDataModel:function(n,g){var w=this,O=w._master,Z=n.dm();if(Z.clear(),g){var A=O.getDisplayField(),T=O.getIconField(),H=O.getValueField(),I=!1;g=g._as?g._as:g;for(var C=0;C<g.length;C++){var t=g[C],s=new J.Data;t!==P&&"object"==typeof t?(A!=P?w.setDataName(s,t[A],t):w.setDataName(s,t.label,t),T!=P?s.setIcon(t[T]):s.setIcon(t.icon),H!=P&&t[H]!=P?s.setId(t[H]):t.id!=P?s.setId(t.id):t.value!=P&&s.setId(t.value),t.isGroup&&(I=!0)):w.setDataName(s,t,t),s.a("data",t),Z.add(s)}n._hasGroupNode=I?!0:!1}},setDataName:function(L,K){L.setName(K)},initDropDownView:function(k,l,v){var r=this,L=r.createDropDownView();return r._master=k,r.initListDataModel(L,l),L.sm().setSelection(r.getSelectedData(L,v)),L},getListView:function(){return this._list},getDropDownValue:function(){var w=this,Q=w.getListView(),h=Q.sm().ld();return h&&Q.isVisible(h)?h.a("data"):void 0}}),N.ComboBox=function(k){var n=this;N.ComboBox.superClass.constructor.call(n),n.$121u=n.$212u.bind(n),n.set(k)},Mg("ht.ui.ComboBox",N.TextField,{ui_ac:["valueIconWidth","valueIconHeight","dropDownConfig","datas","valueField","displayField","iconField","valueIconTextGap","drawable:readOnlyBackground","drawable:hoverReadOnlyBackground","drawable:activeReadOnlyBackground","drawable:readOnlyIcon"],ms_ac:["dropDownTemplate"],_dropDownTemplate:"ht.ui.ListDropDown",__iconPosition:"right",__icon:["ht.ui.drawable.ImageDrawable","ui_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_activeDropDownIcon","fill"],__valueIconWidth:16,__valueIconHeight:16,__iconWidth:20,__displayField:"label",__iconField:"icon",__valueIconTextGap:2,__hoverReadOnlyBackground:O.hoverBackground,__activeReadOnlyBackground:O.activeBackground,getInteractorClasses:function(){return[N.ComboBoxInteractor]},onPropertyChanged:function(d){var j=this,o=d.property;if(N.ComboBox.superClass.onPropertyChanged.call(j,d),"datas"===o||"valueField"===o){var w=j.getObjectByValue(j.getValue());N.ComboBox.superClass.setValue.call(j,w)}},drawBackground:function(q,x,k,H,o,O){var e=this;q=e.getCurrentBackgroundDrawable(),N.ComboBox.superClass.drawBackground.call(e,q,x,k,H,o,O)},getCurrentBackgroundDrawable:function(){var L=this,w=L.getBackgroundDrawable(),S=L.getReadOnlyBackgroundDrawable()||w,W=L.getIconState(),C=L.isReadOnly();return C?"hover"===W?L.getHoverReadOnlyBackgroundDrawable()||S:"active"===W?L.getActiveReadOnlyBackgroundDrawable()||S:S:w},getCurrentIconDrawable:function(b){var E=this,l=E.isReadOnly(),V=N.ComboBox.superClass.getCurrentIconDrawable.call(E,b),s=E.getReadOnlyIconDrawable()||V;return l?s:V},setInputValue:function(x){var h=this,G=h._input,t=h.getDisplayFunc();G.value=!t||h.getView().contains(E.activeElement)&&!h.isReadOnly()?x!=P?"object"==typeof x?h.getValueText(x):x:"":t.call(h,x)},createDropDownInstance:_.createUIEditor,getValue:function(){var L=this,w=L.getValueField(),a=L.getValueObject();return w!=P&&a&&"object"==typeof a?a[w]:a},getValueObject:function(){return N.ComboBox.superClass.getValue.call(this)},setValue:function(L,m){var Y=this;L=Y.getObjectByValue(L),N.ComboBox.superClass.setValue.call(Y,L,m),Y.$227u=!1},getObjectByValue:function(b){var p=this,F=p.getValueField(),K=p.getDatas();if(F!=P&&K){K._as&&(K=K._as);for(var Q=0,V=K.length;V>Q;Q++){var h=K[Q];if(h[F]===b){b=h;break}}}return b},layoutDropDown:function(p,G,f,W,s){p.setX(G),p.setY(f),p.setWidth(W),p.setHeight(s)},getValueText:function(M){var w=this,B=w.getDisplayField();return M?B?M[B]:M.label:void 0},getValueIcon:function(I){var h=this,P=h.getIconField();return I?P?I[P]:I.icon:void 0},setFormDataValue:function(X){var n=this,z=n.getDatas();if(z){z._as&&(z=z._as);for(var I=!1,f=n.getValueField(),H=0,g=z.length;g>H;H++){var M=z[H];if(M===X){n.setValue(M),I=!0;break}if(M!=P&&(f!=P?M[f]===X:M.hasOwnProperty("id")&&M.id===X||M.hasOwnProperty("value")&&M.value===X)){n.setValue(M),I=!0;break}}I||n.setValue(X)}else n.setValue(X)},getFormDataValue:function(){var O=this,H=O.getValueObject();if(H!==P&&"object"==typeof H){var L=O.getValueField();if(L!=P)return H[L];if(H.hasOwnProperty("id"))return H.id;if(H.hasOwnProperty("value"))return H.value}return H},selectAt:function(g){var p=this,m=p.getDatas();m&&(m._as&&(m=m._as),p.setValue(m[g]))},initDropDown:function(){var z=this,e=z.getDropDownTemplate();if(e){var F=z.getDropDownConfig(),G=z._dropDown=z.createDropDownInstance(e,F),Q=G._dropDownView=G.initDropDownView(z,z.getDatas(),z.getValueObject()),W=z.getValueObject();if(Q.getStyleParent=function(){return z},G.__style){var w=Q.getStyle();w?Q.setStyle(w+" "+G.__style):Q.setStyle(G.__style)}if(z._dropDown=G,z._dropDownView=Q,F)for(var u in F)G.setPropertyValue(u,F[u],!0);G.beforeOpen(W),z.prepareLayoutDropDown(),z.fireViewEvent({kind:"dropDownViewCreated",dropDownView:Q});var f=z.getZoom();1!==f&&(Q.setZoomAnchor(0,0),Q.setZoom(f)),_.appendToScreen(Q.getView()),G.addValueChangeListener(z.$328u,z),G.addDropDownListener(z.$321u,z),G.addPropertyChangeListener(z.handleDropDownPropertyChange,z),z.$210u(z.$121u),G.afterOpen(W),Q.iv(!0),z.setIconState(hh)}},closePopup:function(){N.ComboBox.superClass.closePopup.call(this),this.close()},prepareLayoutDropDown:function(){var v=this,z=v.getZoom(),A=v._dropDown,f=v._dropDownView,a=A.getWidth(),q=A.getHeight(),O=v.getView().getBoundingClientRect(),o=Qo(),D=v.getHeight(),X=O.left+o.left,K=O.top+D*z+o.top;X+a>o.left+o.width&&(X=o.left+o.width-a),K+q>o.top+o.height&&(K-=D*z+q,K<o.top&&(K=o.top)),v.layoutDropDown(f,X,K,a,q)},handleDropDownPropertyChange:function(L){var T=this,C=L.property,s=T._dropDownView;!s||C!==uh&&C!==_o||T.prepareLayoutDropDown()},$328u:function(i){this.setValue(i.value)},$159u:function(){var y=this;y._dropDown=y._dropDownView=P},$321u:function(r){var P=this,M=P._dropDown,H=P._dropDownView;if(M){if(M.beforeClose(),"stop"===r.kind){var j=M.getDropDownValue();j!==x&&P.setValue(j)}P.$159u(),Rl(H.getView()),M.removeValueChangeListener(P.$328u,P),M.removeDropDownListener(P.$321u,P),M.removePropertyChangeListener(P.handleDropDownPropertyChange,P),P.$211u(P.$121u),M.afterClose(),P.fireViewEvent("close"),P.setIconState(Ie)}},firePropertyChange:function(g,I,$,m){var K=this;if("value"===g){var w=K.getValueField();w!=P&&(I==P||Gl(I)||(I=I[w]),$==P||Gl($)||($=$[w]))}N.ComboBox.superClass.firePropertyChange.call(K,g,I,$,m)},drawIcon:function(f,O,p,t,l){var h=this,o=h.getBorder(),d=0;o&&(d=o.isCSSBorder()?o.getLeft()+o.getRight():o.getRight());var $=t,g=l,U=h.getWidth()-$-d,n=p;f.draw(U,n,$,g,P,h),h.$177u={x:U-h.getContentLeft(),y:n-h.getContentTop(),width:$,height:g}},drawValueIcon:function(W,t,k,Y,O){W.draw(t,k,Y,O,P,this)},validateImpl:function(H,a,e,k){var G=this;N.ComboBox.superClass.validateImpl.call(G,H,a,e,k);var m=G.getInput(),q=G.getValueIcon(G.getValueObject()),E=_.toDrawable(q),$=m.style;if(q&&E){G.$339u===x&&(G.$339u=$.left,G.$354u=$.width);var U,s,V=G.getValueIconWidth(),P=G.getValueIconHeight(),j=G.getValueIconTextGap();U=H+1,$.left=V+j+wc,$.width=Qk($.width)-V-j+wc,s=a+(k-P)/2,G.drawValueIcon(E,U,s,V,P)}else G.$339u!==x&&($.left=G.$339u,$.width=G.$354u),G.$339u=x,G.$354u=x},$212u:function(D){var o=this;gp(D)&&o.isOpened()&&(o.containsEvent(D)||o.close())},$210u:function(z){tc?E.addEventListener("touchstart",z):E.addEventListener("mousedown",z)},$211u:function(r){tc?E.removeEventListener("touchstart",r):E.removeEventListener("mousedown",r)},open:function(){this.isOpened()||(this.initDropDown(),this.fireViewEvent("open"))},toggle:function(){var D=this;D.isOpened()?D.close():D.open()},isOpened:function(){return!!this._dropDown},close:function(){var u=this;u._dropDown&&(u._dropDown.cancel(),u.fireViewEvent("close"))},getSerializableProperties:function(){var V=N.ComboBox.superClass.getSerializableProperties.call(this);return pq(V,{valueIconWidth:1,valueIconHeight:1,dropDownConfig:1,datas:1,dropDownTemplate:1,valueField:1,displayField:1,iconField:1,valueIconTextGap:1,readOnlyBackground:1,readOnlyBackgroundDrawable:1,hoverReadOnlyBackground:1,hoverReadOnlyBackgroundDrawable:1,activeReadOnlyBackground:1,activeReadOnlyBackgroundDrawable:1,readOnlyIcon:1,readOnlyIconDrawable:1})}}),N.ComboBoxInteractor=function(p){N.ComboBoxInteractor.superClass.constructor.call(this,p)},Mg("ht.ui.ComboBoxInteractor",N.TextFieldInteractor,{addToTouchScrollClearQuene:N.Interactor.prototype.addToTouchScrollClearQuene,handle_keydown:function(i){var n=this,q=n.getComp();if(q.isSelfViewEvent(i)&&q.isOpened()){var T=q._dropDown.handle_keydown(i);T===!1&&i.preventDefault()}},handle_input:function(v){var i=this,r=i.getComp();r.$227u=!0,r.isSelfViewEvent(v)&&(N.ComboBoxInteractor.superClass.handle_input.call(i,v),r.isOpened()&&r._dropDown.filter(v.target.value))},handle_mousedown:function(H){this.handle_touchstart(H)},clearTouchState:function(){var V=this,N=V.getComp();N.setIconState(Ie),V.$47u=P},handle_touchstart:function(T){var c=this,G=c.getComp();G.isSelfViewEvent(T)&&(Ig(T)!==G._input&&fm(T),gp(T)&&(G.isReadOnly()||G.iconHitTest(T))&&(c.$47u=!0,Qd(c),G.setIconState(hh),c.addToTouchScrollClearQuene(T)))},handle_mouseup:function(C){this.handle_touchend.call(this,C)},handle_touchend:function(C){var k=this,z=k.getComp();k.$47u&&gp(C)&&z.isSelfViewEvent(C)&&(z.isReadOnly()||z.iconHitTest(C))&&(!z.isInstant()&&z.$227u&&z.setValue(z.getInput().value),z.toggle(),z.isOpened()||z.setIconState(Yh))},handleWindowTouchEnd:function(Q){this.$47u=null,this.handle_mousemove(Q)},handle_mouseleave:function(){var w=this,F=w.getComp();F.isOpened()||w.$47u||F.setIconState(Ie),F.setOnIcon(!1)},handle_mousemove:function(M){var F=this,y=F.getComp(),q=y.iconHitTest(M);F.$47u||(y.isReadOnly()?(q=!0,y.isOpened()||(Gq()?y.setIconState(Ie):y.setIconState(Yh))):y.isOpened()||(q?Gq()||y.setIconState(Yh):y.setIconState(Ie))),y.setOnIcon(q)},handle_touchmove:function(){}}),N.ColorPaneInteractor=function(z){this.$160u=z},Mg("ht.ui.ColorPaneInteractor",j,{ms_listener:1,getView:function(){return this.$160u.$239u},getComp:function(){return this.$160u},clear:function(){delete this._state,delete this._label,delete this.$58u,delete this._color},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(w){fm(w);var v=this,_=v.getComp();if(_.hueHitTest(w))v._state=1,v.$169u(w,1);else if(_.colorsHitTest(w))v._state=2,v.$169u(w,2);else if(_.opacityHitTest(w)&&_.isAlphaEditable())v._state=3,v.$169u(w,3);else{var e=_.paletteColorHitTest(w);if(e!=P)_.setValue(e.color),_.iv();else{var J=v._label;if(tc&&!J&&(J=v._label=_.labelHitTest(w)),J!=P){var O=_._aInput.value,e={r:X(parseFloat(_._rInput.value)||0),g:X(parseFloat(_._gInput.value)||0),b:X(parseFloat(_._bInput.value)||0),a:O==P||""==O?1:parseFloat(O)};v.$58u=$q(w),v._color=e,"red"===J?_._rInput.focus():"green"===J?_._gInput.focus():"blue"===J?_._bInput.focus():"alpha"===J&&_._aInput.focus(),Qd(v,w)}}}},handle_mouseup:function(P){this.handle_touchend(P)},handle_touchend:function(X){var B=this;B.clear(X)},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handleWindowTouchEnd:function(S){var x=this;x.clear(S)},handle_mousemove:function(V){var U=this;if(U.handle_touchmove(V),!U.$58u){var i=U.$160u,o=i.labelHitTest(V);o!=P?i.isAlphaEditable()||"alpha"!==o?(i.setCursor("ns-resize"),U._label=o):(i.setCursor(""),U._label=P):(i.setCursor(""),U._label=P)}},handle_touchmove:function(G){fm(G);var n=this;n.getComp(),n._state&&Qd(n,G)},handleWindowMouseMove:function(b){this.handleWindowTouchMove(b)},handleWindowTouchMove:function(s){fm(s);var A=this,J=A.getComp(),o=A._state;if(o)A.$169u(s,o);else{var H=A._label;if(H){var i=A.$58u,K=$q(s),h={r:A._color.r,g:A._color.g,b:A._color.b,a:A._color.a};if("alpha"===H){var C=(K.y-i.y)/100;h.a+=C,h.a<0?h.a=0:h.a>1&&(h.a=1)}else{var C=X(K.y-i.y);"red"===H?(h.r+=C,h.r<0?h.r=0:h.r>255&&(h.r=255)):"green"===H?(h.g+=C,h.g<0?h.g=0:h.g>255&&(h.g=255)):"blue"===H&&(h.b+=C,h.b<0?h.b=0:h.b>255&&(h.b=255))}J.setValue(h)}}},handle_input:function(V){var y=this,u=y.getComp(),d=V.target;if(d===u._hexInput){var w=u._hexInput.value;for(0!==w.indexOf("#")&&(w="#"+w);w.length<7;)w+="0";u.setValue(w,{controls:!0,rgbaInput:!0})}else{var q=u._aInput.value,s={r:X(parseFloat(u._rInput.value)||0),g:X(parseFloat(u._gInput.value)||0),b:X(parseFloat(u._bInput.value)||0),a:q==P||""==q?1:parseFloat(q)};u.setValue(s,{controls:!0,hexInput:!0})}u.iv()},$169u:function(L,E){fm(L);var d=this,I=d.getComp(),B=I.lp(L),Q=I.figureScale(),H=Q.scaleX,s=Q.scaleY;if(1===E){var e=I.scaleRect(I.$50u,H,s),u=B.x;u-=e.x,0>u&&(u=0),u>e.width&&(u=e.width),I.$48u=u/H}else if(2===E){var e=I.scaleRect(I.$51u,H,s),u=B.x,p=B.y;u-=e.x,p-=e.y,0>u&&(u=0),u>e.width&&(u=e.width),0>p&&(p=0),p>e.height&&(p=e.height),I.$52u.x=u/H,I.$52u.y=p/s}else if(3===E){var e=I.scaleRect(I.$233u,H,s),u=B.x;u-=e.x,0>u&&(u=0),u>e.width&&(u=e.width),I.$234u=u/H}if(E){var o=I.$332u(),j=I.$325u(o.h/360,o.s/100,o.v/100),G={r:X(255*j.r),g:X(255*j.g),b:X(255*j.b),a:I.$234u/I.$233u.width};I.setValue(G,{hexInput:!0,rgbaInput:!0}),I.iv()}}}),N.ColorPane=function(q){var b=this;N.ColorPane.superClass.constructor.call(b);var I=b.$331u=new N.ComboBox;I.setStyle("colorpane_colorType"),I.setReadOnly(!0),I.getStyleParent=function(){return b},b.initComboBoxDatas(),I.addPropertyChangeListener(function(W){"value"===W.property&&(b.checkPreferredSize("paletteColors"),b._defaultContentSize=P,b.iv())}),b.set(q)},Mg("ht.ui.ColorPane",Aq,{ui_ac:[S,M,"sliderColor","colorNameVisible","inputColor","inputBackground","inputBorderColor","inputFont","previewBorderColor","paletteColors","alphaEditable"],ms_ac:["value"],__border:new N.border.LineBorder(1,O.borderColor),__borderRadius:O.borderRadius,_preferredSizeProps:pq(Je(fn._preferredSizeProps),{paletteColors:!0,colorNameVisible:!0}),$51u:{x:0,y:0,width:195,height:142},$50u:{x:0,y:147,width:150,height:14},$233u:{x:0,y:166,width:150,height:14},$49u:{x:162,y:147,width:33,height:33},$52u:{x:0,y:0},_hexInputRect:{x:0,y:185,width:55,height:20},_rInputRect:{x:60,y:185,width:30,height:20},_gInputRect:{x:95,y:185,width:30,height:20},_bInputRect:{x:130,y:185,width:30,height:20},_aInputRect:{x:165,y:185,width:30,height:20},_comboBoxRect:{x:0,y:230,width:195,height:20},_paletteColorsWidth:195,_paletteColorHeight:20,$48u:0,$234u:150,_value:"rgb(255, 255, 255, 1)",$178u:{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]},__padding:8,__alphaEditable:!0,__labelColor:O.textColor,__labelFont:O.font,__inputColor:O.textColor,__inputBackground:O.inputBackground,__inputBorderColor:O.borderColor,__inputFont:O.font,__previewBorderColor:O.lineColor,__sliderColor:O.borderColor,__colorNameVisible:!0,__paletteColors:{"Eastern Colors":[[null,"#F6D897","#F2BF40","#F8AC19","#986B22","#215D54","#25834C","#24D098"],["#F3C0C9","#BB6765","#B24A5B","#8D384D","#A83A39","#205586","#3DABDD","#A4D9DF"]],"Basic Colors":[[null,"#EF0D0D","#F8F90E","#10F810","#14FFFF","#2712F6","#F89017","#FF00FF"],["#F2F2F2","#E6E6E6","#CCCCCC","#808080","#666666","#4D4D4D","#333333","#1A1A1A"]],"Web Colors":[[null,"#FFFF66","#FFCC66","#F89017","#FF00FF","#FF0066","#FF0000","#990000"],["#00FFCC","#33FF33","#009900","#33CCFF","#3399FF","#3366FF","#6600FF","#330099"]]},getComboBox:function(){return this.$331u},setValue:function(D,l){var g,i=this;if(D&&D.r!=P&&D.g!=P&&D.b!=P?i.setPropertyValue("value","rgba("+D.r+", "+D.g+", "+D.b+", "+(D.a==P?1:D.a)+")"):i.setPropertyValue("value",D),l===x&&(l={rgbaInput:!0,hexInput:!0,controls:!0}),l)if(D){var h;if(D.r!=P&&D.g!=P&&D.b!=P?(g=[D.r,D.g,D.b,D.a==P?1:D.a],h=X(100*g[3])/100):(g=_.toColorData(D),h=X(100*(g[3]/255))/100),g&&(l.rgbaInput&&(i._rInput.value=g[0],i._gInput.value=g[1],i._bInput.value=g[2],i._aInput.value=h),l.hexInput&&(i._hexInput.value=i.$324u(g[0]/255,g[1]/255,g[2]/255)),l.controls)){var c=i.$323u(g[0]/255,g[1]/255,g[2]/255),j=i.$50u,I=i.$233u,U=i.$51u;i.$48u=j.width-j.width*c.h,i.$234u=I.width*h,i.$52u.x=U.width*c.s,i.$52u.y=U.height-U.height*c.v}}else l.rgbaInput&&(i._rInput.value="",i._gInput.value="",i._bInput.value="",i._aInput.value=""),l.hexInput&&(i._hexInput.value=""),l.controls&&(i.$48u=0,i.$234u=150,i.$52u.x=0,i.$52u.y=0)},getInteractorClasses:function(){return[N.ColorPaneInteractor]},closePopup:function(){N.ColorPane.superClass.closePopup.call(this),this.getComboBox().close()},initView:function(Z){var T=this;N.ColorPane.superClass.initView.call(T,Z),["hex","r","g","b","a"].forEach(function(B){var Z=T["_"+B+"Input"]=E.createElement("input"),A=Z.style;Z.type="text",A.boxSizing="border-box",A.position="absolute",A.paddingLeft=2+wc,Z.addEventListener("focus",function(){Z.select()}),Z.value="a"===B?1:"hex"===B?"#FFFFFF":255,T.$198u.appendChild(Z)})},initComboBoxDatas:function(){var X,c=this,g=c.getPaletteColors(),Y=c.$331u,K=[];if(g)for(var h in g)K.push(h),X==P&&(X=h);Y.setDatas(K),Y.setValue(X)},onPropertyChanged:function(m){var x=this,g=m.property;N.ColorPane.superClass.onPropertyChanged.call(x,m),"paletteColors"===g&&x.initComboBoxDatas(),("paletteColors"===g||"colorNameVisible"===g)&&(x._defaultContentSize=P)},$55u:function(C){var y=this,E=y.getPaletteColors();if(E){var V=E[y.$331u.getValue()];if(V&&V.length>0){C==P&&(C=1);var v=y._paletteColorsWidth*C,L=V[0].length,p=(v-5*(L-1))/L;return p}}},calculatePaletteHeight:function(L){var Z=this,O=Z._paletteColorHeight;return L==P&&(L=1),O*L},figureDefaultContentSize:function(){var G=this;if(G._defaultContentSize)return G._defaultContentSize;var n=G._aInputRect,Y=G.isColorNameVisible(),q={width:G._paletteColorsWidth,height:n.y+n.height+2+16},C=G.getPaletteColors(),f=G._comboBoxRect;if(C){q.height=f.y+f.height;var j=G.$55u(),U=G.calculatePaletteHeight();if(j>0){var o=C[G.$331u.getValue()];q.height+=o.length*(U+5)-5+10}}return Y||(q.height-=f.height+10),G._defaultContentSize=q,q},figurePreferredSize:function(){var o=this,c=Je(o.figureDefaultContentSize());return c.width+=o.getBorderLeft()+o.getBorderRight()+o.getPaddingLeft()+o.getPaddingRight(),c.height+=o.getBorderTop()+o.getBorderBottom()+o.getPaddingTop()+o.getPaddingBottom(),c.width=w(c.width),c.height=w(c.height),c},figureScale:function(J,u){var Z=this;J==P&&(J=Z.getContentWidth(),u=Z.getContentHeight());var Y=Z.figureDefaultContentSize(),m=J/Y.width,W=u/Y.height;return{scaleX:m,scaleY:W}},scaleRect:function(u,j,J){return u=Je(u),u.x*=j,u.width*=j,u.y*=J,u.height*=J,u},validateImpl:function(W,b,i,s){var m=this,Y=m.getRootContext(),p=m.isColorNameVisible(),I=m.figureScale(i,s),k=I.scaleX,G=I.scaleY,D=m.scaleRect(m.$51u,k,G),B=m.scaleRect(m.$50u,k,G),w=m.$331u,M=m.scaleRect(m.$233u,k,G),V=m.scaleRect(m.$49u,k,G),z=Je(m.$52u);z.x*=k,z.y*=G;var E=m.$332u(),S=m.$325u(E.h/360,E.s/100,E.v/100);m.drawColors(Y,W+D.x,b+D.y,D.width,D.height),m.drawColorsPointer(Y,W+z.x+D.x,b+z.y+D.y,3),m.drawHueBar(Y,W+B.x,b+B.y,B.width,B.height),m.drawHuePointer(Y,W+B.x,b+B.y,B),m.drawOpacityBar(Y,S,W+M.x,b+M.y,M.width,M.height),m.drawOpacityPointer(Y,W+M.x,b+M.y,M),m.drawPreview(Y,S,W+V.x,b+V.y,V.width,V.height),m.drawLabel(Y,W,b,k,G);var a=w.getDatas(),h=m.scaleRect(m._comboBoxRect,k,G),v=w.getView();if(a&&a.length>0){v.parentNode||m.getContentDiv().appendChild(v),p?w.setVisible(!0):w.setVisible(!1),w.setX(h.x),w.setY(h.y),w.setWidth(h.width),w.setHeight(h.height);var A=m.getPaletteColors();A&&(p?m.drawPaletteColors(Y,A[w.getValue()],W+h.x,b+h.y+h.height+10,k,G):m.drawPaletteColors(Y,A[w.getValue()],W+h.x,b+h.y,k,G))}else v.parentNode&&m.getContentDiv().removeChild(v);var L=m.getInputColor(),l=m.getInputBackground(),o=m.getInputBorderColor(),N=m.getInputFont();[m._hexInput,m._rInput,m._gInput,m._bInput,m._aInput].forEach(function($){$.style.color=L,$.style.background=l,$.style.borderWidth="0 0 1px 0",$.style.borderColor=o,$.style.font=N});var x=m.isAlphaEditable();x?m._aInput.removeAttribute("readonly"):m._aInput.setAttribute("readonly",!0)},$332u:function(){var H=this,M=H.figureScale(),U=M.scaleX,P=M.scaleY,J=Je(H.$52u),I=H.scaleRect(H.$51u,U,P),S=H.scaleRect(H.$50u,U,P),x=H.$48u;J.x*=U,J.y*=P,x*=U;var c={h:X(360-x*(360/S.width)),s:X(100*J.x/I.width),v:X(100-100*J.y/I.height)};return c},drawPaletteColors:function(G,$,_,Y,L,s){var h=this;if(h.$153u=[],$&&$.length>0)for(var j=$.length,R=h.$55u(L),E=h.calculatePaletteHeight(s),X=h.getContentLeft(),x=h.getContentTop(),J=0;j>J;J++)for(var B=0;B<$[J].length;B++){var S=$[J][B],k=_+(R+5)*B,A=Y+(E+5)*J;h.$153u.push({rect:{x:k-X,y:A-x,width:R,height:E},color:S}),G.beginPath(),G.rect(k,A,R,E),G.strokeStyle=h.getPreviewBorderColor(),G.stroke(),S==P?(G.beginPath(),G.rect(k,A,R,E),G.fillStyle="white",G.fill(),G.beginPath(),G.moveTo(k+1,A+1),G.lineTo(k+R-1,A+E-1),G.strokeStyle="red",G.lineWidth=4,G.stroke()):(G.beginPath(),G.rect(k,A,R,E),G.fillStyle=S,G.fill())}},drawPreview:function(e,K,E,B,o,f){var b=this,j=b.$178u,Q=b.getValue(),v=b.$54u;if(!v){v=b.$54u=Se(),wr(v,10,10,1);var W=Ll(v);_f(W,j,0,0,10,10)}e.beginPath();var a=e.createPattern(v,"repeat");e.rect(E,B,o,f),e.fillStyle=a,e.fill(),Q!=P&&(e.beginPath(),e.fillStyle="rgba("+X(255*K.r)+", "+X(255*K.g)+", "+X(255*K.b)+", "+X(100*(b.$234u/b.$233u.width))/100+")",e.rect(E,B,o,f),e.fill()),Ak(e,b.getPreviewBorderColor(),E-1,B-1,o+2,f+2)},drawColors:function(g,K,t,k,_){var p=this,o=p.$332u().h,n=p.$325u(o/360,1,1);g.beginPath(),g.rect(K,t,k,_),g.fillStyle=p.$324u(n.r,n.g,n.b,!0),g.fill(),g.beginPath();var Z=g.createLinearGradient(K,t,K+k,t);Z.addColorStop(0,"rgb(255, 255, 255)"),Z.addColorStop(1,"rgba(255, 255, 255, 0)"),g.rect(K,t,k,_),g.fillStyle=Z,g.fill(),g.beginPath();var D=g.createLinearGradient(K,t,K,t+_);D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(1,"rgba(0, 0, 0, 1)"),g.rect(K,t,k,_),g.fillStyle=D,g.fill(),g.beginPath(),Ak(g,this.getPreviewBorderColor(),K-1,t-1,k+2,_+2)},drawColorsPointer:function(r,A,N,t){r.beginPath(),r.arc(A,N,t,0,2*W),r.strokeStyle="#fff",r.lineWidth=2,r.stroke(),r.arc(A,N,t,0,2*W),r.strokeStyle=this.getSliderColor(),r.lineWidth=1,r.stroke()},drawHueBar:function(Q,w,T,k,e){Q.beginPath();var J=Q.createLinearGradient(w,T,w+k,T),U=["255, 0, 0","255, 0, 255","0, 0 ,255","0, 255, 255","0, 255, 0","255, 255, 0"],D=U.length;U.forEach(function(c,C){J.addColorStop(C/D,"rgb("+c+")")}),J.addColorStop(1,"rgb("+U[0]+")"),Q.rect(w,T,k,e),Q.fillStyle=J,Q.fill(),Q.beginPath(),Ak(Q,this.getPreviewBorderColor(),w-1,T-1,k+2,e+2)},drawHuePointer:function(q,y,b,e){var w=this,h=w.figureScale(),N=w.$48u*h.scaleX;q.beginPath(),q.rect(y+N-2,b,4,e.height),q.fillStyle="white",q.strokeStyle=w.getSliderColor(),q.lineWidth=2,q.stroke(),q.fill()
},drawOpacityBar:function(G,t,e,x,m,U){var Y=this,N=Y.$178u,i=Y.$54u;if(!i){i=Y.$54u=Se(),wr(i,10,10,1);var W=Ll(i);_f(W,N,0,0,10,10)}G.beginPath();var d=G.createPattern(i,"repeat");G.rect(e,x,m,U),G.fillStyle=d,G.fill(),G.beginPath();var y=G.createLinearGradient(e,x,e+m,x);y.addColorStop(0,"rgba("+X(255*t.r)+", "+X(255*t.g)+", "+X(255*t.b)+", "+0+")"),y.addColorStop(1,"rgba("+X(255*t.r)+", "+X(255*t.g)+", "+X(255*t.b)+", "+1+")"),G.rect(e,x,m,U),G.fillStyle=y,G.fill(),G.beginPath(),Ak(G,this.getPreviewBorderColor(),e-1,x-1,m+2,U+2)},drawOpacityPointer:function(n,L,D,G){var O=this,j=O.figureScale(),v=O.$234u*j.scaleX;n.beginPath(),n.rect(L+v-2,D,4,G.height),n.fillStyle="white",n.strokeStyle=O.getSliderColor(),n.lineWidth=2,n.stroke(),n.fill()},drawLabel:function(l,v,x,i,z){var t=this,n=[t._hexInputRect,t._rInputRect,t._gInputRect,t._bInputRect,t._aInputRect];["HEX","R","G","B","A"].forEach(function($,H){var c=t.scaleRect(n[H],i,z),p=t["_"+$.toLowerCase()+"Input"],h=p.style;h.width=c.width+wc,h.height=c.height+wc,h.left=c.x+wc,h.top=c.y+wc;var k={x:c.x,y:c.y+c.height+2,width:c.width,height:16*z};Xh(l,$,t.getLabelFont(),t.getLabelColor(),v+k.x,x+k.y,k.width,k.height,$r,el),"HEX"!==$&&(t["_"+$.toLowerCase()+"LabelRect"]=k)})},labelHitTest:function($){var K=this,Q=$;return $ instanceof Event&&(Q=K.lp($)),be(K._rLabelRect,Q)?"red":be(K._gLabelRect,Q)?"green":be(K._bLabelRect,Q)?"blue":be(K._aLabelRect,Q)?"alpha":void 0},colorsHitTest:function(J){var v=this,n=v.figureScale(),c=v.scaleRect(v.$51u,n.scaleX,n.scaleY),u=J;return J instanceof Event&&(u=v.lp(J)),be(c,u)},opacityHitTest:function(Z){var s=this,D=s.figureScale(),E=s.scaleRect(s.$233u,D.scaleX,D.scaleY),N=Z;return Z instanceof Event&&(N=s.lp(Z)),be(E,N)},paletteColorHitTest:function(z){var K=this,A=K.$153u,J=z;if(A&&A.length>0){z instanceof Event&&(J=K.lp(z));for(var h=0,s=A.length;s>h;h++){var C=A[h].rect;if(be(C,J))return{color:A[h].color}}}},hueHitTest:function(X){var N=this,_=N.figureScale(),T=N.scaleRect(N.$50u,_.scaleX,_.scaleY),b=X;return X instanceof Event&&(b=N.lp(X)),be(T,b)},$323u:function(f,E,m){var Z,s,P=A(A(f,E),m),l=h(h(f,E),m),X=P;if(l==P)Z=0,s=0;else{var $=P-l;s=$/P,Z=f==P?(E-m)/$:E==P?2+(m-f)/$:4+(f-E)/$,Z/=6,0>Z&&(Z+=1),Z>1&&(Z-=1)}return{h:Z,s:s,v:X}},$324u:function(O,L,l,K){return O=X(255*O),L=X(255*L),l=X(255*l),K==x&&(K=!0),O=O.toString(16),1==O.length&&(O="0"+O),L=L.toString(16),1==L.length&&(L="0"+L),l=l.toString(16),1==l.length&&(l="0"+l),((K?"#":"")+O+L+l).toUpperCase()},$333u:function(D,d,i){i==x&&(i=P),"#"==D.substr(0,1)&&(D=D.substr(1));var f,e,T;if(3==D.length)f=D.substr(0,1),f+=f,e=D.substr(1,1),e+=e,T=D.substr(2,1),T+=T;else{if(6!=D.length)return i;f=D.substr(0,2),e=D.substr(2,2),T=D.substr(4,2)}return f=Qk(f,16),e=Qk(e,16),T=Qk(T,16),isNaN(f)||isNaN(e)||isNaN(T)?i:d?{r:f,g:e,b:T}:{r:f/255,g:e/255,b:T/255}},$325u:function(T,C,I){var L,V,X;if(0==I)L=0,V=0,X=0;else{var l=$(6*T),U=6*T-l,i=I*(1-C),O=I*(1-C*U),R=I*(1-C*(1-U));switch(l){case 1:L=O,V=I,X=i;break;case 2:L=i,V=I,X=R;break;case 3:L=i,V=O,X=I;break;case 4:L=R,V=i,X=I;break;case 5:L=I,V=i,X=O;break;case 6:case 0:L=I,V=R,X=i}}return{r:L,g:V,b:X}},getSerializableProperties:function(){var X=N.ColorPane.superClass.getSerializableProperties.call(this);return pq(X,{labelColor:1,labelFont:1,sliderColor:1,inputColor:1,inputBackground:1,inputBorderColor:1,inputFont:1,previewBorderColor:1,value:1,paletteColors:1,colorNameVisible:1})}}),N.DateTimePaneInteractor=function(W){N.DateTimePaneInteractor.superClass.constructor.call(this,W)},Mg("ht.ui.DateTimePaneInteractor",N.Interactor,{handle_mousedown:function(F){this.handle_touchstart(F)},handleYearClick:function(){var N=this,E=N.getComponent();E.setContentType("yearGrid")},handleMonthClick:function(){var t=this,H=t.getComponent();H.setContentType("monthGrid")},setValue:function(K){var L=this,X=L.getComponent(),H=X._dateRangeType;if(H){var U=X.getDisplayRange();U=U.slice(0),"start"===H?U[0]=K:U[1]=K,X.setDisplayRange(U)}else X.setValue(K)},getValue:function(){var x=this,i=x.getComponent(),I=i._dateRangeType;if(I){var R,F,G=i.getDisplayRange();return R=G[0],F=G[1],"start"===I?R:F}return i.getValue()||new Date},handle_touchstart:function(o){fm(o);var H=this,C=H.getComponent(),M=C.areaHitTest(o);if(M){C.setHitArea(M),C.setHitState("active");var U=C.getContentType(),k=C.getType();if("headerYear"===M)H.handleYearClick();else if("headerMonth"===M)H.handleMonthClick();else if("timeSelector"===M)"timeList"!==U?C.setContentType("timeList"):C.setContentType("dateGrid");else if("prevYear"===M){var p=H.getValue();if("yearGrid"===U)C._startYear-=15,C._startYear<1&&(C._startYear=1),C.iv();else{p=new Date(p.getTime());var v=p.getFullYear(),Z=v-1,t=p.getMonth();p.setFullYear(Z),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p)}}else if("nextYear"===M){var p=H.getValue();if("yearGrid"===U)C._startYear+=15,C.iv();else{p=new Date(p.getTime());var v=p.getFullYear(),Z=v+1,t=p.getMonth();p.setFullYear(Z),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p)}}else if("prevMonth"===M){var p=H.getValue();p=new Date(p.getTime());var v=p.getFullYear(),Z=v,j=p.getMonth(),t=j-1;-1===t&&(t=11,Z-=1),p.setFullYear(Z),p.setMonth(t),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p)}else if("nextMonth"===M){var p=H.getValue();p=new Date(p.getTime());var v=p.getFullYear(),Z=v,j=p.getMonth(),t=j+1;12===t&&(t=0,Z+=1),p.setFullYear(Z),p.setMonth(t),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p)}else if(M)if("gridDate"===M.type){var y=C._dateRangeType;if(y){var f=C.getDateRange(),l=f[0],s=f[1],p=new Date(M.year,M.month-1,M.date);if(l&&s)f=[p,P];else if(l){f=f.slice(0);var e=_.formatDate(l,"YYYY-MM-DD"),D=_.formatDate(p,"YYYY-MM-DD");e>D?(f[0]=p,f[1]=l):f[1]=p}else f=f.slice(0),f[0]=p;C.setDateRange(f)}else p=H.getValue(),p=new Date(M.year,M.month-1,M.date,p.getHours(),p.getMinutes(),p.getSeconds()),C.setValue(p);C.setHitArea(P),C.setHitState(P)}else if("gridYear"===M.type){if(C._dateRangeType&&"year"===k){var f=C.getDateRange(),l=f[0],s=f[1],p=new Date(M.year,1,1);if(l&&s)f=[p,P];else if(l){f=f.slice(0);var e=_.formatDate(l,"YYYY"),D=_.formatDate(p,"YYYY");e>D?(f[0]=p,f[1]=l):f[1]=p}else f=f.slice(0),f[0]=p;C.setDateRange(f)}else{var p=H.getValue();p=new Date(p.getTime());var Z=M.year,t=p.getMonth();p.setFullYear(Z),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p),"year"!==k&&C.setContentType("dateGrid")}C.setHitArea(P),C.setHitState(P)}else if("gridMonth"===M.type){if(C._dateRangeType&&"month"===k){var f=C.getDateRange(),l=f[0],s=f[1],p=new Date(M.year,M.month-1,1);if(l&&s)f=[p,P];else if(l){f=f.slice(0);var e=_.formatDate(l,"YYYY-MM"),D=_.formatDate(p,"YYYY-MM");e>D?(f[0]=p,f[1]=l):f[1]=p}else f=f.slice(0),f[0]=p;C.setDateRange(f)}else{var p=H.getValue();p=new Date(p.getTime());var t=M.month-1,Z=p.getFullYear();p.setMonth(t),p.getMonth()!==t&&(p=new Date(Z,t+1,0,p.getHours(),p.getMinutes(),p.getSeconds())),H.setValue(p),"month"!==k&&C.setContentType("dateGrid")}C.setHitArea(P),C.setHitState(P)}}},handle_mouseleave:function(){var U=this.getComponent();U.setHitArea(P),U.setHitState(P)},handle_mouseup:function(j){this.handle_touchend(j)},handle_touchend:function(S){this.handle_mousemove(S)},handle_mousemove:function(d){var I=this,j=I.getComponent(),e=j.areaHitTest(d);e?(j.setHitArea(e),j.setHitState("hover")):(j.setHitArea(P),j.setHitState("normal"))},handle_touchmove:function(I){fm(I);var _=this;_._state&&Qd(_,I)},handle_moueleave:function(){var T=this,$=T.getComponent();$.setHitArea(P),$.setHitState("normal")}}),N.DateTimePane=function(E){var B=this;N.DateTimePane.superClass.constructor.call(B),B.createHoursList(),B.createMinutesList(),B.createSecondsList(),E instanceof Date?B.setValue(E):B.set(E)},Mg("ht.ui.DateTimePane",Aq,{ui_ac:["type","weekLabels","timeLabels","yearLabel","monthLabel","yearMonthOrder","labelFont","drawable:prevYear","drawable:nextYear","drawable:prevMonth","drawable:nextMonth","drawable:hoverPrevYear","drawable:hoverNextYear","drawable:hoverPrevMonth","drawable:hoverNextMonth","drawable:activePrevYear","drawable:activeNextYear","drawable:activePrevMonth","drawable:activeNextMonth","headerTitleColor","hoverHeaderTitleColor","weekTitleColor","gridColor","otherMonthGridColor","hoverGridColor","selectGridColor","timeColor","hoverTimeColor","disabledTimeColor","timeAlign","drawable:hoverGridBackground","drawable:selectGridBackground"],ms_ac:["value","hitArea","hitState","contentType","displayRange","dateRange","timeRange"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{type:!0}),__yearMonthOrder:"yearMonth",__type:"datetime",__weekLabels:["日","一","二","三","四","五","六"],__timeLabels:["小时","分钟","秒"],__yearLabel:"YYYY 年",__monthLabel:"MM 月",__labelFont:O.font,__prevYear:"ui_prevYear",__prevMonth:"ui_prevMonth",__nextYear:"ui_nextYear",__nextMonth:"ui_nextMonth",__disabledTimeColor:O.textDimColor,__border:new N.border.LineBorder(1,O.borderColor),__borderRadius:O.borderRadius,__headerTitleColor:O.textColor,__hoverHeaderTitleColor:O.baseColor,__hoverGridBackground:O.hoverBackground,__selectGridBackground:["ht.ui.drawable.DateTimePaneSelectGridDrawable",O.baseColor,null,Qk(O.borderRadius)],__weekTitleColor:O.textColor,__gridColor:O.textColor,__otherMonthGridColor:O.textDimColor,__hoverGridColor:O.textColor,__selectGridColor:O.baseColor,__timeAlign:"left",__timeColor:O.textColor,__hoverTimeColor:O.baseColor,__activeTimeColor:O.baseColor,_prevYearRect:{x:10,y:10,width:30,height:30},_prevMonthRect:{x:45,y:10,width:30,height:30},_nextYearRect:{x:230,y:10,width:30,height:30},_nextMonthRect:{x:195,y:10,width:30,height:30},_yearRect:{x:75,y:10,width:55,height:30},_monthRect:{x:140,y:10,width:55,height:30},_weekRect:{x:9,y:40,width:252,height:30},_timeSelectorRect:{x:20,y:254,width:230,height:30},_dateTimeSize:{width:270,height:290},_dateSize:{width:270,height:260},getContentType:function(){var k=this,f=k.getPropertyValue("contentType");if(!f){var H=k.getType();"datetime"===H||"date"===H?f="dateGrid":"month"===H?f="monthGrid":"year"===H?f="yearGrid":"time"===H&&(f="timeList")}return f},figureDefaultContentSize:function(){var c=this,p=c.getType();return"datetime"!==p||c._dateRangeType?c._dateSize:c._dateTimeSize},figurePreferredSize:function(){var J=this,M=Je(J.figureDefaultContentSize());return M.width+=w(J.getPaddingLeft()+J.getPaddingRight()+J.getBorderLeft()+J.getBorderRight()),M.height+=w(J.getPaddingTop()+J.getPaddingBottom()+J.getBorderTop()+J.getBorderBottom()),M},getInteractorClasses:function(){return[N.DateTimePaneInteractor]},getIconDrawable:function(b){var E=this,N=E.getHitState();if("prevYear"===b){var U=E.getPrevYearDrawable();return"hover"===N?E.getHoverPrevYearDrawable()||U:"active"===N?E.getActivePrevYearDrawable()||U:U}if("prevMonth"===b){var Q=E.getPrevMonthDrawable();return"hover"===N?E.getHoverPrevMonthDrawable()||Q:"active"===N?E.getActivePrevMonthDrawable()||Q:Q}if("nextYear"===b){var $=E.getNextYearDrawable();return"hover"===N?E.getHoverNextYearDrawable()||$:"active"===N?E.getActiveNextYearDrawable()||$:$}if("nextMonth"===b){var Y=E.getNextMonthDrawable();return"hover"===N?E.getHoverNextMonthDrawable()||Y:"active"===N?E.getActiveNextMonthDrawable()||Y:Y}},getTextColor:function(B,V,O,s,K){var y=this;if("weekTitle"===B.type)return y.getWeekTitleColor();if("headerYear"===B.type){var a=y.getHitArea();return"headerYear"===a?y.getHoverHeaderTitleColor():y.getHeaderTitleColor()}if("headerMonth"===B.type){var a=y.getHitArea();return"headerMonth"===a?y.getHoverHeaderTitleColor():y.getHeaderTitleColor()}if("timeSelector"===B.type){var a=y.getHitArea(),o=y.getContentType();return"monthGrid"===o||"yearGrid"===o?y.getDisabledTimeColor():"timeSelector"===a?y.getHoverTimeColor():y.getTimeColor()}if("hoursTitle"===B.type||"minutesTitle"===B.type||"secondsTitle"===B.type)return y.getHeaderTitleColor();if("gridYear"===B.type){var v=y.getValue();if(v&&v.getFullYear()===B.year)return y.getSelectGridColor();var a=y.getHitArea();return a&&a.year===B.year?y.getHoverGridColor():y.getGridColor()}if("gridMonth"===B.type){var v=y.getValue();if(v&&v.getMonth()+1===B.month)return y.getSelectGridColor();var a=y.getHitArea();return a&&a.month===B.month?y.getHoverGridColor():y.getGridColor()}if("gridDate"===B.type){var Q=y._dateRangeType;if(Q){var k;if(k="start"===Q?s:K,V&&V.getDate()===B.date&&V.getMonth()+1===B.month&&V.getFullYear()===B.year){if(B.year===k.getFullYear()&&B.month===k.getMonth()+1)return y.getSelectGridColor()}else if(O&&O.getDate()===B.date&&O.getMonth()+1===B.month&&O.getFullYear()===B.year&&B.year===k.getFullYear()&&B.month===k.getMonth()+1)return y.getSelectGridColor()}else{var v=y.getValue();if(v&&v.getDate()===B.date&&v.getMonth()+1===B.month&&v.getFullYear()===B.year)return y.getSelectGridColor()}var a=y.getHitArea();return a&&a.date===B.date&&a.month===B.month?y.getHoverGridColor():B.month===B.currentMonth?y.getGridColor():y.getOtherMonthGridColor()}},getGridBackgroundDrawable:function(Y,R,v,u,k){var w=this,o=w.getHitArea(),c=w._dateRangeType,j=w.getValue();if("gridDate"===Y.type){if(c){var S;if(S="start"===c?u:k,R&&R.getDate()===Y.date&&R.getMonth()+1===Y.month&&R.getFullYear()===Y.year)return Y.year===S.getFullYear()&&Y.month===S.getMonth()+1?w.getSelectGridBackgroundDrawable():w.getHoverGridBackgroundDrawable();if(v&&v.getDate()===Y.date&&v.getMonth()+1===Y.month&&v.getFullYear()===Y.year)return Y.year===S.getFullYear()&&Y.month===S.getMonth()+1?w.getSelectGridBackgroundDrawable():w.getHoverGridBackgroundDrawable();if(R&&v){var p=new Date(Y.year,Y.month-1,Y.date);if(p>R&&v>p)return w.getHoverGridBackgroundDrawable()}}else if(j&&j.getDate()===Y.date&&j.getMonth()+1===Y.month&&j.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable()}else if("gridYear"===Y.type){if(c)if("year"===w.getType()){if(R&&R.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable();if(v&&v.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable();if(R&&v){var p=new Date(Y.year,1,1);if(p>R&&v>p)return w.getHoverGridBackgroundDrawable()}}else{var S;if(S="start"===c?u:k,S&&S.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable()}else if(j&&j.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable()}else if("gridMonth"===Y.type)if(c)if("month"===w.getType()){if(R&&R.getMonth()+1===Y.month&&R.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable();if(v&&v.getMonth()+1===Y.month&&v.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable();if(R&&v){var p=new Date(Y.year,Y.month-1,1);if(p>R&&v>p)return w.getHoverGridBackgroundDrawable()}}else{var S;if(S="start"===c?u:k,S&&S.getMonth()+1===Y.month&&S.getFullYear()===Y.year)return w.getSelectGridBackgroundDrawable()}else if(j&&j.getMonth()+1===Y.month)return w.getSelectGridBackgroundDrawable();if(o){if("gridDate"===o.type&&o.date===Y.date&&o.month===Y.month)return w.getHoverGridBackgroundDrawable();if("gridYear"===o.type&&o.year===Y.year)return w.getHoverGridBackgroundDrawable();if("gridMonth"===o.type&&o.month===Y.month)return w.getHoverGridBackgroundDrawable()}},areaHitTest:function(C){var U=this;if(C){var N=U.getContentType(),J=C instanceof Event?U.lp(C):C,Y=U.getType(),k=0,g=0,E=U.getContentLeft(),Q=U.getContentTop(),T=U.getContentWidth(),s=U.getContentHeight(),M=U.figureDefaultContentSize(),I=T/M.width,O=s/M.height,j=U.getYearMonthOrder();if("yearGrid"!==N&&"monthGrid"!==N&&"datetime"===Y&&be(U.scaleRect(U._timeSelectorRect,k,g,I,O),J))return"timeSelector";if("dateGrid"===N){if(be(U.scaleRect(U._yearRect,k,g,I,O),J))return"yearMonth"===j?"headerYear":"headerMonth";if(be(U.scaleRect(U._monthRect,k,g,I,O),J))return"yearMonth"===j?"headerMonth":"headerYear";if(be(U.scaleRect(U._prevYearRect,k,g,I,O),J))return"prevYear";if(be(U.scaleRect(U._prevMonthRect,k,g,I,O),J))return"prevMonth";if(be(U.scaleRect(U._nextYearRect,k,g,I,O),J))return"nextYear";if(be(U.scaleRect(U._nextMonthRect,k,g,I,O),J))return"nextMonth";var p=U._dayRects;if(p)for(var t=0,K=p.length;K>t;t++){var V=Je(p[t]);if(V.x-=E,V.y-=Q,be(V,J))return{type:"gridDate",date:V.date,month:V.month,currentMonth:V.currentMonth,year:V.year}}}else if("yearGrid"===N){if(be(U.scaleRect(U._prevYearRect,k,g,I,O),J))return"prevYear";if(be(U.scaleRect(U._nextYearRect,k,g,I,O),J))return"nextYear";var R=U._yearRects;if(R)for(var t=0,K=R.length;K>t;t++){var V=Je(R[t]);if(V.x-=E,V.y-=Q,be(V,J))return{type:"gridYear",year:V.year}}}else if("monthGrid"===N){if("month"===Y){if(be(U.scaleRect(U._prevYearRect,k,g,I,O),J))return"prevYear";if(be(U.scaleRect(U._nextYearRect,k,g,I,O),J))return"nextYear"}var r=U._monthRects;if(r)for(var t=0,K=r.length;K>t;t++){var V=Je(r[t]);if(V.x-=E,V.y-=Q,be(V,J))return{type:"gridMonth",year:V.year,month:V.month}}}}},formatYear:function(a){var E=this,g=E.getYearLabel(),W=new Date;return W.setDate(1),W.setFullYear(a),_.formatDate(W,g)},formatMonth:function(X){var $=this,C=$.getMonthLabel(),y=new Date;return y.setDate(1),y.setMonth(X-1),_.formatDate(y,C)},scaleRect:function(D,R,e,k,_){var o=this;if(R===x){var m=o.figureDefaultContentSize();R=o.getContentLeft(),e=o.getContentTop();var s=o.getContentWidth(),X=o.getContentHeight();k=s/m.width,_=X/m.height}return D=Je(D),D.x*=k,D.width*=k,D.y*=_,D.height*=_,D.x+=R,D.y+=e,D},validateImpl:function(q,L,h,D){var c,R,B,K,y,l,N,O,m,Y,p,C=this,s=C.getType(),v=C.getContentType(),Q=C.figureDefaultContentSize(),W=h/Q.width,i=D/Q.height,d=C.scaleRect(C._prevYearRect,q,L,W,i),Z=C.scaleRect(C._prevMonthRect,q,L,W,i),e=C.scaleRect(C._nextYearRect,q,L,W,i),u=C.scaleRect(C._nextMonthRect,q,L,W,i),U=C.scaleRect(C._yearRect,q,L,W,i),A=C.scaleRect(C._monthRect,q,L,W,i),w=C.scaleRect(C._weekRect,q,L,W,i),j=C.getLabelFont(),g=C.getYearMonthOrder(),t=C.getValue()||new Date,o=C.getDisplayRange(),E=C.getDateRange(),b=C.getTimeRange(),V=C._dateRangeType,f=C.getRootContext();if(o?(l=o[0],N=o[1],O=E[0],m=E[1],Y=b[0],p=b[1],"start"===V?(c=l.getFullYear(),R=l.getMonth()+1,B=Y.getHours(),K=Y.getMinutes(),y=Y.getSeconds()):(c=N.getFullYear(),R=N.getMonth()+1,B=p.getHours(),K=p.getMinutes(),y=p.getSeconds())):(c=t.getFullYear(),R=t.getMonth()+1,B=t.getHours(),K=t.getMinutes(),y=t.getSeconds()),"monthGrid"===v){"month"===s&&(C.getIconDrawable("prevYear").draw(d.x,d.y,d.width,d.height,null,C),C.getIconDrawable("nextYear").draw(e.x,e.y,e.width,e.height,null,C));var z=w.x,_=w.y,S=w.width/3,G=7*w.height/4;Xh(f,C.formatYear(c),j,C.getTextColor({type:"headerYear"}),q,U.y,h,U.height,"center",id);for(var r=0,n=C._monthRects=[],k=1;12>=k;k++){var F={type:"gridMonth",year:c,month:k},T=C.getTextColor(F),$=C.getGridBackgroundDrawable(F,O,m,l,N);n.push({x:z,y:_,width:S,height:G,year:c,month:k}),$&&$.draw(z,_,S,G,null,C),Xh(f,C.formatMonth(k),j,T,z,_,S,G,"center",id),z+=S,0===(r+1)%3&&(z=w.x,_+=G),r++}}else if("yearGrid"===v){C.getIconDrawable("prevYear").draw(d.x,d.y,d.width,d.height,null,C),C.getIconDrawable("nextYear").draw(e.x,e.y,e.width,e.height,null,C);var a=C._startYear;a==P&&(a=C._startYear=c-7);var J=a+15,z=w.x,_=w.y,x=w.width/3,I=7*w.height/5;Xh(f,C.formatYear(a)+" - "+C.formatYear(J-1),j,C.getTextColor({type:"headerMonth"}),q,U.y,h,U.height,"center",id);for(var r=0,X=C._yearRects=[],k=a;J>k;k++){var H={type:"gridYear",year:k},T=C.getTextColor(H),$=C.getGridBackgroundDrawable(H,O,m,l,N);X.push({x:z,y:_,width:x,height:I,year:k}),$&&$.draw(z,_,x,I,null,C),Xh(f,C.formatYear(k),j,T,z,_,x,I,"center",id),z+=x,0===(r+1)%3&&(z=w.x,_+=I),r++}}else if("dateGrid"===v){C.getIconDrawable("prevYear").draw(d.x,d.y,d.width,d.height,null,C),C.getIconDrawable("prevMonth").draw(Z.x,Z.y,Z.width,Z.height,null,C),"yearMonth"===g?(Xh(f,C.formatYear(c),j,C.getTextColor({type:"headerYear"}),U.x,U.y,U.width,U.height,Vb,id),Xh(f,C.formatMonth(R),j,C.getTextColor({type:"headerMonth"}),A.x,A.y,A.width,A.height,sr,id)):(Xh(f,C.formatYear(c),j,C.getTextColor({type:"headerYear"}),A.x,A.y,A.width,A.height,sr,id),Xh(f,C.formatMonth(R),j,C.getTextColor({type:"headerMonth"}),U.x,U.y,U.width,U.height,Vb,id)),C.getIconDrawable("nextYear").draw(e.x,e.y,e.width,e.height,null,C),C.getIconDrawable("nextMonth").draw(u.x,u.y,u.width,u.height,null,C);var z=w.x,_=w.y,M=w.width/7;C.getWeekLabels().forEach(function(S){Xh(f,S,j,C.getTextColor({type:"weekTitle",text:S}),z,_,M,w.height,"center",id),z+=M});var jo=C.getMonthData(c,R),ql=jo.days;z=w.x,_+=30*i;for(var Ur=C._dayRects=[],k=0,On=ql.length;On>k;k++){var Je=ql[k],Te={type:"gridDate",date:Je.date,month:Je.month,currentMonth:jo.month,year:Je.year},T=C.getTextColor(Te,O,m,l,N),$=C.getGridBackgroundDrawable(Te,O,m,l,N);$&&$.draw(z,_,M,w.height,null,C),Xh(f,Je.date,j,T,z,_,M,w.height,"center",id),Ur.push({x:z,y:_,width:M,height:w.height,date:Je.date,month:Je.month,currentMonth:jo.month,year:Je.year}),0===(k+1)%7?(z=w.x,_+=30*i):z+=M}}if(10>B&&(B="0"+B),10>K&&(K="0"+K),10>y&&(y="0"+y),"datetime"===s&&!V){var ws=C.scaleRect(C._timeSelectorRect,q,L,W,i),Pk=B+":"+K+":"+y,Jk=C.getTimeAlign();Xh(f,Pk,j,C.getTextColor({type:"timeSelector"}),ws.x,ws.y,ws.width,ws.height,C.getTimeAlign(),id);var _n=Kd(j,Pk);f.beginPath(),"left"===Jk?f.rect(ws.x,ws.y+_n.height*i+4,_n.width,1):"right"===Jk?f.rect(ws.x+ws.width-_n.width,ws.y+_n.height*i+4,_n.width,1):f.rect(ws.x+(ws.width-_n.width)/2,ws.y+_n.height*i+4,_n.width,1),f.fillStyle=C.getTextColor({type:"timeSelector"}),f.fill()}if("timeList"===v){f.beginPath();var zi=C.getTimeLabels(),Ck=C.getContentDiv(),cj=C.$373;Xh(f,zi[0],j,C.getTextColor({type:"hoursTitle"}),10*W+q,10*i+L,82*W,30*i,"center",id),cj.sm().ss(cj.dm().getDataById(B)),cj.setX(10*W+q),cj.setY(40*i+L),cj.setWidth(82*W),cj.setHeight(214*i),Ck.appendChild(cj.getView());var Ve=C.$371;Xh(f,zi[1],j,C.getTextColor({type:"minutesTitle"}),94*W+q,10*i+L,82*W,30*i,"center",id),Ve.sm().ss(Ve.dm().getDataById(K)),Ve.setX(94*W+q),Ve.setY(40*i+L),Ve.setWidth(82*W),Ve.setHeight(214*i),Ck.appendChild(Ve.getView());var Vj=C.$372;Xh(f,zi[2],j,C.getTextColor({type:"secondsTitle"}),178*W+q,10*i+L,82*W,30*i,"center",id),Vj.sm().ss(Vj.dm().getDataById(y)),Vj.setX(178*W+q),Vj.setY(40*i+L),Vj.setWidth(82*W),Vj.setHeight(214*i),Ck.appendChild(Vj.getView())}else Rl(C.$373.getView()),Rl(C.$371.getView()),Rl(C.$372.getView())},getHoursList:function(){return this.$373},createHoursList:function(){var m=this,e=m.$373=new N.ListView,F=e.dm();e.getStyleParent=function(){return m},e.setStyle("hours-list"),e.sm().addSelectionChangeListener(function(){var X=e.sm().ld();if(X){var x=m._dateRangeType;if(x){var C=m.getTimeRange(),D=C[0],H=C[1];"start"===x?(D=new Date(D.getTime()),D.setHours(X.getId())):(H=new Date(H.getTime()),H.setHours(X.getId())),C=[D,H],m.setTimeRange(C)}else{var $=m.getValue()||new Date;$.getHours()!==X.getId()&&($=new Date($.getTime()),$.setHours(X.getId()),m.setValue($))}}});for(var X=0;24>X;X++){var b=new J.Data;b.setId(10>X?"0"+X:X),b.setName(10>X?"0"+X:X),F.add(b)}},getMinutesList:function(){return this.$371},createMinutesList:function(){var F=this,R=F.$371=new N.ListView,a=R.dm();R.getStyleParent=function(){return F},R.setStyle("minutes-list"),R.sm().addSelectionChangeListener(function(){var C=R.sm().ld();if(C){var f=F._dateRangeType;if(f){var G=F.getTimeRange(),m=G[0],x=G[1];"start"===f?(m=new Date(m.getTime()),m.setMinutes(C.getId())):(x=new Date(x.getTime()),x.setMinutes(C.getId())),G=[m,x],F.setTimeRange(G)}else{var J=F.getValue()||new Date;J.getMinutes()!==C.getId()&&(J=new Date(J.getTime()),J.setMinutes(C.getId()),F.setValue(J))}}});for(var t=0;60>t;t++){var s=new J.Data;s.setId(10>t?"0"+t:t),s.setName(10>t?"0"+t:t),a.add(s)}},getSecondsList:function(){return this.$372},createSecondsList:function(){var H=this,B=H.$372=new N.ListView,d=B.dm();B.getStyleParent=function(){return H},B.setStyle("seconds-list"),B.sm().addSelectionChangeListener(function(){var Q=B.sm().ld();if(Q){var e=H._dateRangeType;if(e){var C=H.getTimeRange(),L=C[0],P=C[1];"start"===e?(L=new Date(L.getTime()),L.setSeconds(Q.getId())):(P=new Date(P.getTime()),P.setSeconds(Q.getId())),C=[L,P],H.setTimeRange(C)}else{var c=H.getValue()||new Date;c.getSeconds()!==Q.getId()&&(c=new Date(c.getTime()),c.setSeconds(Q.getId()),H.setValue(c))}}});for(var D=0;60>D;D++){var j=new J.Data;j.setId(10>D?"0"+D:D),j.setName(10>D?"0"+D:D),d.add(j)}},getMonthData:function(A,x){var H=[],N=new Date;A==P&&(A=N.getFullYear()),x==P&&(x=N.getMonth()+1);for(var l=new Date(A,x-1,1),S=l.getDay(),h=new Date(A,x,0),X=h.getDate(),V=new Date(A,x-1,0),K=V.getDate(),Y=0;S>Y;Y++){var b=K-S+Y+1;H.push({year:V.getFullYear(),date:b,month:V.getMonth()+1})}for(var Y=0;X>Y;Y++){var b=Y+1;H.push({year:A,date:b,month:x})}for(var Q=H.length,M=new Date(A,x,1),Y=0;42-Q>Y;Y++){var b=Y+1;H.push({year:M.getFullYear(),date:b,month:M.getMonth()+1})}return{year:l.getFullYear(),month:l.getMonth()+1,days:H}}}),N.DateTimeDropDown=function(){},Mg("ht.ui.DateTimeDropDown",N.DropDownTemplate,{ms_ac:["buttonTexts"],setPropertyValue:function(d,j,Z){var y=this;if(0===d.indexOf("dateTimePane.")){if(Z){for(var G=y.getDropDownView(),f=G.getFirstView(),S=d.split("."),m=1;m<S.length-1;m++)f=f[ij(S[m])]();d=S[S.length-1];var X=f["_"+d];Pl(f,P,d,j),f.fp(d,X,j)}}else N.DateTimeDropDown.superClass.setPropertyValue.call(y,d,j,Z)},initDropDownView:function(t,b,R){var F,k=this,c=new N.SplitLayout,Q=t.isInstant(),j=new N.DateTimePane;if(k._master=t,!Q){F=new N.HBoxLayout;var S=new N.Button,Z=new N.Button,D=k.getButtonTexts();S.setStyle("button-obvious datetimedropdown-ok"),D?S.setText(D[0]):S.__text="确定",Z.setStyle("button-minor datetimedropdown-cancel"),D?Z.setText(D[1]):Z.__text="取消",F.__align=Vb,O.okFirst?(F.addView(S,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:0,marginRight:10,marginBottom:10}),F.addView(Z,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:0,marginRight:10,marginBottom:10})):(F.addView(Z,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:0,marginRight:10,marginBottom:10}),F.addView(S,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:0,marginRight:10,marginBottom:10})),S.addViewListener(function(x){"click"===x.kind&&k.stop()}),Z.addViewListener(function(L){"click"===L.kind&&k.cancel()})}return j.__border=null,j.__boxShadow=null,j.setStyle("datetimedropdown-datetimepane"),R!=P?(R=_.parseDate(R,t.getFormat()),0==R&&(R=new Date)):R=new Date,j.setValue(R),c.__background=O.popupBackground,c.__boxShadow=O.popupBoxShadow,c.setStyle("datetimedropdown"),c.setSplitterVisible(!1),c.setOrientation("v"),c.setPositionType("absoluteSecond"),c.__borderRadius=O.borderRadius,c.addView(j,{region:"first",width:"match_parent",height:"match_parent"}),F&&c.addView(F,{region:"second"}),j.on("d:dblclick",function(t){var d=j.areaHitTest(t);d=d&&d.type,("gridDate"===d||"gridMonth"===d||"gridYear"===d)&&k.stop()}),j.addPropertyChangeListener(function(J){"value"===J.property&&t.isInstant()&&k.fireValueChange(k.getDropDownValue())}),j.addViewListener(function(l){if("invalidatePreferredSize"===l.kind){var Q=c.getPreferredSize();k.setWidth(Q.width),k.setHeight(Q.height)}}),c},getDropDownValue:function(){var R=this,J=R._master,S=R.getDropDownView(),v=S.getFirstView().getValue();return v?_.formatDate(v,J.getFormat()):void 0}}),N.DateTimePicker=function(w){var o=this;N.DateTimePicker.superClass.constructor.call(o),o.set(w)},Mg("ht.ui.DateTimePicker",N.ComboBox,{ui_ac:["format"],__format:"YYYY-MM-DD HH:mm:ss",__icon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_activeDropDownIcon","fill"],_dropDownTemplate:"ht.ui.DateTimeDropDown",setValue:function(T){T instanceof Date&&(T=_.formatDate(T,this.getFormat())),N.DateTimePicker.superClass.setValue.call(this,T)},setFormDataValue:function(N){this.setValue(N)},getFormDataValue:function(){var X=this,f=X.getValue();return f}}),N.DateRangeDropDown=function(){},Mg("ht.ui.DateRangeDropDown",N.DropDownTemplate,{ms_ac:["buttonTexts","secondPaneVisible","shortcutVisible","shortcuts"],_secondPaneVisible:!0,_shortcutVisible:!0,_shortcuts:{"最近一周":function(){var Z=new Date;return Z.setDate(Z.getDate()-7),[Z,new Date]},"最近一月":function(){var k=new Date;return k.setDate(k.getDate()-30),[k,new Date]},"最近三月":function(){var P=new Date;return P.setDate(P.getDate()-90),[P,new Date]}},setPropertyValue:function(Z,Y,o){var M=this;if(0===Z.indexOf("dateRangePane.")){if(o){var h=M._dateRangePane1,O=M._dateRangePane2,n=Z.split(".");[h,O].forEach(function(O){for(var $=1;$<n.length-1;$++)O=O[ij(n[$])]();Z=n[n.length-1];var W=O["_"+Z];Pl(O,P,Z,Y),O.fp(Z,W,Y)})}}else N.DateRangeDropDown.superClass.setPropertyValue.call(M,Z,Y,o)},initShortcutList:function(s){var r=this,u=r.getShortcuts(),b=s.dm();if(s.setStyle("daterangedropdown-datetimepane daterangedropdown-shortcuts"),s.__padding=5,s.__preferredSize={width:140},s.__border=new N.border.IndividualLineBorder(0,1,0,0,O.borderColor),u)for(var o in u){var V=new J.Data;V.setName(o),V.a("getDate",u[o]),b.add(V)}s.sm().addSelectionChangeListener(function(){var b=s.sm().ld();if(b){var $=b.a("getDate"),Z=r._dateRangePane1,J=r._dateRangePane2,l=$(),E=[new Date(l[0].getTime()),new Date(l[1].getTime())],y=[new Date(l[0].getTime()),new Date(l[1].getTime())];J.setDisplayRange(l),Z.setDisplayRange(l),Z.setDateRange(y),J.setDateRange(y),Z.setTimeRange(E),J.setTimeRange(E)}})},getType:function(K){var d=K.getDropDownConfig()||[],Q=d&&d["dateRangePane.type"]||"datetime";return Q},initDropDownView:function(Y,e,z){var f,v=this,G=new N.SplitLayout,T=new J.ui.HBoxLayout,U=new N.HBoxLayout,s=new J.ui.HBoxLayout,m=new N.Button,b=new N.Button,q=v.getButtonTexts(),R=v.isSecondPaneVisible(),r=v.getType(Y),W=v.isShortcutVisible(),D=v._shortcutList=new N.ListView,g=v._dateRangePane1=new N.DateTimePane,C=v._dateRangePane2=new N.DateTimePane;v.initShortcutList(D),R||C.setVisible(!1),W||D.setVisible(!1),g._dateRangeType="start",C._dateRangeType="end",z&&(f=z.split(" ~ ")),v._master=Y,m.setStyle("button-obvious daterangedropdown-ok"),q?m.setText(q[0]):m.__text="确定",b.setStyle("button-minor daterangedropdown-cancel"),q?b.setText(q[1]):b.__text="取消",U.__align=Vb;var y="datetime"===r;if(y){var S=new J.ui.LinkButton;q?S.setText(q[2]):S.__text="选择时间",s.addView(S,{width:"wrap_content",height:"match_parent"})}U.addView(s,{width:"match_parent",height:"wrap_content",vAlign:"top",marginTop:10,marginLeft:10,marginBottom:10}),U.addView(b,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),U.addView(m,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),g.__border=P,C.__border=P,g.__boxShadow=P,C.__boxShadow=P,g.setStyle("daterangedropdown-datetimepane daterangedropdown-datetimepane1"),C.setStyle("daterangedropdown-datetimepane daterangedropdown-datetimepane2");var E,Z;if(f){var A=Y.getFormat();f[0]&&(E=_.parseDate(f[0],A)),f[1]&&(Z=_.parseDate(f[1],A))}var $=[E,Z];g.setDateRange($),C.setDateRange($);var l,F;E?(l=new Date(E.getTime()),l.setDate(1)):(l=new Date,l.setDate(1)),Z?(F=new Date(Z.getTime()),F.setDate(1),F.getFullYear()===l.getFullYear()&&F.getMonth()===l.getMonth()&&F.setMonth(l.getMonth()+1)):(F=new Date(l.getTime()),F.setMonth(l.getMonth()+1)),"month"===r&&F.getFullYear()===l.getFullYear()&&F.setFullYear(F.getFullYear()+1);var h=[l,F];g.setDisplayRange(h),C.setDisplayRange(h);var X,H;X=E?new Date(E.getTime()):new Date,H=Z?new Date(Z.getTime()):new Date(X.getTime());var u=[X,H];return g.setTimeRange(u),C.setTimeRange(u),G.__background=O.popupBackground,G.__boxShadow=O.popupBoxShadow,G.setStyle("daterangedropdown"),G.setSplitterVisible(!1),G.setOrientation("v"),G.setPositionType("absoluteSecond"),G.__borderRadius=O.borderRadius,T.addView(D,{width:"wrap_content",height:"match_parent"}),T.addView(g,{width:"match_parent",height:"match_parent"}),T.addView(C,{width:"match_parent",height:"match_parent"}),G.addView(T,{region:"first"}),G.addView(U,{region:"second"}),v.valueChangeHander(g,C),v.valueChangeHander(C,g,!0),m.on("click",function(){v.stop()
}),b.on("click",function(){v.cancel()}),y&&S.on("click",function(){"timeList"===g.getContentType()?(g.setContentType("dateGrid"),C.setContentType("dateGrid")):(g.setContentType("timeList"),C.setContentType("timeList"))}),G},valueChangeHander:function(m,P){var C=function(p){var r=p.source;if(!r.__changing){var Q,K=p.newValue,R=K[0],v=K[1],g=r.getType();if(Q="month"===g?R.getFullYear()>=v.getFullYear():_.formatDate(R,"YYYYMM")>=_.formatDate(v,"YYYYMM"))if("start"===r._dateRangeType){var U=new Date(v.getTime());"month"===g?U.setFullYear(R.getFullYear()+1):(U.setFullYear(R.getFullYear()),U.setMonth(R.getMonth()+1));var X=K.slice(0);X[1]=U,m.__changing=!0,m.setDisplayRange(X),m.__changing=!1,P.__changing=!0,P.setDisplayRange(X),P.__changing=!1}else{var y=new Date(R.getTime());"month"===g?y.setFullYear(v.getFullYear()-1):(y.setFullYear(v.getFullYear()),y.setMonth(v.getMonth()-1));var X=K.slice(0);X[0]=y,m.__changing=!0,m.setDisplayRange(X),m.__changing=!1,P.__changing=!0,P.setDisplayRange(X),P.__changing=!1}}};m.on("p:displayRange",C),m.on("p:dateRange",function(l){if(!l.source.__changingValue){var d=l.source,T=l.newValue;d===P?(m.__changingValue=!0,m.setDateRange(T),m.__changingValue=!1):(P.__changingValue=!0,P.setDateRange(T),P.__changingValue=!1)}}),m.on("p:timeRange",function(k){if(!k.source.__changingTime){var I=k.source,U=k.newValue;I===P?(m.__changingTime=!0,m.setTimeRange(U),m.__changingTime=!1):(P.__changingTime=!0,P.setTimeRange(U),P.__changingTime=!1)}})},getDropDownValue:function(){var L=this,s=L._master,X=L._dateRangePane1,S=L.getType(s),P=X.getDateRange()||[],e=X.getTimeRange(),h=P[0],F=P[1],V=e[0],B=e[1],J="";return"time"===S?V&&(J+=_.formatDate(V,s.getFormat()),B&&(J+=" ~ "+_.formatDate(B,s.getFormat()))):h&&(h=new Date(h.getTime()),V&&(h.setHours(V.getHours()),h.setMinutes(V.getMinutes()),h.setSeconds(V.getSeconds())),J+=_.formatDate(h,s.getFormat()),F&&(F=new Date(F.getTime()),B&&(F.setHours(B.getHours()),F.setMinutes(B.getMinutes()),F.setSeconds(B.getSeconds())),J+=" ~ "+_.formatDate(F,s.getFormat()))),J}}),N.DateRangePicker=function(o){var n=this;N.DateRangePicker.superClass.constructor.call(n),n.set(o)},Mg("ht.ui.DateRangePicker",N.ComboBox,{ui_ac:["format"],__format:"YYYY-MM-DD HH:mm:ss",__icon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_datetimepicker_activeDropDownIcon","fill"],_dropDownTemplate:"ht.ui.DateRangeDropDown",setValue:function(f){f instanceof Date?f=_.formatDate(f,this.getFormat()):Array.isArray(f)&&(f=f[0]instanceof Date?_.formatDate(f[0],this.getFormat())+" ~ "+_.formatDate(f[1],this.getFormat()):f[0]+"~ "+f[1]),N.DateRangePicker.superClass.setValue.call(this,f)},getDateValue:function(){var o=this,T=o.getValue();if(!T)return[];var N=T.split("~"),a=[];return N[0]&&(N[0]=N[0].trim(),a.push(_.parseDate(N[0],o.getFormat()))),N[1]&&(N[1]=N[1].trim(),a.push(_.parseDate(N[1],o.getFormat()))),a},setFormDataValue:function(b){this.setValue(b)},getFormDataValue:function(){var L=this,f=L.getValue();return f}}),N.CascadeDropDown=function(){},Mg("ht.ui.CascadeDropDown",N.DropDownTemplate,{initDropDownView:function(B,C,j){var k=this,b=new N.TabLayout,V=C.childrenTitle;b.setStyle("cascadedropdown"),b.__background=O.popupBackground,b.__boxShadow=O.popupBoxShadow,b.__borderRadius=O.borderRadius,k._master=B,k._tabLayout=b;var e=k._createTab(C);return b.addView(e,{title:V}),b.__preferredSize={width:200,height:150},b.setActiveView(e),j&&k._setDefaultValue(j,b,0),b},_setDefaultValue:function(L,K,b){var v=this,s=b,W=v._master,Q=L[b],A=W.getValueField(),C=W.getDisplayField(),G=K._children.get(b);if(G){for(var l=G._children,I=0,c=l.size();c>I;I++){var n=l.get(I),B=n._data;if(A){if(B[A]===Q[A]){n.setSelected(!0),b++;break}}else if(B.id!=P&&B.id===Q.id||B.value!=P&&B.value===Q.value||B[C]!=P&&B[C]===Q[C]){n.setSelected(!0),b++;break}}b!==s&&v._setDefaultValue(L,K,b)}},_clearChildTabs:function(l,$){for(var Z=l.getChildren(),i=Z.indexOf($);Z.size()-1>i;)l.removeViewAt(Z.size()-1)},_createTab:function(s){var y,V=this,K=new N.Radios,T=V._master,J=T.getIconField(),i=T.getDisplayField(),d=new N.FlowLayout,F=[];d._radios=K;for(var Z=0,R=s.children.length;R>Z;Z++){var H=s.children[Z],o=new N.ToggleButton;o.__background=P,o.__hoverBackground=P,o.__activeBackground=P,o.__selectBackground=P,o.__selectHoverBackground=P,o.__selectActiveBackground=P,o.__textColor=O.textColor,o.__hoverTextColor=O.baseColor,o.__activeTextColor=O.baseColor,o.__selectTextColor=O.baseColor,o.__selectHoverTextColor=O.baseColor,o.__selectActiveTextColor=O.baseColor,o.__layoutParams={marginLeft:10,marginTop:5},o.__align=sr,o.__padding=[2,5,2,5],o.__preferredSize=P,o.__minSize=P,o.setIcon(H[J]),o.setSelectIcon(H[J]),o.setText(H[i]),o._data=H,o.setRadios(K);var A=o.figurePreferredSize();y==P?y=A:y.width<A.width&&(y=A),F.push(o)}for(var Z=0,R=F.length;R>Z;Z++){var o=F[Z];o.__preferredSize=y,d.addView(o)}return K.on("p:selectedButton",function(s){var l=V._tabLayout,h=V._master.getLoader(),J=s.newValue,x=J._data;if(V._clearChildTabs(l,d),x.children&&x.children.length>0){var k=V._createTab(x);l.addView(k,{title:x.childrenTitle}),l.setActiveView(k)}else h&&!h.isLoaded(x)?h.load(x,function(E){x.children=E;var y=V._createTab(x);l.addView(y,{title:x.childrenTitle}),l.setActiveView(y)}):V.stop()}),d},getDropDownValue:function(){for(var y=this,T=y.getDropDownView(),S=T._children,l=[],m=0,s=S.size();s>m;m++){var N=S.get(m),a=N._radios,x=a.getSelectedButton();x?l.push(x._data):l.push(null)}return l}}),N.CascadeComboBox=function(y){var U=this;N.CascadeComboBox.superClass.constructor.call(U),U.set(y)},Mg("ht.ui.CascadeComboBox",N.ComboBox,{ui_ac:["displaySeparator"],ms_ac:["loader"],__readOnly:!0,_dropDownTemplate:"ht.ui.CascadeDropDown",__displayField:"label",__displaySeparator:" / ",getValueText:function(e){var c,I=this,B=I.getDisplayField();if(e)if(B){c=[];for(var U=0,p=e.length;p>U;U++)c.push(e[U][B])}else c=e;return c?c.join(I.getDisplaySeparator()):void 0},setValue:function(X,q){var g,n=this,j=n.getValueField(),c=n.getDatas();if(X&&c&&j!=P)for(var v=c.children,B=0,k=X.length;k>B;B++)if("object"!=typeof X[B])for(var J=0;J<v.length;J++){var y=v[J];if(y[j]===X[B]){g||(g=[]),g.push(y),v=y.children;break}}else g||(g=[]),g.push(X[B]);else g=X;N.ComboBox.superClass.setValue.call(n,g,q),n.$227u=!1},setFormDataValue:function(w){var f=this,Y=f.getDatas();if(Y&&w){for(var s,X=f.getValueField(),L=Y.children,p=0,E=w.length;E>p;p++)for(var j=0;j<L.length;j++){var V=L[j];if(V[X]===w[p]||V.hasOwnProperty("id")&&V.id==w[p]||V.hasOwnProperty("value")&&V.value==w[p]){s||(s=[]),s.push(V),L=V.children;break}}f.setValue(s)}else f.setValue(w)},getFormDataValue:function(){var X,Q=this,t=Q.getValueObject();if(t!=P)for(var I=Q.getValueField(),X=[],g=0,o=t.length;o>g;g++){var S=t[g];I!=P?X.push(S[I]):(S.hasOwnProperty("id")&&X.push(S.id),S.hasOwnProperty("value")&&X.push(S.value))}else X=t;return X},getValue:function(){var e,u=this,V=u.getValueField(),Y=u.getValueObject();if(Y)if(V!=P){e=[];for(var n=0,s=Y.length;s>n;n++)e.push(Y[n][V])}else e=Y;return e},getSerializableProperties:function(){var t=N.CascadeComboBox.superClass.getSerializableProperties.call(this);return pq(t,{displaySeparator:!0,loader:!0})}}),N.ColorDropDown=function(){},Mg("ht.ui.ColorDropDown",N.DropDownTemplate,{ms_ac:["buttonTexts"],setPropertyValue:function(G,c,o){var R=this;if(0===G.indexOf("colorPane.")){if(o){for(var Z=R.getDropDownView(),H=Z.getFirstView(),K=G.split("."),t=1;t<K.length-1;t++)H=H[ij(K[t])]();G=K[K.length-1];var e=H["_"+G];Pl(H,P,G,c),H.fp(G,e,c)}}else N.ColorDropDown.superClass.setPropertyValue.call(R,G,c,o)},initDropDownView:function(J,G,E){var Q,o=this,k=new N.SplitLayout,p=J.isInstant(),j=new N.ColorPane;if(o._master=J,!p){Q=new N.HBoxLayout;var e=new N.Button,H=new N.Button,M=o.getButtonTexts();e.setStyle("button-obvious colordropdown-ok"),M?e.setText(M[0]):e.__text="确定",H.setStyle("button-minor colordropdown-cancel"),M?H.setText(M[1]):H.__text="取消",Q.__align=Vb,O.okFirst?(Q.addView(e,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),Q.addView(H,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10})):(Q.addView(H,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10}),Q.addView(e,{width:"wrap_content",height:"wrap_content",vAlign:"top",marginTop:10,marginRight:10,marginBottom:10})),e.addViewListener(function(F){"click"===F.kind&&o.stop()}),H.addViewListener(function(S){"click"===S.kind&&o.cancel()})}return j.__border=null,j.__boxShadow=null,j.setStyle("colordropdown-colorpane"),j.setValue(E),k.__background=O.popupBackground,k.__boxShadow=O.popupBoxShadow,k.setStyle("colordropdown"),k.setSplitterVisible(!1),k.setOrientation("v"),k.setPositionType("absoluteFirst"),k.__borderRadius=O.borderRadius,k.addView(j,{region:"first"}),Q&&k.addView(Q,{region:"second"}),j.addPropertyChangeListener(function(M){"value"===M.property&&J.isInstant()&&o.fireValueChange(o.getDropDownValue())}),tc||j.getView().addEventListener("dblclick",function(Z){(j.hueHitTest(Z)||j.colorsHitTest(Z)||j.paletteColorHitTest(Z))&&Sn(function(){o.stop()})}),j.getView().addEventListener("keydown",function(t){t.target instanceof HTMLInputElement&&Tn(t)&&Sn(function(){o.stop()})}),j.addViewListener(function(j){if("invalidatePreferredSize"===j.kind){var G=k.getPreferredSize();o.setWidth(G.width),o.setHeight(G.height)}}),k},beforeClose:function(){var x=this,u=x.getDropDownView();u.closeChildrenPopup()},getDropDownValue:function(){var d=this,o=d.getDropDownView();return o.getFirstView().getValue()}}),N.ColorPicker=function(Y){var c=this;N.ColorPicker.superClass.constructor.call(c),c.set(Y)},Mg("ht.ui.ColorPicker",N.ComboBox,{ui_ac:["drawable:previewBackground","valueMode"],__readOnly:!0,_dropDownTemplate:"ht.ui.ColorDropDown",__previewBackground:"colorpicker_previewbackground",__valueMode:"color",requestFocus:function(){this.$239u.focus()},setFormDataValue:function(J){this.setValue(J)},getFormDataValue:function(){var z=this,_=z.getValue();return _},onPropertyChanged:function(p){N.ColorPicker.superClass.onPropertyChanged.call(this,p),("previewBackground"===p.property||"previewBackgroundDrawable"===p.property)&&(this.$54u=P)},drawBackground:function(J,H,w,B,g,j){var F=this,D=F.getValueMode();if("text"===D)N.ColorPicker.superClass.drawBackground.call(F,J,H,w,B,g,j);else{var y=F.getRootContext(),i=F.getValue();H=F.getContentLeft()-F.getPaddingLeft(),w=F.getContentTop()-F.getPaddingTop(),B=F.getWidth()-F.getBorderLeft()-F.getBorderRight(),g=F.getHeight()-F.getBorderTop()-F.getBorderBottom();var F=this,R=F.getPreviewBackground(),p=F.$54u;if(!p&&R!=P){p=F.$54u=Se(),wr(p,10,10,1);var W=Ll(p);_f(W,Xe(R),0,0,10,10)}if(p){y.beginPath();var u=y.createPattern(p,"repeat");y.rect(H,w,B,g),y.fillStyle=u,y.fill()}i&&(y.beginPath(),y.rect(H,w,B,g),y.fillStyle=i,y.fill())}},validateImpl:function(P,K,v,h){var L=this;N.ColorPicker.superClass.validateImpl.call(L,P,K,v,h);var Z=L.getValueMode();this._input.style.visibility="color"===Z?"hidden":"visible"},getSerializableProperties:function(){var c=N.ColorPicker.superClass.getSerializableProperties.call(this);return pq(c,{previewBackground:!0,previewBackgroundDrawable:!0,valueMode:!0})}}),N.PropertyView=function(j){var B=this;N.PropertyView.superClass.constructor.call(B),B.$271u=new m,B.$81u=new m,B.$78u={},B.$79u={},B.setPropertyModel(new a),j instanceof a?B.dm(j):B.set(j),B._dataModel||B.dm(new a)},Mg("ht.ui.PropertyView",Aq,{ui_ac:[S,b,"hoverLabelColor",M,Rd,"categorizable",vk,"columnPosition",pg,Gi,"drawable:expandIcon","drawable:collapseIcon","drawable:selectBackground","drawable:indentBackground","iconWidth","iconHeight","drawable:hoverBackground","pannable","nameAlign","valueAlign","drawable:checkIcon","drawable:uncheckIcon","rowHeightFunc","cellPaddingLeft","cellPaddingRight",d,Ld,Hf,Rj,Tl,"preferredSizeRowCountLimit","dataModelEditable","editorValidator"],ms_ac:["hoverProperty","selectProperty"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_dm:1,ms_sm:1,_49o:1,ui_txy:1,$148u:1,$149u:1,$118u:l,$188u:0,$82u:0,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__rowLineColor:O.lineColor,__autoMakeVisible:!0,__labelFont:O.font,__editable:!0,__batchEditable:!0,__categorizable:!0,__indent:26,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__rowLineVisible:!0,__columnPosition:.5,__columnLineVisible:!0,__columnLineColor:O.lineColor,__pannable:!0,__cellPaddingLeft:16,__cellPaddingRight:16,__nameAlign:sr,__valueAlign:sr,__labelColor:O.textColor,__hoverBackground:O.hoverBackground,__selectBackground:O.rowSelectBackground,__indentBackground:O.headerBackground,__dataModelEditable:!1,getInteractorClasses:function(){return[N.ScrollInteractor,Rc]},closePopup:function(){N.PropertyView.superClass.closePopup.call(this),this.endEdit()},initView:function(E){var K=this;N.PropertyView.superClass.initView.call(K,E);var U=K.$261u=Zh();U.setAttribute(q,"ht-renderer"),K.$198u.appendChild(U)},isSelfViewEvent:function(x){var H=this,g=N.PropertyView.superClass.isSelfViewEvent.call(H,x);if(!g){var F=Ig(x);H.$261u.contains(F)&&(g=!0)}return g},figurePreferredSize:function(){var n,x,o=this,W=o.getRowHeightFunc();o.$116u&&(o.validateModel(),o.$116u=P),n=o.$271u;var R=0,m=h(o.getPreferredSizeRowCountLimit(),n.size());if(W)for(var I=0;m>I;I++){var G=n.get(I);R+=W.call(o,Gl(G)||G instanceof N.Property?G:G.property)}else R=m*o.getRowHeight();return x={width:200,height:R},x.width+=o.getBorderLeft()+o.getBorderRight()+o.getPaddingLeft()+o.getPaddingRight(),x.height+=o.getBorderTop()+o.getBorderBottom()+o.getPaddingTop()+o.getPaddingBottom(),x.width=w(x.width),x.height=w(x.height),x},getRows:function(){return this.$271u},setColumnPosition:function(v){0>v&&(v=0),v>1&&(v=1),this.setPropertyValue("columnPosition",v)},getPropertyName:function($){return $.toLabel()},getCurrentLabelColor:function(e){if(e){var z=this,n=e.getColor(),p=n==P?z.getLabelColor(e):n,Q=z.getHoverLabelColor(e),j=z.getSelectLabelColor(e);return e?e===this.getSelectProperty()?j||p:e===this.getHoverProperty()?Q||p:p:p}},getPropertyFont:function(o){return this.getLabelFont(o)},getPropertyColor:function(b){if(b){var A=this,y=b.getColor(),q=y==P?A.getLabelColor(b):y,h=A.getHoverLabelColor(b),u=A.getSelectLabelColor(b);return b?b===this.getSelectProperty()?u||q:b===this.getHoverProperty()?h||q:q:q}},getCategoryFont:function(a){return this.getLabelFont(a)},getCategoryColor:function(c){return this.getLabelColor(c)},adjustTranslateX:function(){return 0},adjustTranslateY:function(h){var i=this.getContentHeight()-this.$188u;return i>h&&(h=i),h>0?0:X(h)},toggleHitTest:function(H){var K=this,_=K.getRowIndexAt(H);if(_>=0){var I,t=0,Z=K.getRowHeightFunc(),R=K.$271u;if(Z){var b=R.get(_);I=Z.call(K,Gl(b)||b instanceof N.Property?b:b.property);for(var G=0;_>G;G++)b=R.get(G),t+=Z.call(K,Gl(b)||b instanceof N.Property?b:b.property)}else I=K.getRowHeight(),t=I*_;var c=H,Y=R.get(_),d=K.getIndent();if(Gl(Y)){c instanceof Event&&(c=K.lp(H));var F=c.x,A=c.y;if(F>=0&&d>=F&&A>=t&&t+I>=A)return!0}}},resizeHitTest:function(F){var K=this,q=F;return q instanceof Event&&(q=K.lp(F)),I(q.x-K.$82u)<=(tc?8:3)},isExpanded:function(l){if(!l)return!0;var Q=this.$78u[l];return Q?Q.isExpanded:!(this.$79u[l]===!1)},toggle:function(K){var p=this;p.isExpanded(K)?p.collapse(K):p.expand(K)},expandAll:function(){this.validate();for(var r in this.$78u)this.expand(r)},expand:function(N){if(N&&N!==wm){var O=this,C=O.$78u[N];C&&!C.isExpanded&&(C.isExpanded=!0,O.onExpanded(N),O.ivm())}},onExpanded:function(){},collapseAll:function(){this.validate();for(var I in this.$78u)this.collapse(I)},collapse:function(M){if(M&&M!==wm){var q=this,d=q.$78u[M];d&&d.isExpanded&&(d.isExpanded=!1,q.onCollapsed(M),q.ivm())}},onCollapsed:function(){},getCategoryName:function(w){if(!this.isCategorizable())return wm;var Z=w.getCategoryName();return Z?Z:wm},getPropertyModel:function(){return this.$268u},setPropertyModel:function(u){var f=this,_=f.ivm,m=f.$268u;u!==m&&(m&&(m.umm(f.ivm,f),m.umd(f.ivm,f),m.umh(f.ivm,f)),f.$268u=u,u.mm(_,f),u.md(_,f),u.mh(_,f),f.fp("propertyModel",m,u))},setDataModel:function(D){var z=this,i=z._dataModel;i!==D&&(i&&(i.umd(z.$326u,z),D.removePropertyChangeListener(z.$326u,z),z._selectionModel||i.sm().ums(z.ivm,z)),z._dataModel=D,D.md(z.$326u,z),D.addPropertyChangeListener(z.$326u,z),z._selectionModel?z._selectionModel._21I(D):D.sm().ms(z.ivm,z),z.fp(Nh,i,D))},isVisible:function(p){if(p){var A=this.getVisibleFunc();return A?A(p):!0}return this.getPropertyValue(pd)},onPropertyChanged:function(s){var n=this,S=s.property;N.PropertyView.superClass.onPropertyChanged.call(n,s),"translateY"===S&&n.closePopup(),Mi[S]?n.ivm():n.iv()},getCurrentData:function(){return this.$80u},$119u:function(){this.$80u=this.sm().ld(),this.$80u==P&&this.isDataModelEditable()&&(this.$80u=this.getDataModel())},getRawProperties:function(){return this.$80u?this.$268u._roots:new m},$326u:function(A){this.$80u===A.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){var o=this;o.$116u||(o.checkPreferredSize("ivm"),o.checkMinSize("ivm"),o.checkMaxSize("ivm"),o.setSelectProperty(P),o.setHoverProperty(P),o.$116u=1,o.fireViewEvent("invalidateModel"),o.iv())},validateModel:function(){var t=this,k=t.$271u,V=t.$81u,s={},X=new m,y=t.$80u;t.$119u(),y!==t.$80u&&t.$270u&&t.$270u.stopEditing(),k.clear(),V.clear(),t.getRawProperties().each(function(n){if(t.isVisible(n)){X.add(n);var K=t.getCategoryName(n);s[K]||(V.add(K,K===wm?0:x),s[K]={isExpanded:t.isExpanded(K),properties:new m})}});var z=t.getSortFunc();z&&X.sort(z);for(var R in t.$78u)t.$79u[R]=t.isExpanded(R);t.$78u=s,V.each(function(M){M!==wm&&k.add(M);var $=s[M];$.isExpanded&&X.each(function(N){t.getCategoryName(N)===M&&($.properties.add(N),k.add({property:N,data:t.$80u}))},t)})},layoutEditor:function(t,P,n,W,b){t.setX(P),t.setY(n),t.setWidth(W),t.setHeight(b)},$228u:_.createUIEditor,getEditorViewProperties:function(I){return I.s("editorViewProperties")},initEditorView:function(f,y,W){var E=this,S=E.getValue(f,y),X=W.$230u=W.initEditorView(E,f,S,y);X.getStyleParent=function(){return E};var J=E.getEditorViewProperties(y);if(J)for(var i in J)X[$j(i)](J[i]);return X.setStyle&&X.setStyle(W.__style),X},beginEdit:function(C,j,B){if(!this.$270u){var Q,h=this,w=h.$271u,s=w.size(),r=h.getRowHeightFunc(),u=0;if(!(B instanceof N.editor.Editor)){if(B||(B=h.getEditorClassAt(j,C)),Gl(B)&&(B=_.getClass(B)),!B)return;var A=B;B=new A}j instanceof N.Property||(j=h.getPropertyAt(e));var X=h.$230u=h.initEditorView(C,j,B);if(h.$270u=B,h.$231u=C,h.$269u=j,r){Q=r.call(h,Gl(j)||j instanceof N.Property?j:j.property);for(var K=0;s>K;K++){var f=w.get(K);if(Gl(f))u+=r.call(h,f);else{if(f.property===j)break;u+=r.call(h,f.property)}}}else Q=h.getRowHeight(),u=Q*h.getRowIndex(j);var y=h.$82u,W=y+1,c=h.getContentWidth()-y-1,Z=Q;h.layoutEditor(X,W,u+h.ty(),c,Z),h.$67u||(h.$67u=h.$318u.bind(this)),h.$68u||(h.$68u=h.$213u.bind(this)),B.addValueChangeListener(h.$67u),B.addEditorListener(h.$68u),h.$198u.appendChild(X.getView()),X.iv(!0),B.shouldSelect()&&X.requestFocus(),B.afterLayout(X),h.fireViewEvent({kind:"beginEdit",data:C,property:j,editor:B,editorView:X}),h.iv()}},setDataValue:function(J,L,C){var t=this;if(C.setValue)return C.setValue(L,C,J,t);var q=Fq(L,C.getAccessType(),C.getName());return Pl(L,C.getAccessType(),C.getName(),J),q!==J?!0:void 0},$318u:function(k){var q,U=this,e=U.getEditorValidator(),h=U.$231u,T=U.$269u,d=k.value;if(e){var J=Fq(h,T.getAccessType(),T.getName());q=e.call(U,J,d,h,T,U.$270u,U.$230u)}else q=!0;q&&U.setDataValue(d,h,T)},$163u:function(){var u=this;u.$270u=u.$230u=u.$231u=u.$269u=P},isEditing:function(H,Q){var u=this;return H||Q?u.$231u===H&&u.$269u===Q?!0:void 0:!!u.$270u},getEditor:function(){return this.$270u},endEdit:function(B){var D=this,w=D.$270u;if(w){var Q=D.$231u,N=D.$269u,I=w.getEditorValue();if(B){var A=D.getEditorValidator();if(A){var z=Fq(Q,N.getAccessType(),N.getName()),j=A.call(D,z,I,Q,N,w,D.$230u,!0);j===!0?D.endEditImpl(I,!0,Q,N):"end"===j&&D.endEditImpl(I,!1,Q,N)}else D.endEditImpl(I,!0,Q,N)}else D.endEditImpl(I,!1,Q,N)}},endEditImpl:function(k,l,g,R){var r=this,j=r.$270u,I=r.$230u;if(j){var e;l&&(e=r.setDataValue(k,g,R)),r.$163u(),j.removeValueChangeListener(r.$67u),j.removeEditorListener(r.$68u),j.beforeRemove(I),I.closePopup(),I.setErrorMessage(),Rl(I.getView()),r.iv(),r.fireViewEvent({kind:"endEdit",valueChanged:e}),r.requestFocus()}},$213u:function(n){var t=this,c=t.$270u;if(c){var e=!1;"stop"===n.kind&&(e=!0),t.endEdit(e)}},getEditorClassAt:function(g,k){var n=this,G=g instanceof N.Property?g:n.getPropertyAt(g);if(G){var O=G.getEditorClass(k);return O}},getToggleIconDrawable:function(O){var y=this;return y.isExpanded(O)?y.getExpandIconDrawable():y.getCollapseIconDrawable()},getPropertyBackgroundDrawable:function(U){var x=this;return U===x.getSelectProperty()?x.getSelectBackgroundDrawable():U===x.getHoverProperty()?x.getHoverBackgroundDrawable():void 0},processValidateImpl:function(){var I=this;I.$116u&&(I.validateModel(),delete I.$116u),N.PropertyView.superClass.processValidateImpl.call(I)},validateImpl:function(L,k,m,R){var u=this;u.$340u();var q,s,z,x=u.getRowHeightFunc(),V=-u.ty(),d=u.getIndent(),D=u.getIconWidth(),i=u.getIconHeight(),W=m-d,J=u.$271u,n=J.size(),a=u.$82u=d+W*u.getColumnPosition(),_=0;if(x)for(var K=0;n>K;K++){var E=J.get(K);_+=x.call(u,Gl(E)||E instanceof N.Property?E:E.property)}else _=n*u.getRowHeight();var B=u.$118u={x:0,y:V,width:m,height:R};if(u.$188u=_,x){for(var t=0,K=0;n>K;K++){var E=J.get(K);if(t+=x.call(u,Gl(E)||E instanceof N.Property?E:E.property),t>=B.y){s=K;break}}s==P&&(s=0)}else s=$(B.y/u.getRowHeight());if(u.$70u=s,x){t=0;for(var K=0;n>K;K++){var E=J.get(K);if(t+=x.call(u,Gl(E)||E instanceof N.Property?E:E.property),t>=B.y+B.height){z=K+1;break}}z==P&&(z=n)}else z=w((B.y+B.height)/u.getRowHeight());u.$69u=z,u.$70u<0&&(u.$70u=0),u.$69u>n&&(u.$69u=n);var h=u.getRootContext(),S=u.getIndentBackgroundDrawable();h.save(),h.beginPath(),h.rect(L,k,m,R),h.clip(),h.translate(L,k),h.translate(0,-V),u._93db(h),S&&S.draw(0,V,d,R,P,u);for(var K=u.$70u;K<u.$69u;K++){var l=J.get(K),F=0;if(x){q=x.call(u,Gl(l)||l instanceof N.Property?l:l.property);for(var C=0;K>C;C++){var v=J.get(C);F+=x.call(u,Gl(v)||v instanceof N.Property?v:v.property)}}else q=u.getRowHeight(),F=q*K;if(Gl(l)){S&&S.draw(d,F,W,q,P,u);var o=u.getToggleIconDrawable(l);o&&o.draw((d-D)/2,F+(q-i)/2,D,i,P,u),h.save(),h.beginPath(),h.rect(d,F,W,q),h.clip(),u.drawCategoryName(h,l,K,d,F,W,q),h.restore()}else{var A=l.property,p=u.getCellPaddingLeft(A),G=u.getCellPaddingRight(A),e=l.data,Y=A.getIcon(),H=u.getPropertyBackgroundDrawable(A);Y&&Hl(h,Xe(Y),np,(d-D)/2,F+(q-i)/2,D,i),H&&H.draw(d,F,W,q,P,u),h.save(),h.beginPath();var Q=d+p,U=a-d-p-G;if(h.rect(Q,F,U,q),h.clip(),u.drawPropertyName(h,A,K,Q,F,U,q),h.restore(),!u.isEditing(e,A)){var g=a+1+p,Z=m-a-1-p-G;h.save(),h.beginPath(),h.rect(g,F,Z,q),h.clip(),u.addElement(u.drawPropertyValue(h,A,u.getValue(e,A),K,g,F,Z,q,e),A.getId(),0,g,F,Z,q),h.restore()}}u.isRowLineVisible()&&Wg(h,d,F+q-1,W,1,u.getRowLineColor())}u.isColumnLineVisible()&&(Wg(h,a,0,1,_,u.getColumnLineColor()),Wg(h,m-1,0,1,_)),u._92db(h),h.restore(),u.ty(u.ty())},getStartRowIndex:function(){return this.$70u},getEndRowIndex:function(){return this.$69u},getValueAlign:function(N){var B,I=this;return N&&(B=N.getAlign()),B==P&&(B=I.getPropertyValue("valueAlign")),B},getCellPaddingLeft:function(u){var a;return u&&(a=u.getPaddingLeft()),a==P&&(a=this.getPropertyValue("cellPaddingLeft")),a},getCellPaddingRight:function(t){var R;return t&&(R=t.getPaddingRight()),R==P&&(R=this.getPropertyValue("cellPaddingRight")),R},drawCategoryName:function(z,j,J,S,l,Q,E){var R=this,g=R.getCellPaddingLeft(),Z=R.getCellPaddingRight();S+=g,Q-=g+Z,Xh(z,j,R.getCategoryFont(j),R.getCategoryColor(j),S,l,Q,E)},drawPropertyName:function(i,S,I,m,H,z,A){var F=this,y=F.getNameAlign(S);i.save(),i.beginPath(),i.rect(m,H,0>z?0:z,A),i.clip(),S.drawPropertyName?S.drawPropertyName(i,S,I,m,H,z,A,F):Xh(i,F.getPropertyName(S),F.getPropertyFont(S,I),F.getPropertyColor(S,I),m,H,z,A,y),i.restore()},drawPropertyValue:function(g,v,M,j,N,m,l,K,_){var Q=this;if(Q.getValueAlign(v),g.save(),g.beginPath(),g.rect(N,m,0>l?0:l,K),g.clip(),v.drawPropertyValue){var Y=v.drawPropertyValue(g,v,M,j,N,m,l,K,_,Q);return g.restore(),Y}bd(g,M,v,Q.getLabelFont(v,M,j),Q.getCurrentLabelColor(v,M,j),N,m,l,K,_,Q),g.restore()},isPropertyEditable:function(M,X){var W=this,n=X.isEditable()&&W.isEditable();if(X=X==P?W.getPropertyAt(M):X,n){var o,B=W.getRowHeightFunc(),D=W.$271u,J=D.size(),f=M,b=W.$82u,K=b+1,z=0,Q=W.getContentWidth()-b-1;if(B){o=B.call(W,Gl(X)||X instanceof N.Property?X:X.property);for(var q=0;J>q;q++){var S=D.get(q);if(S instanceof N.Property?S:S.property===X)break;z+=B.call(W,Gl(S)||S instanceof N.Property?S:S.property)}}else o=W.getRowHeight(),z=W.getRowIndex(X)*o;var V={x:K,y:z,width:Q,height:o};if(f instanceof Event&&(f=W.lp(M)),be(V,f))return!0}},setProperties:function(E){this.$268u.clear(),this.addProperties(E)},addProperties:function(B){if(B){var R=this.$268u;B.forEach(function(L){if(!(L instanceof jl)){var P=Bi(L.className);L=Hm(P?P:jl,L)}R.add(L)})}},getRowIndexAt:function(K){if(this.isContentEvent(K)){Ig(K)&&(K=this.lp(K));var G=this,r=G.$271u,c=r.size(),q=G.getRowHeightFunc(),L=-1;if(q)for(var D=0,t=0;c>t;t++){var j=r.get(t);if(D+=q.call(G,Gl(j)||j instanceof N.Property?j:j.property),D>K.y){L=t;break}}else L=$(K.y/G.getRowHeight());return L>=0&&c>L?L:-1}},getRowIndex:function(U){for(var e=this,_=e.$271u,b=0;b<_.size();b++){var t=_.get(b);if(t.property===U)return b}},getPropertyAt:function(I){var Q=this,s=Q.getRowIndexAt(I);return s>=0?Q.$271u.get(s).property:P},getToolTip:function(b){var $=this,Q=$.getPropertyAt(b),q=$.$80u;return Q&&q?Q.getToolTip(q,$.$82u<$.lp(b).x,$):P},getSerializableProperties:function(){var H=N.PropertyView.superClass.getSerializableProperties.call(this);return pq(H,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,editable:1,categorizable:1,indent:1,columnPosition:1,sortFunc:1,visibleFunc:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,selectBackground:1,selectBackgroundDrawable:1,indentBackground:1,indentBackgroundDrawable:1,iconWidth:1,iconHeight:1,pannable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,rowHeightFunc:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,dataModel:1,propertyModel:1,selectionModelShared:1,selectionModel:1,selectProperty:1,preferredSizeRowCountLimit:1,cellPaddingLeft:1,cellPaddingRight:1,nameAlign:1,valueAlign:1,dataModelEditable:1,editorValidator:1})},serializeProperty:function(M,O,x){var B=this;return"selectProperty"===O?{__i:M.getId()}:x.serializeProperty(M,O,B)},deserializeProperty:function(c,e,Z){var F=this;if("selectProperty"===e){var M=F.getPropertyModel(),b=M.$272u;return b[c.__i]}return Z.deserializeProperty(c,e,F)}});var Rc=function(Y){this.pv=Y};Mg(Rc,j,{ms_listener:1,getView:function(){return this.pv.$239u},clear:function(){var m=this;m.state=m.$44u=m.$46u=m.p=P,m.pv.setCursor("")},handle_mousedown:function(i){this.handle_touchstart(i)},handle_touchstart:function(A){var n=this,S=n.pv;if(delete n.$31u,S.isSelfViewEvent(A)){var I=S.$270u;if(I&&I.stopEditing(),!A.$146u){S.requestFocus(),S.$261u.contains(Ig(A))||fm(A);var K=S.getCurrentData(),L=S.getPropertyAt(A);if(L){var U=S.isPropertyEditable(A,L);if(L.getValueType()===c)n.$31u=$q(A);else if(U){var E=S.getEditorClassAt(L,K);E&&Sn(function(){var q=S.$228u(E);q&&q.isEditable(A)&&(S.beginEdit(K,L,q),n.clear())})}}S.$270u||(gp(A)?(n.$44u=$q(A),n.$46u=S.ty(),n.p=S.getColumnPosition(),n.handle_touchmove(A)):S.setSelectProperty(L))}}},handleWindowMouseUp:function(){this.clear()},handleWindowTouchEnd:function(){this.clear()},handle_mouseup:function(O){this.handle_touchend(O)},handle_touchend:function(y){var R=this,s=R.pv;if(s.isSelfViewEvent(y)){var K=s.getCurrentData(),l=s.getPropertyAt(y);if(l){var P=s.isPropertyEditable(y,l);if(P)if(l.getValueType()===c){var A=R.$31u;if(A){delete R.$31u;var e=$q(y);if(Bp(A,e)<An){s.fireViewEvent({kind:"beginEdit",data:K,property:l});var J=s.setDataValue(!s.getValue(K,l),K,l);s.fireViewEvent({kind:"endEdit",valueChanged:J})}}}else if(R.$44u){var e=$q(y);if(Bp(e,R.$44u)<An){var E=s.getEditorClassAt(l,K);if(E){var q=s.$228u(E);if(q&&q.isEditable(y)){var j=s.$270u;j&&j.stopEditing(),s.beginEdit(K,l,q)}}}}}if(!s.$270u&&R.$44u&&!R.state){var s=R.pv,O=s.getRowIndexAt(y),e=$q(y);if(Bp(e,R.$44u)<An){if(O>=0){var d=s.$271u.get(O);Gl(d)&&(s.toggleHitTest(y)?s.toggle(d):mr(y)&&s.toggle(d))}s.setSelectProperty(l)}}}R.clear()},handleWindowMouseMove:function(G){this.handleWindowTouchMove(G)},handleWindowTouchMove:function(z){var e=this,P=e.pv,j=e.$46u,r=e.$44u,H=$q(z),N=e.state;if("p"===N)P.setTranslateY(j+H.y-r.y);else if("c"===N){var a=P.getContentWidth()-P.getIndent();if(a>16){var S=e.p-(r.x-H.x)/a,L=16/a;L>S&&(S=L),S>1-L&&(S=1-L),P.setColumnPosition(S)}}},handle_mousemove:function(S){this.handle_touchmove(S)},handle_touchmove:function($){if(!Gq()&&gp($)&&!$.$146u){var d=this,e=d.pv;if(e.isSelfViewEvent($)){tc||e.setHoverProperty(e.getPropertyAt($));var T=e.resizeHitTest($);d.$44u?d.state||(T?(d.state="c",Qd(d)):e.isPannable()&&I($q($).y-d.$44u.y)>=2&&(d.state="p",Qd(d))):T?e.setCursor(k):e.setCursor(op)}}},handle_mousewheel:function(G){this.handleScroll(G,G.wheelDelta/40)},handle_DOMMouseScroll:function(Z){2===Z.axis&&this.handleScroll(Z,-Z.detail)},handleScroll:function(e){var L=this.pv;L.isSelfViewEvent(e)&&(fm(e),L.$270u&&L.$270u.stopEditing())},handle_keydown:function(W){var v=this.pv,P=v.$271u,r=P.size(),E=v.getSelectProperty();if(E&&v.isSelfViewEvent(W)){var N=v.getRowIndex(E);if(As(W)||Fp(W)){for(var l;!l||!l.property;){var J=!1;if(N+=As(W)?-1:1,0>N&&(N=0,J=!0),N>=r&&(N=r-1,J=!0),l=P.get(N),J)break}l&&v.setSelectProperty(l.property)}}},handle_mouseleave:function(){this.pv.setHoverProperty(P)}}),N.PropertyPane=function(Y){var v=this;N.PropertyPane.superClass.constructor.call(v);var B=v.$235u=v.createCategoryButton(),C=v.$236u=v.createSortButton(),t=v.$237u=v.createFilterInput(),T=v._propertyView=new N.PropertyView;B.setStyle("propertypane_category"),B.setSelected(T.isCategorizable()),B.addPropertyChangeListener(function(R){"selected"===R.property&&(R.newValue?T.setCategorizable(!0):T.setCategorizable(!1))}),C.setStyle("propertypane_sort"),C.setSelected(!!T.getSortFunc()),C.addPropertyChangeListener(function(q){"selected"===q.property&&(q.newValue?T.setSortFunc(v.getSortFunc()):T.setSortFunc(null))}),v.addView(B),v.addView(C),v.addView(t),v.addView(T),T.isVisible=function(J){if(J){var H=t.getValue(),O=this.getVisibleFunc(),T=this.getPropertyName(J);if(T&&H)if(v.isCaseSensitive()){if(T.indexOf(H)<0)return!1}else if(T.toLocaleLowerCase().indexOf(H.toLocaleLowerCase())<0)return!1;return O?O(J):!0}return this.getPropertyValue(pd)},T.mp(function(D){var h=D.property;("indent"===h||"columnPosition"===h||"sortFunc"===h||"categorizable"===h||"nameAlign"===h||"valueAlign"===h)&&v.iv()}),t.setStyle("propertypane_search"),t.__borderRadius=O.borderRadius,t.__border=new N.border.FocusLineBorder(1,O.borderColor,O.baseColor),t.__iconPosition="right",t.__icon="propertypane_search",t.addPropertyChangeListener(function(m){"value"===m.property&&T.ivm()}),v._sortFunc=function(q,x){return _.sortFunc(T.getPropertyName(q),T.getPropertyName(x))},Y instanceof a?T.dm(Y):v.set(Y)},Mg("ht.ui.PropertyPane",N.ViewGroup,{getInteractorClasses:function(){return[Wl]},ui_ac:["drawable:headerBackground","headerLabelColor","headerLabelFont","headerLabelAlign","headerLabels","is:caseSensitive","toolbarHeight","toolbarPadding","headerHeight"],ms_ac:["sortFunc"],__caseSensitive:!1,__headerLabels:["Property","Value"],__headerLabelFont:O.font,__headerLabelColor:O.textColor,__background:O.viewGroupBackground,__headerBackground:O.headerBackground,__headerHeight:30,__toolbarHeight:29,__toolbarPadding:[1,1,5,0],createCategoryButton:function(){var Y=new N.ToggleButton;
return Y.__background=P,Y.__hoverBackground=O.hoverBackground,Y.__activeBackground=O.activeBackground,Y.__selectBackground=P,Y.__selectHoverBackground=O.hoverBackground,Y.__selectActiveBackground=O.activeBackground,Y.__selectIcon="propertypane_activeCategory",Y.__icon="propertypane_category",Y.__hoverIcon="propertypane_category",Y.__activeIcon="propertypane_activeCategory",Y},createSortButton:function(){var I=new N.ToggleButton;return I.__background=P,I.__hoverBackground=O.hoverBackground,I.__activeBackground=O.activeBackground,I.__selectBackground=P,I.__selectHoverBackground=O.hoverBackground,I.__selectActiveBackground=O.activeBackground,I.__selectIcon="propertypane_activeSort",I.__icon="propertypane_sort",I.__hoverIcon="propertypane_sort",I.__activeIcon="propertypane_activeSort",I},createFilterInput:function(){var g=new N.TextField;return g.__instant=!0,g},getFilterInput:function(){return this.$237u},getPropertyView:function(){return this._propertyView},getSortButton:function(){return this.$236u},getCategoryButton:function(){return this.$235u},addProperties:function(y){this._propertyView.addProperties(y)},drawHeaderLabel:function(a,s,b,A,e,h,i){var y=this;a.save(),a.beginPath(),a.rect(b,A,0>e?0:e,h),a.clip(),Xh(a,s,y.getHeaderLabelFont(),y.getHeaderLabelColor(),b,A,e,h,i),a.restore()},set:function(i){var R=this;if(i)for(var k in i){var s=i[k];"dataModel"===k?R._propertyView.dm(s):R[$j(k)](s)}},validateImpl:function(I,z,p,F){var r,U,j,i,E=this,Q=E.$198u,n=E._propertyView,O=n&&n.isVisible(),G=E.$235u,Z=G&&G.isVisible(),X=E.$236u,k=X&&X.isVisible(),g=E.$237u,w=g&&g.isVisible(),J=E.getToolbarHeight(),s=E.getToolbarPadding(),x=E.getHeaderHeight(),K=E.getHeaderLabels(),M=E.getRootContext();if(Gr(s)?(j=s[0],U=s[1],i=s[2],r=s[3]):r=U=i=j=s,M.beginPath(),J>0){var c=r;if(Z){var t=G.getPreferredSize();E.layoutChild(G,c,j,t.width,J-j-i),c+=t.width;var R=G.getView();R.parentNode||Q.appendChild(R)}if(k){t=X.getPreferredSize(),E.layoutChild(X,c,j,t.width,J-j-i),c+=t.width;var R=X.getView();R.parentNode||Q.appendChild(R)}if(w){E.layoutChild(g,c+16,j,p-c-16-U,J-j-i);var v=g.getView();v.parentNode||Q.appendChild(v)}}else{var S=G.getView();S.parentNode===Q&&Q.removeChild(S);var y=X.getView();y.parentNode===Q&&Q.removeChild(y);var D=g.getView();D.parentNode===Q&&Q.removeChild(D)}if(O){var A=n.getIndent(),T=n.getCellPaddingLeft(),C=n.getCellPaddingRight(),e=E.getHeaderLabelAlign(),o=e==P?n.getNameAlign():e,u=e==P?n.getValueAlign():e,q=A+n.getColumnPosition()*(p-A);if(x>0){var N=E.getHeaderBackgroundDrawable();N&&N.draw(I,z+J,p,x,P,E),E.drawHeaderLabel(M,K[0],I+A+T,z+J,q-A-T-C,x,o),E.drawHeaderLabel(M,K[1],I+q+T,z+J,p-q-T-C,x,u),rc.drawVerticalLine(M,n.getColumnLineColor(),I+q,z+J,x),Wg(M,I,z+J+x-1,p,1,n.getRowLineColor())}E.layoutChild(n,0,J+x,p,F-J-x)}},getSerializableProperties:function(){var J=N.PropertyPane.superClass.getSerializableProperties.call(this);return delete J.children,pq(J,{headerBackground:!0,headerBackgroundDrawable:!0,headerLabelColor:!0,headerLabelFont:!0,headerLabelAlign:!0,headerLabels:!0,"is:caseSensitive":!0,toolbarHeight:!0,headerHeight:!0,sortFunc:!0,toolbarPadding:1})}});var Wl=function($){Wl.superClass.constructor.call(this,$)};Mg(Wl,N.Interactor,{handle_mousedown:function(b){_.isLeftButton(b)&&this.handle_touchstart(b)},handleWindowMouseMove:function(K){this.handleWindowTouchMove(K)},handleWindowMouseUp:function(g){this.handleWindowTouchEnd(g)},handle_mousemove:function(f){var g=this,_=g.getComponent(),m=_.getPropertyView();if(!Gq()||_.isSelfViewEvent(f)){var O=_.getToolbarHeight(),U=_.getHeaderHeight(),e=_.lp(f),l=e.x,H=e.y;if(_.setCursor("default"),O+U>H&&H>=O){var s=m.getIndent(),j=s+m.getColumnPosition()*(_.getContentWidth()-s);l>j-(tc?16:6)&&j+(tc?16:6)>l&&_.setCursor("ew-resize")}}},handle_touchstart:function(D){var G=this,s=G.getComponent();if(s.isSelfViewEvent(D)){_.preventDefault(D);var G=this,d=s.getPropertyView(),e=s.getToolbarHeight(),p=s.getHeaderHeight(),Z=s.lp(D),f=Z.x,Y=Z.y;if(e+p>Y&&Y>=e){var X=d.getIndent(),T=X+d.getColumnPosition()*(s.getContentWidth()-X);f>T-(tc?16:6)&&T+(tc?16:6)>f&&Qd(G,D)}}},handleWindowTouchMove:function(q){var g=this,N=g.getComponent(),r=N.getPropertyView(),M=N.lp(q).x,a=r.getIndent(),i=N.getContentWidth(),p=i-a;if(p>16){var J=(M-a)/p,S=16/p;S>J&&(J=S),J>1-S&&(J=1-S),r.setColumnPosition(J)}},handleWindowTouchEnd:function(){}}),N.TreeView=function(k){var f=this;f.$137u(),f.$136u(),f.setUpInteractors(),k instanceof a?f.dm(k):f.set(k),f._dataModel||f.dm(new a)},Mg("ht.ui.TreeView",Aq,{ui_ac:[S,b,"hoverLabelColor",M,"rootVisible",aj,pg,Gi,vk,d,Ld,Hf,bi,"iconGap","pannable","drawable:expandIcon","drawable:collapseIcon","drawable:hoverExpandIcon","drawable:hoverCollapseIcon","drawable:selectExpandIcon","drawable:selectCollapseIcon","drawable:selectBackground","drawable:focusBackground","rowHeightFunc","drawable:hoverBackground","iconWidth","iconHeight","iconStretch","drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","dragEnabled","dropEnabled","dropLineColor","rowIndent","preferredSizeRowCountLimit","editorValidator"],ms_ac:["rootData","hoverData","loader"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$150u:1,$162u:1,$148u:1,__iconWidth:16,__iconHeight:16,__iconGap:4,__rowHeight:26,__rowIndent:4,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__indeterminateIcon:"ui_indeterminate",__rowLineVisible:!1,__rowLineColor:O.lineColor,__autoMakeVisible:!0,__labelFont:O.font,__dropLineColor:O.insertColor,__checkMode:P,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__indent:16,__rootVisible:!0,__pannable:!0,__labelColor:O.textColor,__hoverBackground:O.hoverBackground,__selectBackground:O.rowSelectBackground,__focusBackground:O.rowSelectBackground,getInteractorClasses:function(){return[N.ScrollInteractor,Fh]},checkHitTest:function(o,t){var O=this;if(O.isCheckMode()){var s=o;o instanceof Event&&(s=O.lp(o)),t||(t=O.getDataAt(o));var W=s.x,d=O.getLevel(t),K=O.getIndent(),E=O.getIconWidth(),S=K*d+E+O.getIconGap()+O.getRowIndent();if(W>=S&&S+E>=W)return!0}},toggleHitTest:function(T,m){var s=this,C=T;if(m||(m=s.getDataAt(T)),s.getToggleIconDrawable(m)){T instanceof Event&&(C=s.lp(T));var J=C.x,H=s.getRowIndent(),Q=s.getIndent(),A=s.getLevel(m),u=Q*A+H;if(J>=u&&J<=u+s.getIconWidth())return!0}},isDataEditable:function(x,p){var M=this,t=M.isEditable();return p=p==P?M.getDataAt(x):p,t&&p&&!M.checkHitTest(x,p)&&!M.toggleHitTest(x,p)?!0:void 0},getRowBackgroundDrawable:function(T,H){var f=this,F=f.isCheckMode();return T===f.getFocusData()&&F||H&&!F?f.getSelectBackgroundDrawable():T===f.getHoverData()?f.getHoverBackgroundDrawable():void 0},drawRow:function(b,I,u,U,h,O,r){var q=this,k=q.getRowBackgroundDrawable(I,u);return q.drawRowBackground(k,U,h,O,r,I),q.drawTree(b,I,u,U,h,O,r)},getSerializableProperties:function(){var S=N.TreeView.superClass.getSerializableProperties.call(this);return pq(S,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,rootVisible:1,checkMode:1,sortFunc:1,visibleFunc:1,indent:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,autoMakeVisible:1,iconGap:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,selectExpandIcon:1,selectExpandIconDrawable:1,selectCollapseIcon:1,selectCollapseIconDrawable:1,selectBackground:1,selectBackgroundDrawable:1,rowHeightFunc:1,pannable:1,hoverBackground:1,hoverBackgroundDrawable:1,focusBackground:1,focusBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconStretch:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,editorClass:1,editable:1,dataModel:1,rootData:1,loader:1,selectionModelShared:1,selectionModel:1,dragEnabled:1,dropEnabled:1,dropLineColor:1,rowIndent:1,preferredSizeRowCountLimit:1,editorValidator:1})},serializeProperty:function(y,i,s){var Y=this;return"rootData"===i?{__i:y.getId()}:s.serializeProperty(y,i,Y)},deserializeProperty:function(A,S,u){var l=this;if("rootData"===S){var G=l.dm(),b=G.$272u;return b[A.__i]}return u.deserializeProperty(A,S,l)}});var Fh=function(o){Fh.superClass.constructor.call(this,o)};Mg(Fh,Ob,{$319u:function(){var I=this,B=I.list;B.addViewListener(function(n){var r=n.kind,Z=B.isDropEnabled&&B.isDropEnabled();if(Z)if("dragEnter"===r)B.acceptDrop(n);else if("dragMove"===r){var Y=n.target,t=n.source;delete Y.$222u,delete Y.$223u,delete Y.$224u,Y.autoScroll(n.nativeEvent);var _,N,J=Y.lp(n.nativeEvent),G=Y.$118u,U=Y.$271u,b=U.size(),E=Y.getRowHeightFunc(),D=0,H=J.y;if(E)if(H<G.y||H>=G.y+G.height)N="append";else{for(var K=0;b>K;K++){var A=U.get(K),s=E.call(Y,A),P=s/3;if(D+P>H&&D>=G.y){_=A,N="up";break}if(D+2*P>H&&D>=G.y){_=A,N=$c;break}if(D+s>H){if(D+s<=G.y+G.height){D+=s,_=A,N="down";break}if(D>=G.y){_=A,N=$c;break}break}D+=s}N||(N="append")}else{var s=Y.getRowHeight(),P=s/3;if(H<G.y||H>=h(G.y+G.height,Y.$69u*s))N="append";else{var Q=$(H/s);D=s*Q,D+P>H&&D>=G.y?(_=U.get(Q),N="up"):D+2*P>H&&D>=G.y?(_=U.get(Q),N=$c):D+s<=G.y+G.height?(D+=s,_=U.get(Q),N="down"):D>=G.y&&(_=U.get(Q),N=$c)}}var c=!0;if(t===Y){var p,l=n.data.data,o=n.data.selection;p=B.isSelected(l)?o._as:[l],B.isDroppable(p,N,_)||(c=!1)}c&&N!=x&&(Y.$222u=D,Y.$223u=_,Y.$224u=N),Y.iv()}else if("dragCompleted"===r&&n.target===B){var p,t=n.source,Y=n.target,C=Y.dm(),U=(C.getRoots(),Y.$271u),_=Y.$223u,N=Y.$224u,l=n.data.data,o=n.data.selection;p=l&&o?B.isSelected(l)?o._as:[l]:n.data,N&&(t===Y?B.isDroppable(p,N,_)&&B.handleDrop(n,p,N,_):B.handleDrop(n,p,N,_)),delete Y.$222u,delete Y.$223u,delete Y.$224u,Y.iv()}else if("dragExit"===r||"dragCanceled"===r){var Y=n.target;Y&&(delete Y.$222u,delete Y.$223u,delete Y.$224u,Y.iv())}})},handleCheckMode:function(F,v){var b=this.list;return b.checkHitTest(F,v)?(b.checkData(v),void 0):b.toggleHitTest(F,v)?(b.toggle(v),void 0):(mr(F)&&b.toggle(v),b.setFocusData(v),void 0)},handleSelectMode:function(y,q){var R=this,x=R.list;x.toggleHitTest(y,q)?x.toggle(q):Fh.superClass.handleSelectMode.call(R,y,q)},handle_keydown:function(l){if(rh(l)||Ng(l)){var u=this.list;if(u.isSelfViewEvent(l)){var R=u.$271u,O=u.isCheckMode(),v=u.sm(),E=O?u.getFocusData():v.ld();E?E.hasChildren()&&(rh(l)?u.collapse(E):u.expand(E)):R.size()>0&&(E=R.get(0),O?u.setFocusData(E):v.ss(E))}}else Fh.superClass.handle_keydown.call(this,l)}});var _e=N.TableHeader=function(g){var b=this;N.TableHeader.superClass.constructor.call(b),g instanceof N.TableView||g instanceof N.TreeTableView?b.setTableView(g):b.set(g)};Mg("ht.ui.TableHeader",Aq,{ui_ac:["drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:sortDescIcon","drawable:sortAscIcon",S,M,"iconWidth","iconHeight","columnPaddingLeft","columnPaddingRight","drawable:moveBackground","drawable:insertLine",Rj,Tl,"resizable","movable"],ms_ac:[aj],__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__indeterminateIcon:"ui_indeterminate",__movable:!0,__resizable:!0,__labelFont:O.font,__columnLineColor:O.lineColor,__columnLineVisible:!0,__sortDescIcon:"table_sortDesc",__sortAscIcon:"table_sortAsc",__moveBackground:"#dee0e0",__insertLine:"#0092d4",__iconWidth:16,__iconHeight:16,__background:O.headerBackground,__labelColor:O.textColor,_checkMode:wm,getInteractorClasses:function(){return[Ol]},$186u:function(){this.invalidateColumnInfos("columnModelChange")},$185u:function(p){var B=this,X=p.property;(X===uh||X===pd||"fixed"===X)&&B.invalidateColumnInfos("columnPropertyChange",X),B.iv()},$187u:function(){this.invalidateColumnInfos("columnHierarchyChange")},onPropertyChanged:function(v){var S=this;J.ui.TableHeader.superClass.onPropertyChanged.call(S,v),v.property===uh&&S.invalidateColumnInfos("viewWidth")},invalidateColumnInfos:function(g,s){var n=this;n._invalidateColumnInfos||(n.checkPreferredSize("ivc"),n.checkMinSize("ivc"),n.checkMaxSize("ivc"),n._invalidateColumnInfos=!0,s?n.fireViewEvent({kind:"invalidateColumnInfos",type:g,property:s}):n.fireViewEvent({kind:"invalidateColumnInfos",type:g})),n.iv()},$161u:function(A){var Y=this,d=Y.$117u;d!==A&&(d&&(d.umm(Y.$186u,Y),d.umd(Y.$185u,Y),d.umh(Y.$187u,Y)),Y.$117u=A,A.mm(Y.$186u,Y),A.md(Y.$185u,Y),A.mh(Y.$187u,Y),Y.fp("columnModel",d,A),Y.$186u())},setTableView:function(o){var G=this,l=G._tableView;l&&(l.ump(G.$327u,G),l.sm().ums(G.handleSelectionChange,G));var q=o.getColumnModel();G.tv=o,G.$86u=new m,G.$161u(q),o.mp(G.$327u,G),o.sm().ms(G.handleSelectionChange,G),G.setPropertyValue("tableView",o)},handleSelectionChange:function(){var Z=this,Y=Z.getTableView(),u=Y.getRowDatas(),M=0;if(Y.isCheckMode()){for(var j=0,D=u.size();D>j;j++){var l=u.get(j);Y.isSelected(l)&&M++}Z._selectionChange=!0,0===M?Z.setCheckMode(wm):D===M?Z.setCheckMode("all"):Z.setCheckMode("indeterminate"),Z._selectionChange=!1}else Z._selectionChange=!0,Z.setCheckMode(wm),Z._selectionChange=!1},$327u:function(U){var P=this;"checkMode"===U.property?P.handleSelectionChange():"columnModel"===U.property&&P.$161u(U.newValue),pm[U.property]&&P.iv()},getTableView:function(){return this.tv},figurePreferredSize:function(){var s=this,d=s.$117u._roots,x=1;if(d)for(var o=d.size(),F=0;o>F;F++){var P=d.get(F),O=P._children.size()>0;P.isVisible()&&(P instanceof N.GroupColumn?O:!0)&&(x=A(x,s.$217u(P,1)))}return{width:100,height:30*x}},getSortIconDrawable:function(w){return this.tv.getSortColumn()===w?w.getSortOrder()===ks?this.getSortAscIconDrawable():this.getSortDescIconDrawable():void 0},getColumnInfoAt:function(l){var z=this,D=z.$86u,o=z.getTableView().tx(),s=l,n=D.size();l instanceof Event&&(s=z.lp(l));for(var L=0;n>L;L++){var Q=D.get(L),R=Q.startX+Q.width,I=Q.y,h=Q.y+Q.height,t=s.x;if(Q.column.getFixed()&&(t+=o,t>=Q.startX&&R>=t&&Q.width>0&&s.y>=I&&s.y<=h))return Q}for(var L=0;n>L;L++){var Q=D.get(L),R=Q.startX+Q.width,I=Q.y,h=Q.y+Q.height,t=s.x;if(!Q.column.getFixed()&&t>=Q.startX&&R>=t&&Q.width>0&&s.y>=I&&s.y<=h)return Q}},getColumnInfo:function(r){for(var j,x=0,e=this.$86u,m=e.size();m>x;x++)if(j=e.get(x),j.column===r)return j},getResizeColumnInfoAt:function(U){var r=this,O=r.$86u,i=U,S=r.getTableView(),E=S.getRightScrollBarIndent()||0,P=S.tx(),F=O.size();U instanceof Event&&(i=r.lp(U));for(var N=0;F>N;N++){var w=O.get(N),X=w.startX+w.width,W=w.y,q=w.y+w.height,o=i.x,y=w.column,B=y.getFixed();if("right"===B)o+=P;else if(B)o+=P;else{var Y=S.getScrollBarIndent()||0,$=r.getContentWidth();if(!(w.startX+w.width-Y>=-P||w.startX+w.width>-P+$-E))continue}if("right"===B&&S.isRightFixedShadowVisible(E,P)){if(I(w.startX-o)<=(tc?10:3)&&i.y>=W&&i.y<=q)return w}else if(I(X-o)<=(tc?10:3)&&i.y>=W&&i.y<=q)return w}},resizeHitTest:function(s,g){var V=this,d=V.getColumnInfo(g),Y=d.startX+d.width,C=s;return s instanceof Event&&(C=V.lp(s)),Y-C.x<=(tc?10:3)?!0:void 0},checkIconHitTest:function(L){var d=this,S=d.$87u;if(S){var Z=L;if(L instanceof Event&&(Z=d.lp(L)),be(S,Z))return!0}},setCheckMode:function(r){var N=this,$=N.getTableView();if(N.setPropertyValue("checkMode",r),!N._selectionChange){var z=$.sm(),m=$.$271u;"all"===r?z.ss(m):r===wm&&z.rs(m)}},getLabel:function(r){return r.toLabel()},getLabelFont:function(){return this.getPropertyValue(M)},getLabelColor:function(){return this.getPropertyValue(S)},getLabelAlign:function(t){return t.getAlign()},$334u:function(w){this.$88u=w,this.iv()},getColumnDisplayWidth:function(N){var T=this,d=T.getColumnInfo(N);return d?d.width:void 0},figureColumnDisplayWidth:function(O){var L=this;if(O instanceof N.GroupColumn){var v=L.getContentWidth(),k=0,M=L.$117u.getRoots(),b=0,Y=function(B){var e=B._as?B:B.getChildren(),X=e.size();if(X>0)for(var J=0;X>J;J++){var T=e.get(J);T.isVisible()&&Y(T)}else if(B instanceof N.Column){var G=B.getWidth();G>=0?(v-=G,B.isDescendantOf(O)&&(k+=G)):B.isDescendantOf(O)&&(b-=G)}};return Y(M),b>0&&(k+=v*b),A(16,k)}var J=O.getWidth();if(J>=0)return J;var v=L.getContentWidth(),M=L.$117u.getRoots(),Y=function(T){var g=T._as?T:T.getChildren(),e=g.size();if(e>0)for(var C=0;e>C;C++){var l=g.get(C);l.isVisible()&&Y(l)}else if(T instanceof N.Column){var i=T.getWidth();i>=0&&(v-=i)}};return Y(M),A(16,-v*J)},getLogicalPoint:function(r){var k=this,S=k.getTableView(),e=k.$198u.getBoundingClientRect(),W=S.tx(),A=k.getZoom()||1;return r=Vk(r),{x:(r.clientX-e.left)/A-W,y:(r.clientY-e.top)/A}},drawInsertLine:function(X,C,$,c,V){X&&X.draw(C,$,c,V,P,this)},$218u:function(n){for(var N=0;n;)N++,n=n.getParent();return N},$217u:function(j,F){var r=j._children,J=r.size();if(J>0)for(var Q=0;J>Q;Q++){var I=r.get(Q),O=this.$218u(I);F=A(F,O),I._children.size()>0&&(F=this.$217u(I,F))}return F},$216u:function(i,$,S,g,B,s,_,y){var v,M=this,C=M.$88u;$ instanceof J.List?(v=$.size(),$=$._as):(v=1,$=[$]);for(var H=0;v>H;H++){var n=B/s,p=$[H],N=p.getFixed(),T=M.$218u(p);if(N==y){if(!p.isVisible())continue;var G=M.getColumnDisplayWidth(p);if(G==P)continue;i.save(),i.beginPath(),i.rect(S,g+n*(T-1),G,n),i.clip();var b=g+n*(T-1);(_||!C||C.column!==p)&&M.drawColumn(i,p,S,b,G,n),M.isColumnLineVisible()&&(p._parent&&Wg(i,S,b,G,1,M.getColumnLineColor()),Wg(i,S+G-1,b,1,n,M.getColumnLineColor())),i.restore(),M.$216u(i,p._children,S,g,B,s,_,y),S+=G}}},$214u:function(K,T,S,f,z,J){var w=this;if(T){var O=T.size();if("right"!=z||J)for(var t=0;O>t;t++){var y=T.get(t),g=y.getFixed(),k=y._children.size()>0;if(z==g&&y.isVisible()&&(y instanceof N.GroupColumn?k:!0)){var V=w.figureColumnDisplayWidth(y),e=w.$215u,B=!y._parent;if(B)f=w.$217u(y,1),K.add({column:y,startX:e,width:V,isTop:!0,totalDeep:f,y:0,height:S/f});else{var b=w.$218u(y);K.add({column:y,startX:e,width:V,isTop:!1,totalDeep:f,columnDeep:b,y:S/f*(b-1),height:S/f})}k?w.$214u(K,y._children,S,f,z,J):w.$215u=e+V}}else for(var t=O-1;t>=0;t--){var y=T.get(t),g=y.getFixed(),k=y._children.size()>0;if(z==g&&y.isVisible()&&(y instanceof N.GroupColumn?k:!0)){var V=w.figureColumnDisplayWidth(y),e=w.__contentWidth-V,B=!y._parent;if(B)f=w.$217u(y,1),k&&w.$214u(K,y._children,S,f,z,J),K.add({column:y,startX:e,width:V,isTop:!0,totalDeep:f,y:0,height:S/f},K.size()-w.__rightCount);else{k&&w.$214u(K,y._children,S,f,z,J);var b=w.$218u(y);K.add({column:y,startX:e,width:V,isTop:!1,totalDeep:f,columnDeep:b,y:S/f*(b-1),height:S/f},K.size()-w.__rightCount)}w.__rightCount++,k||(w.__contentWidth-=V)}}}},$124u:function(a){var U=this,T=U.$86u;T.clear(),U.$215u=0,U.$214u(T,U.$117u._roots,a,x,"left"),U.$214u(T,U.$117u._roots,a,x,P);var S=U.$215u;delete U.$215u;var e=0,m=function(E){for(var h=E.size(),v=h-1;v>=0;v--){var P=E.get(v),s=P.getFixed(),R=P._children,I=R.size()>0;if("right"===s&&P.isVisible()&&(P instanceof N.GroupColumn?I:!0)){var t=U.figureColumnDisplayWidth(P);I?m(R):e+=t}}};m(U.$117u._roots);var B=U.getContentWidth();S+e>B?(U.__rightCount=0,U.__contentWidth=U.getContentWidth(),U.$214u(T,U.$117u._roots,a,x,"right"),delete U.__contentWidth,delete U.__rightCount):(U.$215u=S,U.$214u(T,U.$117u._roots,a,x,"right",!0),delete U.$215u)},validateImpl:function(r,y,X,v){var E=this,W=E.getTableView(),B=E.$86u,u=E.$88u,N=-W.tx();E.$87u=P,E._invalidateColumnInfos&&(E.$124u(v),E._invalidateColumnInfos=P);var G=E.getRootContext();G.save(),G.translate(-N,0);var s=0;B.each(function(Y){var c=Y.column,V=Y.startX;Y.isTop&&"left"==c.getFixed()&&(E.$216u(G,c,V+r+N,y,v,E.$217u(c,1),!1,"left"),s+=Y.width)});var J=0;if(B.each(function(p){var Y=p.column,e=p.startX;p.isTop&&"right"==Y.getFixed()&&(E.$216u(G,Y,e+r+N,y,v,E.$217u(Y,1),!1,"right"),J+=p.width)}),(s>0||J>0)&&(G.save(),G.beginPath(),G.rect(r+N+s,y,X-s-J,v),G.clip()),B.each(function(t){var n=t.column,Y=t.startX;N+X-J>=Y&&Y+t.width>=N+s&&t.isTop&&!n.getFixed()&&E.$216u(G,n,Y+r,y,v,E.$217u(n,1),!1,P)}),(s>0||J>0)&&G.restore(),u){var K=u.column,g=u.startX,p=u.position,e=E.getMoveBackgroundDrawable(),D=u.width,q=W.tx();e.draw(g+r-(K.getFixed()?q:0),y,D,v,K,E),E.$216u(G,K,g+r-(K.getFixed()?q:0),y,v,E.$217u(K,1),!0,K.getFixed());var x=E.getInsertLineDrawable();x&&x.draw(p+r-(K.getFixed()?q:0),y,1,v,P,E)}var b=W._scrollBarIndent;if(W.isFixedShadowVisible(b,-N)){var n=r+N+b-1,O=y,m=10,A=v;W.drawFixedShadow(G,n,O,m,A,W.getFixedShadow())}var Q=W._rightScrollBarIndent;if(W.isRightFixedShadowVisible(Q,-N)){var n=N+E.getContentWidth()+E.getContentLeft()-Q-10,O=y,m=10,A=v;W.drawRightFixedShadow(G,n,O,m,A,W.getFixedShadow())}G.restore()},isCheckHeader:function(d){var U=this.getTableView();return U.$90u===d&&U.sm().getSelectionMode()===Ue},getHeaderCheckIconDrawable:function(){var w=this,f=w.getCheckMode();return"all"===f?w.getCheckIconDrawable():f===wm?w.getUncheckIconDrawable():w.getIndeterminateIconDrawable()},drawSortIcon:function(M,k,d,J,q,C){M&&M.draw(k,d,J,q,C,this)},drawColumn:function(C,G,k,H,B,N){var n=this,_=Xe(G.getIcon()),Q=n.getIconWidth(),i=n.getIconHeight(),Y=H+(N-i)/2,F=n.getLabelAlign(G),S=n.getColumnPaddingLeft(),W=n.getColumnPaddingRight();if(S==P&&(S=G.getPaddingLeft()||0),W==P&&(W=G.getPaddingRight()||0),k+=S,B=B-S-W,C.save(),C.beginPath(),C.rect(k,H,0>B?0:B,N),C.clip(),n.isCheckHeader(G)){var t=n.getHeaderCheckIconDrawable(),A=n.$87u={x:k+(B-Q)/2,y:Y,width:Q,height:i};t.draw(A.x,A.y,Q,i,P,n),A.x-=n.getContentLeft(),A.y-=n.getContentTop(),A.width-=1,A.height-=1}else{var E=n.getLabel(G),J=n.getLabelFont(G),c=n.getLabelColor(G),U=Kd(J,E).width;_||(Q=0),F===sr?(_&&Hl(C,_,np,k,Y,Q,i),Xh(C,E,J,c,k+Q,H,B,N,sr)):F===Vb?(_&&Hl(C,_,np,k+B-U-Q,Y,Q,i),Xh(C,E,J,c,k,H,B,N,Vb)):(_&&Hl(C,_,np,k+(B-U-Q)/2,Y,Q,i),Xh(C,E,J,c,k+(B-U+Q)/2,H,0,N,sr))}if(C.restore(),Q=n.getIconWidth(),G.isSortable()){var f=n.getSortIconDrawable(G);f&&(F===Vb?n.drawSortIcon(f,k-S+2,Y,Q,i,G):n.drawSortIcon(f,k+B+W-Q-2,Y,Q,i,G))}},getSerializableProperties:function(){var E=N.TableHeader.superClass.getSerializableProperties.call(this);return pq(E,{checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,sortDescIcon:1,sortDescIconDrawable:1,sortAscIcon:1,sortAscIconDrawable:1,labelColor:1,labelFont:1,checkMode:1,iconWidth:1,iconHeight:1,columnPaddingLeft:1,columnPaddingRight:1,moveBackground:1,moveBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,columnLineVisible:1,columnLineColor:1,resizable:1,movable:1,tableView:1})}});var Ol=function(R){var A=this;A.th=R,A.tv=R._tableView};Mg(Ol,j,{ms_listener:1,getView:function(){return this.th.$239u},handle_mousemove:function($){if(!Gq()){var y=this,s=y.th;delete y.$89u,s.setCursor(P);var b=s.getResizeColumnInfoAt($);if(s.isResizable()&&b)y.$89u=b,s.setCursor(k);else{var B=s.getColumnInfoAt($);if(B){var A=B.column;(A.isSortable()||s.isMovable()||A===y.tv.getCheckColumn())&&(y.$89u=B,s.setCursor(R))}}}},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchstart:function(n){var w=this,r=w.th;r.isSelfViewEvent(n)&&(fm(n),r.requestFocus(),w.handle_mousemove(n),w.$89u&&(w.x=$q(n).x,w.lx=w.th.lp(n).x,w.w=w.$89u.width,Qd(w,n)))},getResidualHeaderWidth:function(){var Y=this.th,q=Y.getContentWidth(),D=Y.$117u.getRoots(),A=function(J){var g=J._as?J:J.getChildren(),O=g.size();if(O>0)for(var X=0;O>X;X++){var T=g.get(X);T.isVisible()&&A(T)}else if(J instanceof N.Column){var o=J.getWidth();o>=0&&(q-=o)}};return A(D),q},handleWindowMouseMove:function(j){this.handleWindowTouchMove(j)},handleWindowTouchMove:function(m){var z=this,T=z.th,$=T.getTableView(),M=T.getCursor(),D=z.$89u,Q=($q(m).x-z.x)/T.getZoom();if(!z.resizing&&!z.$202u)if(M===k){z.resizing=1;var K=D.column,U=$.getRightScrollBarIndent()||0;"right"===K.getFixed()&&$.isRightFixedShadowVisible(U,$.tx())&&(z._resizeRight=1)}else T.isMovable()&&M===R&&I(Q)>2&&D.isTop&&(z.$202u=1);if(z.resizing){var K=D.column,y=z.getResidualHeaderWidth();if(K instanceof N.GroupColumn){var Y=[],B=function(O){for(var l=O.getChildren(),M=l.size(),c=0;M>c;c++){var I=l.get(c);I instanceof N.GroupColumn&&I.isVisible()?B(I):I.isVisible()&&Y.push(I)}};B(K),z.leafW==P&&(z.leafW=[]);for(var e=0,n=Y.length;n>e;e++){var F=Y[e],q=z.leafW[e];if(q==P&&(q=z.leafW[e]=F.getWidth()),0>q){var S=(-q+Q/n/y)*y;16>S&&(S=16),F.setWidth(-S/y)}else{if(z._resizeRight)var S=q-Q/n;else var S=q+Q/n;16>S&&(S=16),F.setWidth(S)}}}else{var i;z._resizeRight?(i=z.w-Q,16>i&&(i=16),K.getWidth()<0?K.setWidth(i/y):K.setWidth(i)):(i=z.w+Q,16>i&&(i=16),K.getWidth()<0?K.setWidth(-i/y):K.setWidth(i))}}else if(z.$202u){var l=z.lx+Q,b=$.tx();T.$86u.each(function(d){var F=d.column,z=l;if(d.isTop){F.getFixed()&&(z+=b);var i=d.startX,s=i+d.width;if(D.column.getFixed()===F.getFixed()&&z>=i&&s>=z){var u={column:D.column,width:D.width,startX:D.startX+Q,front:s-z>z-i,insertColumn:d.column};u.position=u.front?i:s,T.$334u(u)}}})}},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handleWindowTouchEnd:function(f){var L=this,X=L.th,r=X.tv,b=L.$89u,B=r.tx();if(L.$202u){var Z=X.$88u;if(Z&&Z.insertColumn!==Z.column){var U=Z.column,p=r.getColumnModel()._roots,Q=p.remove(U),d=p.indexOf(Z.insertColumn);d>=0&&(Z.front||d++,d<=p.size()&&(p.add(U,d),r.getColumnModel()._38I(U,Q,d)))}X.$334u(P),delete L.$202u}else if(!L.resizing&&b){U=b.column;var K=X.lp(f).x,A=b.startX,j=!0;if(b.column.getFixed()&&(K+=B),X.onColumnClicked){var I=X.onColumnClicked(b,f);I===!1&&(j=!1)}if(j&&K>=A&&K<=A+b.width)if(X.checkIconHitTest(f)){var w=X.getCheckMode();"all"===w?X.setCheckMode(wm):(w===wm||"indeterminate"===w)&&X.setCheckMode("all")}else{if(U.isSortable()){var u=r.getSortMode(),n=U.getSortOrder();u===y?r.getSortColumn()===U?(n===fp&&r.setSortColumn(P),U.setSortOrder(n===ks?fp:ks)):r.setSortColumn(U):"bistate"===u&&(r.getSortColumn()===U?U.setSortOrder(n===ks?fp:ks):r.setSortColumn(U))}r.onColumnClicked(U,f)}}L.$89u=L.resizing=L._resizeRight=L.x=L.lx=L.w=L.leafW=P}});var eq=N.TableView=function(M){var k=this;k.$164u(),k.$136u(),k.setUpInteractors(),k.addTopPainter(function(s){var i=k._scrollBarIndent,u=k._rightScrollBarIndent,D=k.getTranslateX();if(k.isFixedShadowVisible(i,D)){var Z=-D+i-1,G=-k.ty(),d=10,h=k.getContentHeight();k.drawFixedShadow(s,Z,G,d,h,k.getFixedShadow())}if(k.isRightFixedShadowVisible(u,D)){var Z=-D+k.getContentWidth()-u-10,G=-k.ty(),d=10,h=k.getContentHeight();k.drawRightFixedShadow(s,Z,G,d,h,k.getFixedShadow())}}),M instanceof a?k.dm(M):k.set(M),k._dataModel||k.dm(new a)};Mg("ht.ui.TableView",Aq,{ui_ac:[S,b,"hoverLabelColor",M,"sortMode",Ce,d,Ld,Hf,Rj,Tl,pg,Gi,bi,"drawable:selectBackground","drawable:hoverBackground","drawable:focusBackground","iconWidth","iconHeight","rowHeightFunc","pannable","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","dragEnabled","dropEnabled","dropLineColor","preferredSizeRowCountLimit","fixedShadow","editorValidator"],ms_ac:["hoverData","sortColumn"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{columnModel:!0,ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0,ivc:!0}),ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$148u:1,$149u:1,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__rowLineColor:O.lineColor,__autoMakeVisible:!0,__labelFont:O.font,__dropLineColor:O.insertColor,__sortMode:y,__batchEditable:!1,__rowLineVisible:!0,__columnLineVisible:!0,__columnLineColor:O.lineColor,__pannable:!0,__fixedShadow:"rgba(0,0,0,0.12)",__labelColor:O.textColor,__hoverBackground:O.hoverBackground,__selectBackground:O.rowSelectBackground,__focusBackground:O.rowSelectBackground,getInteractorClasses:function(){return[N.ScrollInteractor,Vi]},checkHitTest:function(c){var p=this;if(p.isCheckMode()){var E=c;c instanceof Event&&(E=p.lp(c));var U=p.$90u,W=p.getColumnInfo(U),G=E.x;if(W&&G>=W.startX&&G<W.startX+W.width)return!0}},getCheckColumn:function(){var b=this;if(!b.$90u){var P=b.$90u=new Vj;P.setEditable(!0),P.setWidth(50),P.drawCell=b.drawCheckColumnCell}return b.$90u},isCheckMode:function(){return this.$117u.contains(this.$90u)},setCheckMode:function(s){var r=this,k=r.$117u,E=r.getCheckColumn();s!==r.isCheckMode()&&(s?k.add(E,0):k.remove(E),r.fp(aj,!s,s))},drawCheckColumnCell:function(B,g,i,G,S,$,j,n,h){var E=h.getIconWidth(),J=h.getIconHeight(),l=h.getViewCheckIconDrawable(g);l&&h.drawCheckIcon(l,S+(j-E)/2,$+(n-J)/2,E,J,g)},getSerializableProperties:function(){var S=N.TableView.superClass.getSerializableProperties.call(this);return pq(S,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,sortFunc:1,visibleFunc:1,pannable:1,autoMakeVisible:1,selectBackground:1,selectBackgroundDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,focusBackground:1,focusBackgroundDrawable:1,iconWidth:1,iconHeight:1,rowHeightFunc:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,sortColumn:1,selectionModelShared:1,selectionModel:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1,preferredSizeRowCountLimit:1,fixedShadow:1,editorValidator:1})},serializeProperty:function(j,R,S){var m=this;return"sortColumn"===R?{__i:j.getId()}:S.serializeProperty(j,R,m)},deserializeProperty:function($,u,x){var M=this;if("sortColumn"===u){var a=M.getColumnModel(),F=a.$272u;return F[$.__i]}return x.deserializeProperty($,u,M)}});var Vi=function(c){Vi.superClass.constructor.call(this,c)};Mg(Vi,Ob,{handle_touchstart:function(Y){var X=this,r=X.list;Vi.superClass.handle_touchstart.call(X,Y);var G=r.getColumnAt(Y),v=r.getDataAt(Y);delete X.$31u,v&&G&&G.getValueType(v)===c&&G.isEditable(v)&&(X.$31u=$q(Y))},handle_touchend:function(J){Vi.superClass.handle_touchend.call(this,J);var b=this,m=b.$31u;if(m){var w=$q(J);if(delete b.$31u,Bp(m,w)<An){var C=b.list,s=C.getColumnAt(J),d=C.getDataAt(J);if(d&&s&&s.isEditable(d)){C.fireViewEvent({kind:"beginEdit",data:d,column:s});var r=C.setDataValue(!C.getValue(d,s),d,s);C.fireViewEvent({kind:"endEdit",valueChanged:r})}}}}});var gb=N.TableFooter=function(Y){var C=this;N.TableFooter.superClass.constructor.call(C),Y instanceof N.TableView||Y instanceof N.TreeTableView?C.setTableView(Y):C.set(Y)};Mg("ht.ui.TableFooter",Aq,{ui_ac:[S,M,Rj,Tl,"columnPaddingLeft","columnPaddingRight"],__labelColor:O.textColor,__labelFont:O.font,__columnLineColor:O.lineColor,__columnLineVisible:!0,__background:O.headerBackground,$186u:function(){this.invalidateColumnInfos("columnModelChange")},$185u:function(f){var E=this,q=f.property;(q===uh||q===pd||"fixed"===q)&&E.invalidateColumnInfos("columnPropertyChange",q),E.iv()},$187u:function(){this.invalidateColumnInfos("columnHierarchyChange")},onPropertyChanged:function(e){var $=this;J.ui.TableFooter.superClass.onPropertyChanged.call($,e),e.property===uh&&$.invalidateColumnInfos("viewWidth")},invalidateColumnInfos:function($,g){var m=this;m._invalidateColumnInfos||(m._invalidateColumnInfos=!0,g?m.fireViewEvent({kind:"invalidateColumnInfos",type:$,property:g}):m.fireViewEvent({kind:"invalidateColumnInfos",type:$})),m.iv()},$161u:function(P){var d=this,R=d.$117u;R!==P&&(R&&(R.umm(d.$186u,d),R.umd(d.$185u,d),R.umh(d.$187u,d)),d.$117u=P,P.mm(d.$186u,d),P.md(d.$185u,d),P.mh(d.$187u,d),d.fp("columnModel",R,P),d.$186u())},setTableView:function(D){var A=this,v=A._tableView;v&&(v.ump(A.$327u,A),D.off("endValidate",A.handleTableViewValidate,A));var q=D.getColumnModel();A.tv=D,A.$86u=new m,A.$161u(q),D.mp(A.$327u,A),D.on("endValidate",A.handleTableViewValidate,A),A.setPropertyValue("tableView",D)},handleTableViewValidate:function(){var D=this;D.iv(),D.validate()},$327u:function(f){var Q=this;"columnModel"===f.property&&Q.$161u(f.newValue),pm[f.property]&&Q.iv()},getTableView:function(){return this.tv},figurePreferredSize:function(){return{width:100,height:30}},getColumnInfo:function(Q){for(var S,T=0,t=this.$86u,z=t.size();z>T;T++)if(S=t.get(T),S.column===Q)return S},getColumnDisplayWidth:function(W){var h=this,r=h.getColumnInfo(W);return r?r.width:void 0},figureColumnDisplayWidth:function(w){var k=this;if(w instanceof N.GroupColumn){var n=k.getContentWidth(),P=0,j=k.$117u.getRoots(),L=0,e=function(Y){var j=Y._as?Y:Y.getChildren(),X=j.size();
if(X>0)for(var S=0;X>S;S++){var V=j.get(S);V.isVisible()&&e(V)}else if(Y instanceof N.Column){var B=Y.getWidth();B>=0?(n-=B,Y.isDescendantOf(w)&&(P+=B)):Y.isDescendantOf(w)&&(L-=B)}};return e(j),L>0&&(P+=n*L),A(16,P)}var D=w.getWidth();if(D>=0)return D;var n=k.getContentWidth(),j=k.$117u.getRoots(),e=function(J){var V=J._as?J:J.getChildren(),D=V.size();if(D>0)for(var _=0;D>_;_++){var C=V.get(_);C.isVisible()&&e(C)}else if(J instanceof N.Column){var p=J.getWidth();p>=0&&(n-=p)}};return e(j),A(16,-n*D)},getLogicalPoint:function(v){var j=this,e=j.getTableView(),I=j.$198u.getBoundingClientRect(),k=e.tx(),q=j.getZoom();return v=Vk(v),{x:(v.clientX-I.left)/q-k,y:(v.clientY-I.top)/q}},$218u:function(g){for(var R=0;g;)R++,g=g.getParent();return R},$217u:function(q,c){var h=q._children,G=h.size();if(G>0)for(var Y=0;G>Y;Y++){var M=h.get(Y),z=this.$218u(M);c=A(c,z),M._children.size()>0&&(c=this.$217u(M,c))}return c},$216u:function(o,k,N,m,C,L,p,n){var S,a=this;k instanceof J.List?(S=k.size(),k=k._as):(S=1,k=[k]);for(var D=0;S>D;D++){var Q=k[D],y=Q.getFixed(),F=Q.hasChildren();if(y==n){if(!Q.isVisible())continue;var x=a.getColumnDisplayWidth(Q);if(x==P)continue;if(!F){o.save(),o.beginPath(),o.rect(N,m,x,C),o.clip();var A=m;a.drawColumn(o,Q,N,A,x,C),a.isColumnLineVisible()&&(Q._parent&&Wg(o,N,A,x,1,a.getColumnLineColor()),Wg(o,N+x-1,A,1,C,a.getColumnLineColor())),o.restore()}a.$216u(o,Q._children,N,m,C,L,p,n),N+=x}}},$214u:function(e,u,U,C,p,$){var Q=this;if(u){var R=u.size();if("right"!=p||$)for(var P=0;R>P;P++){var w=u.get(P),B=w.getFixed(),J=w._children.size()>0;if(p==B&&w.isVisible()&&(w instanceof N.GroupColumn?J:!0)){var X=Q.figureColumnDisplayWidth(w),Y=Q.$215u,S=!w._parent;if(S)C=Q.$217u(w,1),e.add({column:w,startX:Y,width:X,isTop:!0,totalDeep:C,y:0,height:U/C});else{var q=Q.$218u(w);e.add({column:w,startX:Y,width:X,isTop:!1,totalDeep:C,columnDeep:q,y:U/C*(q-1),height:U/C})}J?Q.$214u(e,w._children,U,C,p,$):Q.$215u=Y+X}}else for(var P=R-1;P>=0;P--){var w=u.get(P),B=w.getFixed(),J=w._children.size()>0;if(p==B&&w.isVisible()&&(w instanceof N.GroupColumn?J:!0)){var X=Q.figureColumnDisplayWidth(w),Y=Q.__contentWidth-X,S=!w._parent;if(S)C=Q.$217u(w,1),J&&Q.$214u(e,w._children,U,C,p,$),e.add({column:w,startX:Y,width:X,isTop:!0,totalDeep:C,y:0,height:U/C},e.size()-Q.__rightCount);else{J&&Q.$214u(e,w._children,U,C,p,$);var q=Q.$218u(w);e.add({column:w,startX:Y,width:X,isTop:!1,totalDeep:C,columnDeep:q,y:U/C*(q-1),height:U/C},e.size()-Q.__rightCount)}Q.__rightCount++,J||(Q.__contentWidth-=X)}}}},$124u:function(U){var H=this,t=H.$86u;t.clear(),H.$215u=0,H.$214u(t,H.$117u._roots,U,x,"left"),H.$214u(t,H.$117u._roots,U,x,P);var $=H.$215u;delete H.$215u;var _=0,O=function(x){for(var d=x.size(),l=d-1;l>=0;l--){var K=x.get(l),V=K.getFixed(),v=K._children,R=v.size()>0;if("right"===V&&K.isVisible()&&(K instanceof N.GroupColumn?R:!0)){var Q=H.figureColumnDisplayWidth(K);R?O(v):_+=Q}}};O(H.$117u._roots);var V=H.getContentWidth();$+_>V?(H.__rightCount=0,H.__contentWidth=H.getContentWidth(),H.$214u(t,H.$117u._roots,U,x,"right"),delete H.__contentWidth,delete H.__rightCount):(H.$215u=$,H.$214u(t,H.$117u._roots,U,x,"right",!0),delete H.$215u)},validateImpl:function(p,n,U,M){var d=this,I=d.getTableView(),B=d.$86u,j=-I.tx();d._invalidateColumnInfos&&(d.$124u(M),d._invalidateColumnInfos=P);var Q=d.getRootContext();Q.save(),Q.translate(-j,0);var s=0;B.each(function(o){var x=o.column,t=o.startX;o.isTop&&"left"===x.getFixed()&&(d.$216u(Q,x,t+p+j,n,M,d.$217u(x,1),!1,"left"),s+=o.width)});var v=0;B.each(function(s){var D=s.column,G=s.startX;s.isTop&&"right"==D.getFixed()&&(d.$216u(Q,D,G+p+j,n,M,d.$217u(D,1),!1,"right"),v+=s.width)}),(s>0||v>0)&&(Q.save(),Q.beginPath(),Q.rect(p+j+s,n,U-s-v,M),Q.clip()),B.each(function(D){var o=D.column,T=D.startX;j+U-v>=T&&T+D.width>=j+s&&D.isTop&&!o.getFixed()&&d.$216u(Q,o,T+p,n,M,d.$217u(o,1),!1,P)}),(s>0||v>0)&&Q.restore();var H=I._scrollBarIndent;if(I.isFixedShadowVisible(H,-j)){var a=p+j+H-1,C=n,w=10,T=M;I.drawFixedShadow(Q,a,C,w,T,I.getFixedShadow())}var c=I._rightScrollBarIndent;if(I.isRightFixedShadowVisible(c,-j)){var a=j+d.getContentWidth()+d.getContentLeft()-c-10,C=n,w=10,T=M;I.drawRightFixedShadow(Q,a,C,w,T,I.getFixedShadow())}Q.restore()},getSummary:function(c,T){var w,d=this,U=d.getTableView(),N=c.getSummary();if("sum"===N)for(var k=0,$=T.size();$>k;k++){var b=T.get(k);w===x?w=U.getValue(b,c):w+=U.getValue(b,c)}else if("max"===N)for(var k=0,$=T.size();$>k;k++){var b=T.get(k);w=w===x?U.getValue(b,c):A(w,U.getValue(b,c))}else if("min"===N)for(var k=0,$=T.size();$>k;k++){var b=T.get(k);w=w===x?U.getValue(b,c):h(w,U.getValue(b,c))}else if("average"===N){for(var k=0,$=T.size();$>k;k++){var b=T.get(k);w===x?w=U.getValue(b,c):w+=U.getValue(b,c)}w/=$}else if("first"===N){var b=T.get(0);b&&(w=U.getValue(b,c))}return w},drawColumn:function(x,O,X,A,j,G){var K=this,D=K.getColumnPaddingLeft(),b=K.getTableView(),C=K.getColumnPaddingRight();D==P&&(D=O.getPaddingLeft()||0),C==P&&(C=O.getPaddingRight()||0),X+=D,j=j-D-C,x.save(),x.beginPath(),x.rect(X,A,0>j?0:j,G),x.clip();var F=K.getSummary(O,b.getAllRowDatas?b.getAllRowDatas():b.getRowDatas()),w=K.getLabelFont(O),p=K.getLabelColor(O);Xh(x,F,w,p,X,A,j,G,O.getAlign()),x.restore()},getSerializableProperties:function(){var l=N.TableFooter.superClass.getSerializableProperties.call(this);return pq(l,{labelColor:1,labelFont:1,columnLineVisible:1,columnLineColor:1,columnPaddingLeft:1,columnPaddingRight:1,tableView:1})}});var Vr=N.TreeTableView=function(B){var v=this;v.$137u(),v.$164u(),v.$136u(),v.addTreeColumn(),v.setUpInteractors(),v.addTopPainter(function(J){var d=v._scrollBarIndent,C=v._rightScrollBarIndent,h=v.getTranslateX();if(v.isFixedShadowVisible(d,h)){var G=-h+d-1,N=-v.ty(),Z=10,k=v.getContentHeight();v.drawFixedShadow(J,G,N,Z,k,v.getFixedShadow())}if(v.isRightFixedShadowVisible(C,h)){var G=-h+v.getContentWidth()-C-10,N=-v.ty(),Z=10,k=v.getContentHeight();v.drawRightFixedShadow(J,G,N,Z,k,v.getFixedShadow())}}),B instanceof a?v.dm(B):v.set(B),v._dataModel||v.dm(new a)},vb=function(w,n,Q,N,J,t,H,W,i){return i.drawTree(w,n,Q,J,t,H,W)},Qg=function(u,S,p){return p.getLabel(u)};Mg("ht.ui.TreeTableView",Aq,{ui_ac:[S,b,"hoverLabelColor",M,"sortMode",Ce,vk,aj,"rootVisible",pg,Gi,bi,Hf,d,Ld,"pannable",Rj,Tl,"drawable:selectBackground","drawable:expandIcon","drawable:collapseIcon","drawable:hoverExpandIcon","drawable:hoverCollapseIcon","drawable:selectExpandIcon","drawable:selectCollapseIcon","rowHeightFunc","drawable:hoverBackground","drawable:focusBackground","iconWidth","iconHeight","iconGap","drawable:checkIcon","drawable:uncheckIcon","drawable:indeterminateIcon","drawable:radioOnIcon","drawable:radioOffIcon","preferredSizeRowCountLimit","dragEnabled","dropEnabled","dropLineColor","fixedShadow","editorValidator"],ms_ac:["hoverData","rootData","loader","sortColumn"],_preferredSizeProps:pq(Je(fn._preferredSizeProps),{columnModel:!0,ivm:!0,preferredSizeRowCountLimit:!0,rowHeight:!0,rowHeightFunc:!0,ivc:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$150u:1,$162u:1,$148u:1,$149u:1,__iconGap:4,__iconWidth:16,__iconHeight:16,__rowHeight:26,__preferredSizeRowCountLimit:10,__radioOnIcon:"ui_"+t,__radioOffIcon:"ui_"+Q,__checkIcon:"ui_"+u,__uncheckIcon:"ui_"+p,__indeterminateIcon:"ui_indeterminate",__rowLineColor:O.lineColor,__autoMakeVisible:!0,__labelFont:O.font,__dropLineColor:O.insertColor,__sortMode:y,__checkMode:P,__batchEditable:!1,__indent:16,__rowLineVisible:!0,__columnLineVisible:!0,__columnLineColor:O.lineColor,__expandIcon:"ui_expandIcon",__collapseIcon:"ui_collapseIcon",__pannable:!0,__fixedShadow:"rgba(0,0,0,0.12)",__labelColor:O.textColor,__hoverBackground:O.hoverBackground,__selectBackground:O.rowSelectBackground,__focusBackground:O.rowSelectBackground,createTreeColumn:function(){return new N.Column},addTreeColumn:function(){var d=this,c=d.$123u=d.createTreeColumn();c.s("uiSerializable",!1),c.setDisplayName("Name"),c.setEditable(!0),c.setWidth(140),c.drawCell=vb,c.getValue=Qg,d.$117u.add(c),d.$117u.moveTo(c,0)},getInteractorClasses:function(){return[N.ScrollInteractor,gh]},checkHitTest:function(G,D){var J=this;if(J.isCheckMode()){var s=G;G instanceof Event&&(s=J.lp(G)),D||(D=J.getDataAt(G));var I=J.$123u,T=J.getColumnInfo(I),$=s.x,B=J.getLevel(D),o=J.getIndent(),r=J.getIconWidth(),d=o*B+r+T.startX+I.getPaddingLeft()+J.getIconGap();if($>=d&&d+r>=$)return!0}},toggleHitTest:function(U,u){var _=this,r=U;if(u||(u=_.getDataAt(U)),_.getToggleIconDrawable(u)){U instanceof Event&&(r=_.lp(U));var e=r.x,x=_.getIndent(),A=_.getLevel(u),F=_.$123u,K=_.getColumnInfo(F);if(K){var T=x*A+K.startX+F.getPaddingLeft();if(e>=T&&e<=T+_.getIconWidth())return!0}}},getTreeColumn:function(){return this.$123u},getSerializableProperties:function(){var A=N.TreeTableView.superClass.getSerializableProperties.call(this);return pq(A,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,indent:1,checkMode:1,rootVisible:1,sortFunc:1,visibleFunc:1,autoMakeVisible:1,rowLineColor:1,rowHeight:1,rowLineVisible:1,pannable:1,columnLineVisible:1,columnLineColor:1,selectBackground:1,selectBackgroundDrawable:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,selectExpandIcon:1,selectExpandIconDrawable:1,selectCollapseIcon:1,selectCollapseIconDrawable:1,rowHeightFunc:1,hoverBackground:1,hoverBackgroundDrawable:1,focusBackground:1,focusBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconGap:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,rootData:1,loader:1,sortColumn:1,selectionModelShared:1,selectionModel:1,preferredSizeRowCountLimit:1,dragEnabled:1,dropEnabled:1,dropLineColor:1,fixedShadow:1,editorValidator:1})},serializeProperty:function(d,B,Q){var K=this;return"sortColumn"===B||"rootData"===B?{__i:d.getId()}:Q.serializeProperty(d,B,K)},deserializeProperty:function(f,z,b){var Y=this;if("sortColumn"===z){var I=Y.getColumnModel(),y=I.$272u;return y[f.__i]}if("rootData"===z){var v=Y.getDataModel(),y=v.$272u;return y[f.__i]}return b.deserializeProperty(f,z,Y)}});var gh=function(W){gh.superClass.constructor.call(this,W)};Mg(gh,Fh,{handle_touchstart:function(g){var F=this,m=F.list;gh.superClass.handle_touchstart.call(F,g);var B=m.getColumnAt(g),E=m.getDataAt(g);delete F.$31u,E&&B&&B.getValueType(E)===c&&B.isEditable(E)&&(F.$31u=$q(g))},handle_touchend:function(Q){gh.superClass.handle_touchend.call(this,Q);var k=this,N=k.$31u;if(N){var M=$q(Q);if(delete k.$31u,Bp(N,M)<An){var V=k.list,g=V.getColumnAt(Q),L=V.getDataAt(Q);if(L&&g&&g.isEditable(L)){V.fireViewEvent({kind:"beginEdit",data:L});var w=V.setDataValue(!V.getValue(L,g),L,g);V.fireViewEvent({kind:"endEdit",valueChanged:w})}}}}}),N.TablePane=function(o){var D=this;N.TablePane.superClass.constructor.call(D),o instanceof N.TableView?D.init(o):o instanceof a||o==P?D.init(new eq(o)):D.set(o)},Mg("ht.ui.TablePane",ym,{$147u:1,figurePreferredSize:function(){var r=this,$=r.getTableView(),K=r.getTableHeader(),H=$&&$.isVisible(),q=K&&K.isVisible(),V=0,W=0;return H&&q?(V=A($.getPreferredSize().width,K.getPreferredSize().width),W=$.getPreferredSize().height+K.getPreferredSize().height):H?(V=$.getPreferredSize().width,W=$.getPreferredSize().height):q&&(V=K.getPreferredSize().width,W=K.getPreferredSize().height),{width:w(V+r.getPaddingLeft()+r.getPaddingRight()+r.getBorderLeft()+r.getBorderRight()),height:w(W+r.getPaddingTop()+r.getPaddingBottom()+r.getBorderTop()+r.getBorderBottom())}},getSerializableProperties:function(){var Z=N.TablePane.superClass.getSerializableProperties.call(this);return delete Z.children,pq(Z,{tableView:1,tableHeader:1,tableFooter:1})}}),N.TreeTablePane=function(e){var d=this;N.TreeTablePane.superClass.constructor.call(d),e instanceof Vr?d.init(e):e instanceof a||e==P?d.init(new Vr(e)):d.set(e)},Mg("ht.ui.TreeTablePane",ym,{$147u:1,figurePreferredSize:function(){var Y=this,i=Y.getTableView(),d=Y.getTableHeader(),z=i&&i.isVisible(),K=d&&d.isVisible(),W=0,b=0;return z&&K?(W=A(i.getPreferredSize().width,d.getPreferredSize().width),b=i.getPreferredSize().height+d.getPreferredSize().height):z?(W=i.getPreferredSize().width,b=i.getPreferredSize().height):K&&(W=d.getPreferredSize().width,b=d.getPreferredSize().height),{width:w(W+Y.getPaddingLeft()+Y.getPaddingRight()+Y.getBorderLeft()+Y.getBorderRight()),height:w(b+Y.getPaddingTop()+Y.getPaddingBottom()+Y.getBorderTop()+Y.getBorderBottom())}},getSerializableProperties:function(){var I=N.TreeTablePane.superClass.getSerializableProperties.call(this);return delete I.children,pq(I,{tableView:1,tableHeader:1,tableFooter:1})}});var rf=N.DragHelper={};rf.doDrag=function(R,l,f,S,w){rf.isDragging()&&rf.cancelDrag(),rf.$220u={dragView:R,data:l,image:f,imageOffsetX:S||0,imageOffsetY:w||0},r.addEventListener(tc?"touchmove":"mousemove",rf.handleWindowMouseMove),r.addEventListener(tc?"touchend":"mouseup",rf.handleWindowMouseUp),r.addEventListener("keydown",rf.handleKeyDown)},rf.isDragging=function(A){var i=rf.$220u;return A?i&&i.dragView===A?!0:void 0:!!i},rf.getDragView=function(){var m=rf.$220u;return m&&m.dragView},rf.getDropView=function(){var d=rf.$220u;return d&&d.dropView},rf.cancelDrag=function(y){var h=rf.$220u;if(h){var X=h.dragView,m=h.dropView;X&&X.fireViewEvent({source:h.dragView,target:h.dropView,data:h.data,kind:"dragCanceled",nativeEvent:y}),m&&m.fireViewEvent({source:h.dragView,target:h.dropView,data:h.data,kind:"dragCanceled",nativeEvent:y})}rf.$221u()},rf.handleKeyDown=function(z){27==z.keyCode&&rf.cancelDrag(z)},rf.$221u=function(){var K=rf.$220u,c=K.dragCanvas,O=K.indicatorCanvas;c&&E.body.removeChild(c),O&&E.body.removeChild(O),r.removeEventListener(tc?"touchmove":"mousemove",rf.handleWindowMouseMove),r.removeEventListener(tc?"touchend":"mouseup",rf.handleWindowMouseUp),r.removeEventListener("keydown",rf.handleKeyDown),delete rf.$220u},rf.acceptDragDrop=function(l,T){var g=rf.$220u;g&&(g.dropView=l),g.cursor=T},rf.handleWindowMouseMove=function(y){var i=rf.$220u,f=i.image,O=i.imageOffsetX,u=i.imageOffsetY;f=Xe(f);var H=i.dragCanvas;if(!H){var M,r;f instanceof HTMLElement&&(M=Qk(f.style.width),r=Qk(f.style.height)),(isNaN(M)||M==P)&&(M=f.width),(isNaN(r)||r==P)&&(r=f.height),H=i.dragCanvas=Se(P,!0),wr(H,M,r);var K=Ll(H);_l(K,0,0,1),_f(K,f,0,0,M,r),H.style.zIndex="100001",H.style.pointerEvents=wm,E.body.appendChild(H)}var H=i.dragCanvas,z=Zr(y);H.style.left=z.x+O+wc,H.style.top=z.y+u+wc;var d=i.dropView;if(!d)for(var b=rq(y);b&&(b.fireViewEvent({source:i.dragView,target:b,data:i.data,kind:"dragEnter",nativeEvent:y}),!(d=i.dropView));)b=b._parent||b.getStyleParent();if(d){d.getView().contains(Ig(y))?d.fireViewEvent({source:i.dragView,target:i.dropView,data:i.data,kind:"dragMove",nativeEvent:y}):(d.fireViewEvent({source:i.dragView,target:i.dropView,data:i.data,kind:"dragExit",nativeEvent:y}),delete i.dropView,d=P);var V=i.indicatorCanvas;if(V&&!d)E.body.removeChild(V),delete i.indicatorCanvas;else if(!V&&d&&i.cursor!==P){V=i.indicatorCanvas=Se(P,!0),wr(V,20,20);var K=Ll(V);_l(K,0,0,1);var R=i.cursor;R===x&&(R="drag_add"),_f(K,Xe(R),0,0,20,20),V.style.zIndex="100002",V.style.pointerEvents=wm,E.body.appendChild(V)}V&&(V.style.left=z.x+5+wc,V.style.top=z.y+5+wc)}},rf.handleWindowMouseUp=function(w){var b=rf.$220u,o=b.dragView,U=b.dropView;o&&o!==U&&o.fireViewEvent({source:o,target:U,data:b.data,kind:"dragCompleted",nativeEvent:w}),U&&U.fireViewEvent({source:o,target:U,data:b.data,kind:"dragCompleted",nativeEvent:w}),rf.$221u()},N.UIJSONSerializer=function(){},Mg("ht.ui.UIJSONSerializer",j,{isShipListeners:function(){return this._shipListeners},setShipListeners:function(x){this._shipListeners=x},serialize:function(L,l){return _.stringify(this.toJSON(L),l)},toJSON:function(I){var p=this;J.$341u=!0,p.refObjects=[];var V=p.json={v:_.getUIVersion(),r:{},c:P};return V.c=p.serializeClass(I),J.$341u=!1,p.refObjects.forEach(function(d){delete d.$232u}),delete p.refObjects,delete p.json,V},$300u:function(B){for(var h=B.getSelection(),l=B.getSelectionMode(),$=[],e=0;e<h.size();e++){var u=h.get(e);$.push({__i:u.getId()})}return{selectionMode:l,selection:$}},serializeClass:function($,k,b){var q=this;if($ instanceof J.DataModel){var Z=new J.JSONSerializer($);Z.isSerializable=function(L){return L.s("uiSerializable")===!1?!1:!0};var L=Z.serialize();$.$232u==P&&($.$232u=_.getId());var Y=$.$232u;return q.json.r[Y]={dataModel:L,selectionModel:q.$300u($.sm())},q.refObjects.push($),{__i:Y}}if($ instanceof J.SelectionModel)return q.$300u($);var L={},R=!1;if(L.type=$.getClassName(),L.p={},q.serializeProperties(L,$),$.getAttr&&(L.attr={},q.serializeAttrs(L,$)),R=b&&b.isRef?b.isRef($,k,q):q.isRef($,k,b)){$.$232u==P&&($.$232u=_.getId());var Y=$.$232u;return q.json.r[Y]=L,q.refObjects.push($),{__i:Y}}return L},isRef:function(n){return n instanceof N.drawable.Drawable||n instanceof N.border.Border||n instanceof N.Radios||n instanceof N.TableView||n instanceof N.TreeTableView||n instanceof N.ContextMenu?!0:void 0},isSameValue:Pq,serializeProperty:function(n,q,K){var H=this;if(n instanceof J.List){for(var c=[],j=0,U=n.size();U>j;j++){var k=n.get(j);k.getSerializableProperties?(k=H.serializeClass(k,q,K),c.push(k)):c.push(k)}n={__a:c}}else if(Gr(n)){for(var c=[],j=0,l=n.length;l>j;j++){var k=n[j];k.getSerializableProperties?(k=H.serializeClass(k,q,K),c.push(k)):c.push(k)}n=c}else n instanceof J.DataModel?n=H.serializeClass(n,q,K):n instanceof J.SelectionModel?n=H.serializeClass(n,q,K):n instanceof RegExp?n={__r:n.toString()}:n&&n.getSerializableProperties&&(n=H.serializeClass(n,q,K));return n},serializeProperties:function(m,T){if(this._shipListeners){var y=T._serializableListeners;y&&(m.listeners=_.stringify(y))}var c=T.getSerializableProperties();for(var r in c){var N=P;0===r.indexOf("is:")&&(N="is"),-1!==r.indexOf("Drawable",r.length-8)&&(N="get"),r=r.substr(r.indexOf(":")+1);var v=ij(r,N),U=T.getClass(),q=new U;if(T[v]){var u=T[v](),V=!1;u instanceof J.SelectionModel?T.isSelectionModelShared()||(V=!0):this.isSameValue(u,q[v]())||(V=!0),V&&(m.p[r]=T.serializeProperty?T.serializeProperty(u,r,this):this.serializeProperty(u,r,T))}}},serializeAttrs:function(D,c){var M=c.getSerializableAttrs();for(var K in M){var u=c.getClass(),e=new u,b=c.a(K),V=!1;this.isSameValue(b,e.a(K))||(V=!0),V&&(D.attr[K]=c.serializeProperty?c.serializeProperty(b,K,this):this.serializeProperty(b,K,c))}},$299u:function(l,f){var G;f instanceof J.DataModel?G=f.sm():(G=f.sm(),f=f.dm());for(var z=l.selection,k=[],p=0;p<z.length;p++){var q=z[p];k.push(f.$272u[q.__i])}G.setSelection(k),G.setSelectionMode(l.selectionMode)},deserializeClass:function(h,t,C){if(h.dataModel){var s=new J.DataModel,F=new J.JSONSerializer(s);return F.deserialize(h.dataModel,null,this.setDataId),s.$272u=F._82I,this.$299u(h.selectionModel,s),s}if(!h.selectionMode){if(h&&"object"==typeof h&&h.__i!=P)return h=this.refMap[h.__i];var S=h.type,X=_.getClass(S),T=new X;return T}this.$299u(h,C)},deserializeProperty:function(Q,c,$){var z=Q;if(Q&&Gr(Q.__a)){for(var u=new J.List,j=0,R=Q.__a.length;R>j;j++){var N=Q.__a[j];u.add(this.deserializeProperty(N,c,$))}z=u}else if(Gr(Q)){for(var m=[],j=0,R=Q.length;R>j;j++){var N=Q[j];m.push(this.deserializeProperty(N,c,$))}z=m}else if(Q&&"object"==typeof Q&&Q.type&&Q.p)z=this.deserializeClass(Q,c,$),this.deserializeProperties(z,Q.p),this.deserializeAttrs(z,Q.attr);else if(Q&&"object"==typeof Q&&Q.__r!=P){var Z=Q.__r,d=Z.replace(/.*\/([gimy]*)$/,"$1"),F=Z.replace(new RegExp("^/(.*?)/"+d+"$"),"$1");z=new RegExp(F,d)}else Q&&"object"==typeof Q&&Q.__i!=P?z=this.refMap[Q.__i]:Q&&"object"==typeof Q&&Q.selectionMode!=P&&(z=this.deserializeClass(Q,c,$));return z},deserializeAttrs:function(j,W){if(W)for(var c in W){var B;B=j.deserializeProperty?j.deserializeProperty(W[c],c,this):this.deserializeProperty(W[c],c,j),j.a(c,B)}},deserializeProperties:function(m,r){for(var M in r){var T;T=m.deserializeProperty?m.deserializeProperty(r[M],M,this):this.deserializeProperty(r[M],M,m),rc.setPropertyValue(m,P,M,T)}},deserialize:function(E,y){var b=this;b.refMap={},b.setDataId=y,b.dataModels=[],Gl(E)&&(E=_.parse(E));var A=E.r;for(var I in A){var r=A[I],Y=b.deserializeClass(r,I);b.refMap[I]=Y,Y instanceof J.DataModel&&b.dataModels.push(Y)}for(var I in A){var W=b.refMap[I];if(W instanceof J.DataModel);else{var o=A[I].p;b.deserializeProperties(W,o),b.deserializeAttrs(W,A[I].attr)}}var e=E.c,R=b.deserializeClass(e);if(b._shipListeners&&e.listeners){var s=_.parse(e.listeners);for(var I in s)R.on(I,s[I])}return b.deserializeProperties(R,e.p),b.deserializeAttrs(R,e.attr),b.dataModels.forEach(function(R){delete R.$272u}),delete b.dataModels,delete b.refMap,delete b.setDataId,R}}),N.Form=function(E){E&&this.setViewGroup(E)},Mg("ht.ui.Form",j,{ms_fire:!0,ms_ac:["viewGroup","formDataNameWarnDisabled"],addChangeListener:function($,D,c){var s=this;s.$273u||(s.$273u=new F),s.$273u.add($,D,c)},removeChangeListener:function(R,N){this.$273u&&this.$273u.remove(R,N)},fireChangeEvent:function(b){this.$273u&&this.$273u.fire(b)},isFormDataView:function(j){return j.getFormDataName&&j.getFormDataName()!=P?!0:void 0},getFormDataName:function(U){return U.getFormDataName(U)},getFormDataValue:function(D){return D.getFormDataValue()},onPropertyChanged:function(T){var w=this,d=T.property;if("viewGroup"===d){var h=T.oldValue;w.invalidateViewGroup(h)}},$295u:function(O){if(O.property===$c){var F=this;F.$298u(O.source),F.invalidateViewGroup(F.getViewGroup())}},$294u:function(m){"children"===m.property&&this.invalidateViewGroup(this.getViewGroup())},invalidateViewGroup:function(Z){var O=this;Z&&(O.$298u(Z),O._json!==x&&(O.$274u=O._json),delete O.$275u,delete O._json),O.$276u||(O.$276u=!0,Sn(O.$293u,O))},stopEditing:function(){for(var m=this,T=m.$275u,b=E.activeElement;b&&!b.htComp;)b=b.parentNode;var W;if(b&&(W=b.htComp),W)for(var C in T){var a=T[C];if(Array.isArray(a))for(var p=0,Y=a.length;Y>p;p++)W===a[p]&&a[p].stopFormEditing&&a[p].stopFormEditing();else W===a&&a.stopFormEditing&&a.stopFormEditing()}},$293u:function(){var t=this;if(t.$276u){var L=t.getViewGroup(),G=t.$274u;if(L&&(t._json={},t.$275u={},t.$297u(L),t.initJSON(L)),t.fireChangeEvent({kind:"jsonChange",newValue:t._json,oldValue:G,form:t}),!t.isFormDataNameWarnDisabled()){var h=t.$275u;if(h)a:for(var r in h){var b=h[r];if(Gr(b))for(var o=0,K=b.length;K>o;o++){var P=b[o];if(!(P instanceof N.ToggleButton)){console.warn("监测到重复的 formDataName: "+r+", 使用 setFormDataNameWarnDisabled(true) 关闭此警告");break a}}}}delete t.$274u,delete t.$276u}},$296u:function($){var E=this,y=$.source,r=$.property,a=!1;if("formDataName"===r&&(a=!0,delete E._json[$.oldValue]),a||y.getFormDataProperties()[r]&&!E._setOuter){var W=E.getFormDataName(y),Z=E.getValue(E.$275u[W]),N=E._json[W];Pq(Z,N)||(E._json[W]=Z,E.fireChangeEvent({kind:"formDataValueChange",view:y,name:W,newValue:E._json[W],oldValue:N,form:E}))}},$298u:function(S){var U=this;if(S.removePropertyChangeListener(U.$295u,U),S.removePropertyChangeListener(U.$296u,U),S.removePropertyChangeListener(U.$294u,U),S.getChildren)for(var e=S._children,B=e.size(),Q=0;B>Q;Q++){var l=e.get(Q);U.isFormDataView(l)&&(l.removePropertyChangeListener(U.$295u,U),l.removePropertyChangeListener(U.$296u,U)),l.getChildren&&U.$298u(l)}},$297u:function(K){var p=this,Q=p.$275u,N=K._children,J=N.size();K.addPropertyChangeListener(p.$295u,p),K.addPropertyChangeListener(p.$294u,p);for(var G=0;J>G;G++){var D=N.get(G),Y=p.isFormDataView(D);if(Y){var q=p.getFormDataName(D);Q[q]?Gr(Q[q])?Q[q].push(D):Q[q]=[Q[q],D]:Q[q]=D,D.addPropertyChangeListener(p.$295u,p),D.addPropertyChangeListener(p.$296u,p)}!Y&&D.getChildren&&p.$297u(D)}},getValue:function(S){var L,f=this,A=!1;if(Gr(S)){L=[];for(var H=0,i=S.length;i>H;H++){!A&&S[H]instanceof N.RadioButton&&(A=!0);var b=f.getFormDataValue(S[H]);b!==x&&L.push(b)}}else L=f.getFormDataValue(S);return A&&Gr(L)&&(L=L[0]),L},initJSON:function(){var I=this,k=I._json,f=I.$275u;for(var G in f){var p=f[G];k[G]=I.getValue(p)}},getFormViewMap:function(){var u=this,U=u.$275u;return U||(u.$293u(),U=u.$275u),U},getFormDataNames:function(){var d=this,B=d.$275u;return B?void 0:(d.$293u(),j.keys(d.$275u))},getFormView:function(D){var $=this,I=$.$275u;return I||($.$293u(),I=$.$275u),I?I[D]:void 0},getItem:function(Z){var O=this,J=O.getJSON();return Z?J[Z]:void 0},setItem:function(d,y){var Q=this,R=Q.$275u;if(R||(Q.$293u(),R=Q.$275u),R){Q._setOuter=!0;var C=R[d],I=Q._json[d];if(!C)return console.warn("ht.ui.Form#setItem: "+d+" 对应的组件不存在"),Q._setOuter=!1,void 0;if(Gr(C))for(var s=0,x=C.length;x>s;s++){var V=C[s];V instanceof N.ToggleButton?V.setFormDataValue(y):V.setFormDataValue(y[s])}else C.setFormDataValue(y);y=Q.getValue(C),Q._json[d]=y,Q.fireChangeEvent({kind:"formDataValueChange",view:C,name:d,newValue:Q._json[d],oldValue:I,form:Q,fromSetter:!0}),Q._setOuter=!1}},setJSON:function(X){if(X){Gl(X)&&(X=_.parse(X));var r=this,V=r.$275u;V||(r.$293u(),V=r.$275u),r._setOuter=!0;for(var f in V){var Y=V[f],P=X[f];if(Gr(Y))for(var Q=0,J=Y.length;J>Q;Q++){var R=Y[Q];R instanceof N.ToggleButton?R.setFormDataValue(P):R.setFormDataValue(P&&P[Q])}else Y.setFormDataValue(P)}var A=r._json;r._json=X,r.fireChangeEvent({kind:"jsonChange",newValue:X,oldValue:A,form:r,fromSetter:!0}),r._setOuter=!1}},getJSON:function(){var Q=this,d=Q._json;return d==P&&Q.$293u(),this._json}});var js=function(w){w=w.trim(),w=w.replace(/\n+/,"\n");for(var p=w.split(/\s+/),K=0,N=0;N<p.length;N++){var e=p[N];if(e.indexOf(">")>0)for(var b=e.split(">"),r=0;r<b.length;r++){var f=b[r],C=f.indexOf("&"),z=f.indexOf(":nth-child(");if(z>=0&&(K+=10),0===C){var M=f.split("&").length-1;K+=10*M}else if(C>0){var M=f.split("&").length-1;K+=10*M+1}else K+=1}else{var E=e.indexOf(":nth-child(");E>=0&&(K+=10);var Z=e.indexOf("&");if(0===Z){var M=e.split("&").length-1;K+=10*M}else if(Z>0){var M=e.split("&").length-1;K+=10*M+1}else K+=1}}return K};!function(){var c=function(V,A,z){var M=new XMLHttpRequest;M.overrideMimeType("text/plain"),M.open("GET",V,z),M.onload=function(K){(200===this.status||0===this.status)&&A(K.target.response)},M.onerror=function(z){console.error(z)},M.send(P)},F=function(U){for(var n,W=/^\s*@import\((.*)\).*$/gm;n=W.exec(U);){var g=n[0],Y=n[1];c(Y,function(R){R=F(R),R=R.trim();var Z=R.length;0===R.indexOf("({")&&R.indexOf("})")===Z-2&&(R=R.substring(2,Z-2),R=R.trim(),","!==R[R.length-1]&&(R+=",")),U=U.replace(g,R)},!1)}return U||""},v=function(U,_){var e,H=/^\s*@import\((.*)\).*$/gm;if(e=H.exec(U)){var S=e[0],L=e[1];c(L,function(u){u=u.trim();var d=u.length;0===u.indexOf("({")&&u.indexOf("})")===d-2&&(u=u.substring(2,d-2),u=u.trim(),","!==u[u.length-1]&&(u+=",")),U=U.replace(S,u),v(U,_)},!0)}else _(U||"")},G=function(K,$,g,O){for(var f=j.keys(O),Q=0,l=f.length;l>Q;Q++){var E,i=f[Q],q=O[i];if(0===i.indexOf("v:")&&(i=i.substr(2),E=!0),E||q==P||"object"!=typeof q||"layoutParams"===i||i===nd||"dropDownConfig"===i||i===kh||i===Th||Gr(q)||q.getSuperClass)g[i]=q;else{var g={},u=$?$+" "+i:i;K[u]=g,G(K,u,g,q)}}},o=function(k){if(k){kc&&kc.Default&&kc.Default.parseUIStyle&&(k=kc.Default.parseUIStyle(k)),k=F(k);var C={};return G(C,P,C,eval(k)),C}},C=function(u,_){u&&(kc&&kc.Default&&kc.Default.parseUIStyle&&(u=kc.Default.parseUIStyle(u)),v(u,function(u){var U={};G(U,P,U,eval(u)),_(U)}))};if(r.document){var R=[o("var inputStyle = 'div.ht_ui_view ::-webkit-input-placeholder {     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view ::-moz-placeholder {     /* Mozilla Firefox 19+ */     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view :-ms-input-placeholder {     /* Internet Explorer 10+ */     color: ' + ht.ui.uiTheme.placeholderTextColor + '; } div.ht_ui_view textarea::selection, div.ht_ui_view input::selection {     color: #fff;     background: ' + ht.ui.uiTheme.baseColor + ' } div.ht_ui_view textarea::-moz-selection, div.ht_ui_view input::-moz-selection {     color: #fff;     background: ' + ht.ui.uiTheme.baseColor + ' }';  var styleTag = document.createElement('style'); if (styleTag.styleSheet) {     styleTag.styleSheet.cssText = inputStyle; } else {     styleTag.appendChild(document.createTextNode(inputStyle)); } document.getElementsByTagName('head')[0].appendChild(styleTag);  var minorButtonStyle = {     background: '#FFF',     hoverBackground: ht.ui.uiTheme.hoverBackground,     activeBackground: ht.ui.uiTheme.activeBackground,     textColor: ht.ui.uiTheme.textColor,     hoverTextColor: ht.ui.uiTheme.textColor,     activeTextColor: ht.ui.uiTheme.textColor,     border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.borderColor) };  var obviousButtonStyle = {     background: ht.ui.uiTheme.baseColor,     hoverBackground: ht.ui.uiTheme.hoverColor,     activeBackground: ht.ui.uiTheme.activeColor,     textColor: '#FFF',     hoverTextColor: '#FFF',     activeTextColor: '#FFF',     border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.baseColor) };  ({     '&button-warn': {         background: null,         hoverBackground: ht.ui.uiTheme.hoverBackground,         activeBackground: ht.ui.uiTheme.activeBackground,         textColor: '#FF0033',         hoverTextColor: '#FF0033',         activeTextColor: '#FF0033',         border: new ht.ui.border.LineBorder(1, '#FF0033')     },     '&button-obvious': obviousButtonStyle,     '&button-minor': minorButtonStyle,     '&breadcrumb-arrow': {         itemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor],         hoverItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.hoverBackground],         activeItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.activeBackground],         selectItemBackground: ['ht.ui.drawable.BreadcrumbItemBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.baseColor],         itemGap: -6,         selectItemTextColor: '#fff',         itemPadding: [6, 16, 6, 16],         separator: null     },     '&buttongroup>ht.ui.Button*,ht.ui.HButtonGroup>ht.ui.Button*,ht.ui.VButtonGroup>ht.ui.Button*': {         padding: [5, 17, 5, 17],         disabledBackground: ['ht.ui.drawable.GroupButtonBackgroundDrawable', ht.ui.uiTheme.dimColor, '#fff'],         background: ['ht.ui.drawable.GroupButtonBackgroundDrawable', ht.ui.uiTheme.baseColor, '#fff'],         hoverBackground: ['ht.ui.drawable.GroupButtonBackgroundDrawable', ht.ui.uiTheme.baseColor, '#f7f7f7'],         activeBackground: ['ht.ui.drawable.GroupButtonBackgroundDrawable', ht.ui.uiTheme.baseColor, '#ebebeb'],         selectBackground: ['ht.ui.drawable.GroupButtonBackgroundDrawable', ht.ui.uiTheme.baseColor, ht.ui.uiTheme.baseColor],         selectHoverBackground: null,         selectActiveBackground: null,         textColor: ht.ui.uiTheme.baseColor,         hoverTextColor: ht.ui.uiTheme.baseColor,         activeTextColor: ht.ui.uiTheme.baseColor,         selectTextColor: '#fff',         disabledTextColor: ht.ui.uiTheme.textDimColor,         preferredSize: null,         border: null,         disabledBorder: null,     },     'ht.ui.HButtonGroup>ht.ui.RadioButton*,ht.ui.VButtonGroup>ht.ui.RadioButton*': {         background: undefined,         hoverBackground: undefined,         activeBackground: undefined,         disabledBackground: undefined,         selectBackground: undefined,         selectDisabledBackground: undefined,         selectHoverBackground: undefined,         selectActiveBackground: undefined,          textColor: ht.ui.uiTheme.textColor,         hoverTextColor: ht.ui.uiTheme.textColor,         activeTextColor: ht.ui.uiTheme.textColor,         selectTextColor: ht.ui.uiTheme.textColor     },     '&progressbar-thin': {         preferredSize: {             width: 120,             height: 2         }     },     '&textfield-search': {         border: new ht.ui.border.LineBorder(1, ht.ui.uiTheme.borderColor),         icon: 'propertypane_search',         iconPosition: 'right'     },     '&tablayout-line-outside': {         titleColor: ht.ui.uiTheme.textColor,         activeTitleColor: ht.ui.uiTheme.baseColor,         tabBackground: null,         hoverTabBackground: ['ht.ui.drawable.ColorDrawable', ht.ui.uiTheme.hoverBackground],         activeTabBackground: ['ht.ui.drawable.TabBackgroundLineDrawable', 2, ht.ui.uiTheme.baseColor, 'outside'],         moveTabBackground: ['ht.ui.drawable.TabBackgroundLineDrawable', 2, ht.ui.uiTheme.baseColor, 'outside']     },     '&tablayout-buttongroup': {         tabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor],         hoverTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.hoverBackground],         activeTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, ht.ui.uiTheme.baseColor],         moveTabBackground: ['ht.ui.drawable.TabBackgroundDrawable', 1, ht.ui.uiTheme.baseColor, '#fff'],         activeTitleColor: '#fff',         titleColor: ht.ui.uiTheme.baseColor,         tabHeaderLineSize: 0     } })")],n=r.htconfig&&r.htconfig.extendedUIStyles,i=r.document.querySelectorAll('link[rel="ht-style"]'),D=r.document.querySelectorAll('script[rel="ht-style"]');
n&&(lg(n)&&(n=n()),R.push(n));for(var K=0;K<i.length;K++){var O=i[K],m=O.href;try{c(m,function(w){var $=o(w);$&&R.push($)},!1)}catch(h){console.error(h)}}for(var K=0;K<D.length;K++){var b=D[K];try{var $=b.innerHTML,b=o($);b&&R.push(b)}catch(h){console.error(h)}}var J=function(n){for(var $=0;$<n.length;$++){var F=n[$];for(var G in F)if(G.indexOf(",")<0){var p=js(G);j.defineProperty(F[G],"_priority",{value:p,enumerable:!1})}}};J(R);var T=!1,e=function(){T||(T=!0,Sn(function(){N()}))},N=function(){for(var v=E.querySelectorAll("div.ht_ui_view"),w=[],O=0,y=v.length;y>O;O++){var u=v[O],q=u.htComp;if(q)for(;q;){var j=q._parent;if(!j){w.indexOf(q)<0&&w.push(q);break}q=j}}for(var O=0,y=w.length;y>O;O++){var Q=w[O];Q.refreshStyles()}Y++,T=!1};pq(_,{uiStyles:R,loadUIStyle:function(B,P,H){var a=_.loadedUIStyles;a||(_.loadedUIStyles=a={});try{a[B]={};var Z=!0,b=!0;P&&(b=!1,H?c(Gl(P)?P:P.style,function(O){C(O,function(A){A&&(J([A]),a[B].style=A,b=!0,Z&&b&&H&&H())})},!0):C(P,function(z){z&&(J([z]),a[B].style=z)}))}catch(E){console.error(E)}},removeLoadedUIStyle:function($){var S=_.loadedUIStyles;S&&S[$]&&(delete S[$],0===j.keys(S).length&&(_.loadedUIStyles=P))},clearLoadedUIStyles:function(){_.loadedUIStyles=P},getLoadedUIStyle:function(t){var P=_.loadedUIStyles;return P?P[t]:void 0},invalidateUIStyles:e})}}()}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);