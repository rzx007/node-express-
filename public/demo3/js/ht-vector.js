this.ht=this.ht||{},this.ht.vector=function(){"use strict";var ne="top",le="bottom",he="right",se="left",ge="center",fe="middle",l="multiple",s="single",b="radio",k="checkbox",_="x",X="y",G="HT2018-11",p="category",E="time",ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)};function u(e){this.value=e}function e(a){var r,n;function l(e,t){try{var i=a[e](t),o=i.value;o instanceof u?Promise.resolve(o.value).then(function(e){l("next",e)},function(e){l("throw",e)}):h(i.done?"return":"normal",i.value)}catch(e){h("throw",e)}}function h(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):n=null}this._invoke=function(o,a){return new Promise(function(e,t){var i={key:o,arg:a,resolve:e,reject:t,next:null};n?n=n.next=i:(r=n=i,l(o,a))})},"function"!=typeof a.return&&(this.return=void 0)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=ht.Default,K=a.drawText,Z=a.drawStretchImage,$=a.getImage,q=[2,8],r=ht.Default,re=r.drawText,ue=r.drawStretchImage,ce=r.getImage,ke={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ee=ht.Default.drawText,f={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"},d=/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,g=/^[rR][gG][Bb][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?))\)$/,v=/^[rR][gG][Bb][Aa][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){3}(0\.\d{1,22}|1|0)?[\)]{1}$/,y=(t(x,[{key:"setColor",value:function(e,t,i,o){if(e&&!t)if(e=e.replace(/\s+/g,""),d.test(e))4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[3],16),this.b=parseInt(e[3]+e[3],16)):7===e.length&&(this.r=parseInt(e.substring(1,3),16),this.g=parseInt(e.substring(3,5),16),this.b=parseInt(e.substring(5,7),16));else if(g.test(e)){var a=(e=e.replace(/[rRgGbB\(\)\s]*/g,"")).split(",");this.r=parseInt(a[0]),this.g=parseInt(a[1]),this.b=parseInt(a[2])}else if(v.test(e)){var r=(e=e.replace(/[rRgGbBaA\(\)\s]*/g,"")).split(",");this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=parseFloat(r[3])}}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),x);function x(e,t,i,o){h(this,x),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}function Y(e,t){return e<=1?t*e:e}function U(e,t){return t?(e-Ve)/oe*ae+be:me-(e-Ve)/oe*ae}function de(e,t){return e<1?t*e:e}var m=ht.Default,j=m.drawText,z=m.drawStretchImage,J=m.getImage,Q="#ffffff",te="#cccccc",ie=new y,w=ht.Default,ve=w.drawText,pe=w.drawStretchImage,xe=w.getImage,oe=void 0,ae=void 0,be=void 0,me=void 0,Ce=void 0,Ve=void 0,_e=ht.Default.drawText,C=Math.max,V=Math.min,I=ht.Default,T=I.containsPoint,R=I.drawRoundRect;function Lt(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,h=t.x,s=t.y,u=t.width,c=t.height,d=i.width,g=i.height,f=o.x,v=o.y,p=void 0,y=void 0,x=null,b=null,m=void 0,w=void 0,k=n.color,C=void 0===k?"red":k,V=n.barWidth,_=void 0===V?8:V,I=n.gap,T=void 0===I?2:I,D=n.visible;if(e.save(),c<g){var S=c*(w=c/g);b=[h+u-_-T,s+-v*w,_,Math.max(S,4)],y=c-g,D&&(e.beginPath(),R.apply(void 0,[e].concat(Pe(b),[Math.min(_,S)/2])),e.fillStyle=C,e.fill())}if(u<d-2){var L=u*(m=u/d);x=[h+-f*m,s+c-_-T,Math.max(L,4),_],p=u-d,D&&(e.beginPath(),R.apply(void 0,[e].concat(Pe(x),[Math.min(_,L)/2])),e.fillStyle=C,e.fill())}l.scrollInfo={scrollBarX:x,scrollBarY:b,scaleX:m,scaleY:w,minX:p,minY:y},e.restore()}function N(e,t,i,o,a,r,n){var l=ha(e,"translateY"),h=ha(e,"translateX"),s=Qo(i,t,e),u=ea(i,t,e),c=u.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,d=u.scrollInfo;if(d){var g=d.minX,f=d.minY,v=d.scrollBarX,p=d.scrollBarY,y=d.scaleX,x=d.scaleY,b=void 0,m={x:o.x+s.rect.x,y:o.y+s.rect.y};if(v){var w=(c-(v=Jo(v)).height)/2;v.y-=w,v.height=c}if(p){var k=(c-(p=Jo(p)).width)/2;p.x-=k,p.width=c}if(v&&h&&T(v,m))b={downPoint:o,startX:t.a(h)||0,scaleX:y,minX:g,axis:_};else if(p&&l&&T(p,m))b={downPoint:o,startY:t.a(l)||0,scaleY:x,minY:f,axis:X};else{var C=u.headHeight,V={x:0,y:C,width:a,height:r-C};!n&&u.pannable&&T(V,o)&&(v||p)&&(b={downPoint:o,scaleX:y,minX:g,scaleY:x,minY:f,isPan:!0},v&&h&&(b.startX=t.a(h)||0,b.scaleX=y,b.minX=g),p&&l&&(b.startY=t.a(l)||0,b.scaleY=x,b.minY=f))}return b}}function D(e,t,i,o,a,r){var n=ea(i,t,this),l=N(this,t,i,o,a,r);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function S(e,g,t,f,i,o){var v=ea(t,g,this),p=v._scrollDragInfo,y=ha(this,"translateY"),x=ha(this,"translateX");v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===_){var s=a+(o.x-f.x)/n;s=V(0,s),s=C(t,s),x&&g.a(x,s)}else if(e===X){var u=r+(o.y-f.y)/l;u=V(0,u),u=C(i,u),y&&g.a(y,u)}else if(h){if(void 0!==a){var c=a+(f.x-o.x);c=V(0,c),c=C(t,c),x&&g.a(x,c)}if(void 0!==r){var d=r+(f.y-o.y);d=V(0,d),d=C(i,d),y&&g.a(y,d)}}}delete v._dragTimer},10))}function L(e,t,i,o,a,r){var n=ea(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,B(t,n)),delete n._scrollDragInfo}}function P(e,t,i,o,a,r){var n=ea(i,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=ha(this,"translateY"),u=ha(this,"translateX");if(l){var c=l.scrollBarX,d=l.scrollBarY,g=l.minX,f=l.minY,v=(e.wheelDeltaX||0)/40*5*h,p=(e.wheelDeltaY||0)/40*5*h,y=!1;if(d&&s&&p){var x=(t.a(s)||0)+p;x=V(0,x),x=C(f,x),t.a(s,x),y=!0}if(c&&u&&v){var b=(t.a(u)||0)+v;b=V(0,b),b=C(g,b),t.a(u,b),y=!0}if(!y&&c&&!d&&u&&p){var m=(t.a(u)||0)+p;m=V(0,m),m=C(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(c||d)&&w&&(n.scrollBarVisible=!0,B(t,n))}}function B(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var A=ht.Default,Be=A.drawText,Ee=A.drawStretchImage,Ae=A.getImage,Me=A.drawBorder,Oe=A.intersectsRect,He=/\n/g;var F=ht.Default.drawText,M=ht.Default,W=M.drawRoundRect,Ie=M.drawImage,O=ht.Default,Te=O.drawRoundRect,De=O.drawImage,H=ht.Default,Se=H.drawRoundRect,Le=H.drawText,Re=H.createGradient,Rt=(t(We,[{key:"addExitChildsMapById",value:function(e,t){this._exitChildsMap[e]||(this._exitChildsMap[e]=t)}},{key:"getExitChildsMapById",value:function(e){return this._exitChildsMap[e]}},{key:"clearExitChildsMap",value:function(){this._exitChildsMap={}}},{key:"traverseExitChildsMap",value:function(e){var t=this._exitChildsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildsMapById",value:function(e,t){this._childsMap[e]||(this._childsMap[e]=t)}},{key:"getChildMapById",value:function(e){return this._childsMap[e]}},{key:"removeChildMapById",value:function(e){delete this._childsMap[e]}},{key:"clearChildsMap",value:function(){this._childsMap={}}},{key:"traverseChildsMap",value:function(e){var t=this._childsMap;for(var i in t)"function"==typeof e&&e(i,t[i])}},{key:"addChildren",value:function(e){this.children.push(e)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"expandAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!0)}),this.data.iv()}},{key:"collapseAll",value:function(){this.traverseByBreadthFirst(function(e){0<e.children.length&&(e.expanded=!1)}),this.data.iv()}},{key:"checkAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!0,e._checkStatus="check"}),this.data.iv()}},{key:"unCheckAll",value:function(){this.traverseByBreadthFirst(function(e){e.checked=!1,e._checkStatus="unCheck"}),this.data.iv()}},{key:"disableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!0}),this.data.iv()}},{key:"enableAll",value:function(){this.traverseByBreadthFirst(function(e){e.disabled=!1}),this.data.iv()}},{key:"getSelected",value:function(){return this.filterByBreadthFirst(function(e){return e.selected})}},{key:"getUnselected",value:function(){return this.filterByBreadthFirst(function(e){return!e.selected})}},{key:"getExpanded",value:function(){return this.filterByBreadthFirst(function(e){return e.expanded})}},{key:"getCollapsed",value:function(){return this.filterByBreadthFirst(function(e){return!e.expanded})}},{key:"getChecked",value:function(){return this.filterByBreadthFirst(function(e){return e.checked})}},{key:"getUnChecked",value:function(){return this.filterByBreadthFirst(function(e){return!e.checked})}},{key:"getEnabled",value:function(){return this.filterByBreadthFirst(function(e){return!e.disabled})}},{key:"getDisabled",value:function(){return this.filterByBreadthFirst(function(e){return e.disabled})}},{key:"filterByDepthFirst",value:function(e){for(var t=[],i=this.children,o=[],a=i.length-1;0<=a;a--)o.push(i[a]);for(;0!=o.length;){var r=o.pop();e(r)&&t.push(r);for(var n=r.children,l=n.length-1;0<=l;l--)o.push(n[l])}return t}},{key:"traverseByDepthFirst",value:function(e){for(var t=this.children,i=[],o=t.length-1;0<=o;o--)i.push(t[o]);for(;0!=i.length;){var a=i.pop();e(a);for(var r=a.children,n=r.length-1;0<=n;n--)i.push(r[n])}}},{key:"filterByBreadthFirst",value:function(e){for(var t=[].concat(this.children),i=[];0<t.length;){var o=t.shift(),a=o.children;t=t.concat(a),e(o)&&i.push(o)}return i}},{key:"traverseByBreadthFirst",value:function(e){for(var t=[].concat(this.children);0<t.length;){var i=t.shift(),o=i.children;t=t.concat(o),"function"==typeof e&&e(i)}}}]),We);function We(e){h(this,We),this.data=e,this.children=[],this._childsMap={},this._exitChildsMap={}}var Fe=(t(Ne,[{key:"getSiblings",value:function(){var e=this.parent.children,t=e.indexOf(this);return e.slice(0,t).concat(e.slice(t+1,e.length))}},{key:"getPreSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getNextSibling",value:function(){var e=this.parent.children,t=e.indexOf(this)+1;return t===e.length?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t);)t=t.getPreSibling();return t&&e(t)?t:null}},{key:"setParent",value:function(e){if(this.parent){var t=this.parent.children;t.splice(t.indexOf(this),1)}this.parent=e,this.parent.addChildren(this)}},{key:"addChildren",value:function(e){if(e instanceof Ne)this.children.push(e);else if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)Bt(e[t],this)}},{key:"removeChildren",value:function(e){var t=this.children;t.splice(t.indexOf(e),1),e.destory()}},{key:"checkAfter",value:function(){var e=this.checked,t=this.children;this._checkStatus=e?"check":"unCheck";for(var i=0,o=t.length;i<o;i++){var a=t[i];a.checked=e,a._checkStatus=e?"check":"unCheck",a.checkAfter()}}},{key:"checkBefore",value:function(){var e=this.parent;if(e&&!(e instanceof Rt)){for(var t=e.children,i=0,o=!1,a=0;a<t.length;a++)t[a].checked&&i++,"unCheckAll"===t[a]._checkStatus&&(o=!0);i===t.length?(e.checked=!0,e._checkStatus="check"):0!==i||o?(e.checked=!1,e._checkStatus="unCheckAll"):(e.checked=!1,e._checkStatus="unCheck"),e.checkBefore()}}},{key:"destory",value:function(){this.rootTree=null,this.dataInfo=null}}]),Ne);function Ne(e,t){h(this,Ne),Object.assign(this,Object.assign({text:"Tree",icon:null,children:[],badges:[],expanded:!1,selected:!1,disabled:!1,checked:!1,isLeaf:!1,_isHovering:!1,_isLoading:!1,_treeItemRect:{},_elementRect:{}},e)),this.children=[],this.rootTree=t}function Pt(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}}function je(e,t,i,o){for(var a=[],r=0,n=Mo(i,"图"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+o)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a}function Ge(e,t,i,o,a,r){return t?r:tt===e?o||i:e===it&&a||i}function ze(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}function Ye(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}var Bt=function e(t,i){var o=i instanceof Fe?i.rootTree:i,a=t.id,r=t.text,n=t.icon,l=t.badges,h=t.expanded,s=t.selected,u=t.disabled,c=t.checked,d=t.isLeaf,g=t.children,f=o.getChildMapById(a);if(!o.getExitChildsMapById(a)){if(void 0===a&&(a=Sa(),t.id=a),f){var v=f.dataInfo,p=v.text,y=v.icon,x=v.badges,b=v.isLeaf,m=v.expanded,w=v.selected,k=v.disabled,C=v.checked;r!==p&&(f.text=void 0===r?"Tree":r),n!==y&&(f.icon=void 0===n?null:n),l!==x&&(f.badges=void 0===l?[]:l),d!==b&&(f.isLeaf=void 0!==d&&d),h!==m&&(f.expanded=void 0!==h&&h),s!==w&&(f.selected=void 0!==s&&s),u!==k&&(f.disabled=void 0!==u&&u),c!==C&&(f.checked=void 0!==c&&c)}else f=new Fe(t,o),o.addChildsMapById(a,this);if(f._checkStatus="unCheck",f.setParent(i),o.removeChildMapById(a),o.addExitChildsMapById(a,f),f.dataInfo=t,h&&g instanceof Array&&0<g.length)for(var V=0,_=g.length;V<_;V++)e(g[V],f);return f}},Et=function(e){var t=e.showCheckbox,i=e.showIcon,o=e.expandIconSize,a=e.iconSize,r=e.checkIconSize,n=e.space,l=o+n;return i&&(l+=a+n),t&&(l+=r+n),l},Xe=ht.Default,At=Xe.drawStretchImage,Mt=Xe.getImage,Ot=Xe.intersectsRect,Ht=Xe.drawRoundRect,Ue=ht.Default,Ke=Ue.drawText,Ze=Ue.drawStretchImage,$e=Ue.getImage,qe={},Je=ht.Default,Qe=Je.drawText,et=Je.drawRoundRect,tt=void 0,it=void 0,ot=(t(at,[{key:"onClick",value:function(e,t,i,o,a,r){}},{key:"onDoubleClick",value:function(e,t,i,o,a,r){}},{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onUp",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onHover",value:function(e,t,i,o,a,r){}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){}},{key:"onDrag",value:function(e,t,i,o,a,r){}},{key:"onEndDrag",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){}}]),at);function at(){h(this,at)}var rt=(i(nt,ot),t(nt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?na(i,"not-allowed"):na(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=ea(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.wordBreak,g=n.selectTextOnFocus,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,x=n.lineHeight,b=Wo("textarea"),m=b.style,w=ha(this,"value"),k=Oo(f),C=we(k,4),V=C[0],_=C[1],I=C[2],T=C[3];m.color=c,m.font=l,m.paddingTop=V+"px",m.paddingRight=_+"px",m.paddingBottom=I+"px",m.paddingLeft=2+T+"px",m.textAlign=s,m.resize="none",m.overflow="hidden",m.lineHeight=x+"px",m.wordBreak=d?"break-all":"keep-word",b.value=h||"",u&&b.setAttribute("maxlength",u),r.appendHTML(b);var D=Qo(r,a,this);D&&Fo(r,b,D),n.editing=!0,n.editingValue=h,n.inputDOM=b,a.iv();var S=function(e){Fo(r,b,D)},L=function e(t){var i=b.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),ia(a,r,b,n,w),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=L,setTimeout(function(){g&&b.addEventListener("focus",function(e){b.select()}),b.focus(),r.mp(S);var t=null;b.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=b.value,a.a(w,b.value)},10),9===e.keyCode&&(ia(a,r,b,n,w),r.getView().removeEventListener("mousedown",L),r.getView().removeEventListener("touchstart",L)),v&&v(e,a,r)}),(p||y)&&b.addEventListener("keyup",function(e){p&&p(e,a,r),y&&y(b.value,a,r)}),r.getView().addEventListener("mousedown",L),r.getView().addEventListener("touchstart",L)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=ha(this,"value");n.editing&&n.inputDOM&&(ia(t,i,n.inputDOM,n,l),i.getView().removeEventListener("mousedown",n.handleWindowClick),i.getView().removeEventListener("touchstart",n.handleWindowClick))}}]),nt);function nt(){return h(this,nt),c(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this))}var lt=(i(st,ot),t(st,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?na(i,"not-allowed"):na(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,n.defaultCursor||"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=ea(r,a,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,c=n.textColor,d=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,x=n.selectTextOnFocus,b=a.getAnchorRect(),m=Wo(),w=c||ke.textColor,k=m.style,C=ha(this,"value"),V=Oo(f),_=we(V,4),I=_[0],T=_[1],D=_[2],S=_[3];d&&(m.type=d),k.color=w,k.font=l,k.paddingTop=I+"px",k.paddingRight=T+"px",k.paddingBottom=D+"px",k.paddingLeft=2+S+"px",k.lineHeight=b.height+"px",k.textAlign=s,m.value=h||"",m.spellcheck=!1,u&&m.setAttribute("maxlength",u),r.appendHTML(m);var L=Qo(r,a,this);L&&Fo(r,m,L),n.editing=!0,n.editingValue=h,a.iv();var R=function(e){Fo(r,m,L)},P=function e(t){var i=m.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),ia(a,r,m,n,C),r.ump(R),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){x&&m.addEventListener("focus",function(e){m.select()}),m.focus(),r.mp(R);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,a.a(C,m.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(ia(a,r,m,n,C),r.getView().removeEventListener("mousedown",P),r.getView().removeEventListener("touchstart",P)),v&&v(e,a,r)}),(p||y)&&m.addEventListener("keyup",function(e){p&&p(e,a,r),y&&y(m.value,a,r)}),r.getView().addEventListener("mousedown",P),r.getView().addEventListener("touchstart",P)},1)}}},{key:"onDrag",value:function(e,t,i,o,a,r){}}]),st);function st(){return h(this,st),c(this,(st.__proto__||Object.getPrototypeOf(st)).call(this))}function ut(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);aa(n)||(l=Math.min(l,n)),aa(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),t.getView().removeChild(i)}var ct=ht.Default.containsPoint,dt=(i(gt,ot),t(gt,[{key:"onEnter",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?na(i,"not-allowed"):na(i,"text")}},{key:"onLeave",value:function(e,t,i,o,a,r){na(i,"default")}},{key:"onDown",value:function(e,a,r,t,i,o){var n=ea(r,a,this),l=Qo(r,a,this),h=n.buttonRects,s=n.onKeyDown,u=n.onKeyUp,c=n.onChange,d=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(ct(h[0],f)||ct(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,y=ha(this,"value");if(!y)return;var x=n.dom&&n.dom.value||a.a(y)||d||0,b=void 0;ct(h[0],f)?(b=sa(parseFloat(x),p),aa(g)||(b=Math.min(b,g))):(b=ua(parseFloat(x),p),aa(d)||(b=Math.max(b,d))),n.editing?(n.editingValue=n.dom.value=b,a.iv()):a.a(y,b),c&&x!==b&&c(b,a,r)}}else{var m=n.font,w=n.value,k=n.textAlign,C=n.maxLength,V=n.textColor,_=n.enterEndInputable,I=n.padding,T=n.selectTextOnFocus,D=a.getAnchorRect(),S=Wo(),L=V||ke.textColor,R=S.style,P=ha(this,"value"),B=Oo(I),E=we(B,4),A=E[0],M=E[1],O=E[2],H=E[3];R.color=L,R.font=m,R.paddingTop=A+"px",R.paddingRight=M+"px",R.paddingBottom=O+"px",R.paddingLeft=2+H+"px",R.lineHeight=D.height+"px",R.textAlign=k,S.value=w||"",S.spellcheck=!1,C&&S.setAttribute("maxlength",C),r.appendHTML(S);var W=Qo(r,a,this);W&&Fo(r,S,W),n.editing=!0,n.editingValue=w,n.dom=S,a.iv();var F=function(e){Fo(r,S,W)},N=function e(t){var i=S.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),ut(a,r,S,n,P,d,g),r.ump(F),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){T&&S.addEventListener("focus",function(e){S.select()}),S.focus(),r.mp(F);var t=null;S.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=S.value,P){var e=parseFloat(S.value);aa(g)||(e=Math.min(e,g)),aa(d)||(e=Math.max(e,d)),a.a(P,e)}},10),(9===e.keyCode||_&&ht.Default.isEnter(e))&&(ut(a,r,S,n,P,d,g),r.getView().removeEventListener("mousedown",N),r.getView().removeEventListener("touchstart",N)),s&&s(e,a,r)}),S.addEventListener("keyup",function(e){u&&u(e,a,r),c&&c(parseFloat(S.value),a,r)}),S.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",N),r.getView().addEventListener("touchstart",N)},1)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=Qo(i,t,this),h=n.buttonRects,s={x:o.x+l.rect.x,y:o.y+l.rect.y},u="text";n.disabled?u="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(u="pointer"),na(i,u),n.dom&&(n.dom.style.cursor=u)}}]),gt);function gt(){return h(this,gt),c(this,(gt.__proto__||Object.getPrototypeOf(gt)).call(this))}var ft=(i(vt,ot),t(vt,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.defaultCursor=i.getView().style.cursor,n.disabled?na(i,"not-allowed"):na(i,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),vt);function vt(){return h(this,vt),c(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this))}var pt=(i(yt,ft),t(yt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),yt);function yt(){return h(this,yt),c(this,(yt.__proto__||Object.getPrototypeOf(yt)).call(this))}var xt=(i(bt,ft),t(bt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.disabled,h=(n.pressed,ha(this,"checked")),s=ha(this,"group");if(!l){delete n.pressed,t.iv();var u=n.value,c=n.onChange,d=n.group;if(!t.a(h)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(h);i&&i.dm()&&!g&&d&&i.dm().each(function(e){d===e.a(s)&&e.a(h,!1)}),t.a(h,!0),c&&c(void 0===u||u,t,i)}}}}]),bt);function bt(){return h(this,bt),c(this,(bt.__proto__||Object.getPrototypeOf(bt)).call(this))}var mt=(i(wt,ft),t(wt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.disabled,h=n.pressed,s=ha(this,"checked"),u=ha(this,"group"),c=ha(this,"value");if(!l){t.a(h,!1),t.iv(),n.value;var d=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(s);if(t.a(s,!f),g)if(d){var v=[];i.dm().each(function(e){d===e.a(u)&&e.a(s)&&v.push(e.a(c))}),g(v,t,i)}else g(!f,t,i)}}}}]),wt);function wt(){return h(this,wt),c(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this))}var kt=(t(Ct,[{key:"init",value:function(){var e=this;this._initing=!0;var t=this.data,i=this.graph,o=(i.getZoom(),i.tx(),i.ty(),this.value),a=new this.dropDownClazz,r=a._dropDownView=a.initDropDownView(t,this.getDatas(),o);a.getDropDownView=function(){return r},r.on("d:click",function(e){e.stopPropagation()}),r.on("d:mousedown",function(e){e.stopPropagation()}),r.on("d:mousewheel",function(e){e.stopPropagation()}),r.on("d:mousemove",function(e){e.stopPropagation()}),this._dropDown=a,this._dropDownView=r,this.onInit(a,r),t.getWidth(),t.getHeight();var n=da(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(a,r,{left:n.x,top:n.y,width:n.widht,height:n.height}),document.body.appendChild(r.getView()),a.addValueChangeListener(this.handleDropDownValueChange,this),a.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){e.registerCloseEvent(e._documentClickHandler)},100),a.afterOpen(o),r.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unregisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView;if(a){var r=t.getWidth(),n=t.getHeight(),l=i.tx(),h=i.ty(),s=i.getZoom(),u={x:t.getX()*s+l-r*t.getAnchor().x,y:t.getY()*s+h-n*t.getAnchor().y,width:r,height:n},c=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(u,ht.Default.getClientPoint(e))||c||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,i=t._dropDown,o=t._dropDownView;if(i){if(i.beforeClose(),"stop"===e.kind){var a=i.getDropDownValue();void 0!==a&&(this.value=a)}t._clearDropDown(),ht.Default.removeHTML(o.getView()),i.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),i.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=we(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=we(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,o)}}]),Ct);function Ct(t,e,i,o){h(this,Ct),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var Vt=(i(_t,kt),_t);function _t(e,t,i,o){h(this,_t);var a=c(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function It(e,t,i,o){var a=i.dropDown;a||(a=new Vt(e,t,i,"a@"+o),i.dropDown=a),a.open()}var Tt=(i(Dt,kt),t(Dt,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Dt);function Dt(e,t,i,o){h(this,Dt);var a=c(this,(Dt.__proto__||Object.getPrototypeOf(Dt)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function St(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Tt(e,t,i,o),i.dropDown=a),a.open()}var Wt=(i(Ft,kt),t(Ft,[{key:"onInit",value:function(e,t){var i=this.data.a(f.DATE_TYPE);e.setPropertyValue("dateTimePane.type",i,!0)}}]),Ft);function Ft(e,t,i,o){h(this,Ft);var a=c(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}i(Nt,kt),t(Nt,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Nt(e,t,i){h(this,Nt);var o=c(this,(Nt.__proto__||Object.getPrototypeOf(Nt)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var jt=(i(Gt,ft),t(Gt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ha(this,"value",t,i);0<o.x&&o.x<a&&0<o.y&&o.y<r&&It(t,i,n,l)}}}]),Gt);function Gt(){return h(this,Gt),c(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this))}var zt=(i(Yt,ft),t(Yt,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ha(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&St(t,i,n,"a@"+l)}}}]),Yt);function Yt(){return h(this,Yt),c(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this))}var Xt,Ut=(Xt=ht.graph.Interactor,i(Kt,Xt),t(Kt,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),Kt);function Kt(e){return h(this,Kt),c(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this,e))}var Zt,$t={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},qt=(Zt=ht.graph.GraphView,i(Jt,Zt),t(Jt,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=Ao?-e.detail:e.wheelDelta/40;!Ao&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,h=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||$t.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||$t.hoverBackground,i.fill()),l&&h){var t=e.p().y+a/2-.5*h;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=h,i.stroke()}}),l&&h){var e=this.getViewRect(),t=e.x,s=e.y,u=e.width,c=e.height;i.strokeStyle=l,i.lineWidth=h,i.strokeRect(t+.5*h,s+.5*h,u-h,c-h)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),Jt);function Jt(e){h(this,Jt);var t=c(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new Ut(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}Yo(qt,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var Qt=(i(ei,qt),t(ei,[{key:"_initStyleByMaster",value:function(){var e=this._vectorInfo;this.setIconHeight(e.dropIconWidth),this.setIconWidth(e.dropIconHeight),this.setRowHeight(e.dropRowHeight),this.setDropWidth(e.dropWidth),this.setBackground(e.dropBackground),this.setHoverBackground(e.dropHoverBackground),this.setActiveColor(e.dropActiveBackground),this.setDropLabelColor(e.dropLabelColor),this.setDropActiveLabelColor(e.dropActiveLabelColor),this.setDropLabelFont(e.dropLabelFont),this.setMaxHeight(e.dropMaxHeight),this.setDropBorderColor(e.dropBorderColor),this.setDropBorderWidth(e.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===s)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===s)t.a(this._valueName,n),t.a(f.LABEL,this.__getLabel()),t.a(f.ICON,e.a("icon"));else{var l=this._previousValue,h=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){l!==e&&s!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(s===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(l!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(s===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(l!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),ba(r)?xa(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),No(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){No(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=da(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",No(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),No(i,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unRegisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=da(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(ei.prototype.__proto__||Object.getPrototypeOf(ei.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),ei);function ei(e,t,i,o,a){h(this,ei);var r=c(this,(ei.__proto__||Object.getPrototypeOf(ei)).call(this));r.setSelectionMode(a?l:s),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",No(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function ti(e,t,i,o,a){var r=i.dropDown;r||((r=new Qt(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||r.setData(i.dataSource),r.toggle())}Yo(Qt,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:$t.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:$t.inputTextColor});var ii=(i(oi,ft),t(oi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=ha(this,"value",t,i);0<o.x&&o.x<a&&0<o.y&&o.y<r&&ti(t,i,n,l)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),oi);function oi(){return h(this,oi),c(this,(oi.__proto__||Object.getPrototypeOf(oi)).call(this))}function ai(e,t,i,o,a){var r=ea(i,t,o),n=r.rowHeights,l=r.colWidths,h=r.headHeight,s=r.rowLineWidth,u=r.translateY,c=r.translateX,d=null,g=null;if(0<(u=Math.floor(a.y-u-h))&&n&&n.length){for(var f=d=0;d<n.length&&!(u<(f+=n[d]+s));d++);d===n.length&&(d=null)}if(0<(c=Math.floor(a.x-c))&&l&&l.length){for(var v=g=0;g<l.length&&!(c<(v+=l[g]));g++);g===l.length&&(g=null)}return{row:d,col:g}}var ri=(i(ni,ot),t(ni,[{key:"onDown",value:function(e,t,i,o,a,r){if(!N(this,t,i,o,a,r,!0)){var n=ea(i,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=n.onClickHeadCell,c=n.headRect,d=n.headHeight,g=pa(i,t,this,o),f=ha(this,"selectedIndex");if(c=c&&Jo(c),!aa(l)){var v=n.dataSource||[],p=n.onSelectRow,y=n.selectedIndex;if(v&&v[l]){if(h)if(y="number"==typeof y?[y]:null==y?[]:y.slice(0),ht.Default.isCtrlDown()){var x=y.indexOf(l);0<=x?y.splice(x,1):y.push(l)}else if(ht.Default.isShiftDown()&&0<y.length){var b=y[y.length-1];if(b<l)for(var m=b+1;m<=l;m++)y.indexOf(m)<0&&y.push(m);else if(l<b)for(var w=b-1;l<=w;w--)y.indexOf(w)<0&&y.push(w)}else y=[l];else y=[l];f&&t.a(f,y),p&&p(v[l],t,i)}}if(s){var k=n.colWidths,C=n.rowHeights,V=n.columns,_=n.dataSource,I=n.rawColIndexs,T=n.rawIndexs,D=ai(0,t,i,this,o),S=T[D.row],L=I[D.col];if(null!=L&&null!=S&&D.row<=C.length&&D.col<=k.length&&V&&_&&V[L].key){var R=V[L],P=_[S],B=P[R.key];R.format&&(B=R.format(B,P,S,L)),s(e,B,P,R,S,L,t,i)}}if(u&&d&&c&&aa(n.resizeColIndex)&&ka(c,g))for(var E=n.rawCols,A=n.colWidths,M=n.headHeight,O=n.rawColIndexs,H=c.x,W=0;W<A.length;W++){var F={x:H,y:c.y,width:A[W],height:M};if(ka(F,g)){u(e,E[W],O[W],t,i);break}H+=A[W]}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,c=n.rawDatas,d=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,y=n.bodyRect,x=ai(0,t,i,this,o),b=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=x.row,k=x.col,C=pa(i,t,this,o);if(!n._scrollDragInfo&&d&&c){if(p=p&&Jo(p),y=Jo(y),ka(y,C)&&n.autoHideScrollBar&&b&&(b.scrollBarX&&o.y>r-m||b.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void B(t,n);if(ka(y,C)){if(f)if(null!=k&&null!==w&&w<=l.length&&k<=h.length&&u&&c&&u[k].key){var V=u[k],_=c[w],I=d[w],T=g[k],D=_[V.key];V.format&&(D=V.format(D,_,I,T)),f(e,D,_,V,I,T,t,i)}else f();s!==d[w]&&(n.hoverIndex=d[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&ka(p,C)){for(var S=n.resizeRects,L=void 0,R=0;R<S.length;R++)if(ka(S[R],C)){L=R;break}n.resizeColIndex=L,ba(L)?na(i,"ew-resize"):na(i,"default")}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){D.apply(this,arguments);var n=ea(i,t,this);if(ba(n.resizeColIndex)){var l=n.colWidths,h=n.rawColIndexs,s=n.rawCols;n.resizeSourceWidth=l[h[n.resizeColIndex]],n.resizeBeginPoint=o,s.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.resizeBeginPoint;if(l){var h=n.rawCols,s=n.rawColIndexs,u=n.resizeColIndex,c=n.resizeSourceWidth,d=n.resizeRects,g=h[s[u]],f=o.x-l.x,v=d[u],p=v.x,y=v.y,x=v.width;return n.resizeDragPoint={x:p+x/2,y:y},g.width=Math.max(c+f,1),void t.iv()}S.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){L.apply(this,arguments);var n=ea(i,t,this);if(n.resizeBeginPoint){var l=ha(this,"translateX"),h=(t.a(l),n.colWidths),s=0;h.forEach(function(e){s+=e}),console.log(t.a(l)),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,s<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){P.apply(this,arguments)}}]),ni);function ni(){return h(this,ni),c(this,(ni.__proto__||Object.getPrototypeOf(ni)).call(this))}function li(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,u=(i.x-o.x)/o.width*h+n,c=t.onChange,d=ha(t.comp,"value");if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(d,u),c&&c(s,u,e,a)}var hi=ht.Default.containsPoint,si=(i(ui,ot),t(ui,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ca(n.barRect,2),h=pa(i,t,this,o);hi(l,h)&&li(t,n,h,l,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=ca(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,u=ha(this,"value"),c=pa(i,t,this,o);if(hi(l,c)&&h){var d=t.a(u);d=aa(d)?"0":d+"",ta.show(s?s(d):d,e)}else this.dragging||ta.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){ea(i,t,this).disabled?na(i,"not-allowed"):na(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,"default"),n.dragging||ta.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ca(n.sliderRect,2),h=pa(i,t,this,o);hi(l,h)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(n.dragging){var l=pa(i,t,this,o),h=n.barRect;li(t,n,l,h,i);var s=n.showToolTip,u=n.toolTipFormat,c=n.value;s&&ta.show(u?u(c):c,e)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){delete ea(i,t,this).dragging,ta.hide()}}]),ui);function ui(){return h(this,ui),c(this,(ui.__proto__||Object.getPrototypeOf(ui)).call(this))}function ci(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,c=t.value,d=c[0],g=c[1],f=ha(t.comp,"value"),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),h){var p=u%h;u=u-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var y=null;if(t.dragging){var x=t.dragging;y=x<=u?[x,u]:[u,x]}else{var b=Math.abs(d-u);y=Math.abs(g-u)<=b?[d,u]:[u,g]}return r||e.a(f,y),v&&v(c,y,e,a),u}var di=(i(gi,ot),t(gi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ca(n.barRect,2),h=ca(n.valueBarRect,2),s=n.valueBarDraggable,u=pa(i,t,this,o);s&&ht.Default.containsPoint(h,u)||ht.Default.containsPoint(l,u)&&ci(t,n,u,l,i)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=ca(n.sliderRect,2),h=ca(n.sliderRect2,2),s=n.showToolTip,u=n.toolTipFormat,c=n.value,d=pa(i,t,this,o);ht.Default.containsPoint(l,d)&&s?ta.show(u?u(c[0]):c[0],e):ht.Default.containsPoint(h,d)&&s?ta.show(u?u(c[1]):c[1],e):this.dragging||ta.hide()}},{key:"onEnter",value:function(e,t,i,o,a,r){ea(i,t,this).disabled?na(i,"not-allowed"):na(i,"pointer")}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,"default"),n.dragging||ta.hide()}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ca(n.barRect,2),h=ca(n.sliderRect,2),s=ca(n.sliderRect2,2),u=ca(n.valueBarRect,2),c=n.value,d=n.valueBarDraggable,g=pa(i,t,this,o);ht.Default.containsPoint(h,g)?n.dragging=c[1]:ht.Default.containsPoint(s,g)?n.dragging=c[0]:d&&ht.Default.containsPoint(u,g)&&(n.draggingValueBar=ci(t,n,g,l,i,!0))}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect,u=pa(i,t,this,o);if(void 0!==n.dragging){var c=ci(t,n,u,s,i);l&&ta.show(h?h(c):c,e)}else if(void 0!==n.draggingValueBar){var d=n.draggingValueBar,g=ci(t,n,u,s,i,!0),f=g-d,v=n.value,p=n.min,y=n.max,x=[v[0]+f,v[1]+f],b=ha(this,"value");if(x[0]<p?x=[p,p+(v[1]-v[0])]:x[1]>y&&(x=[y-(v[1]-v[0]),y]),n.draggingValueBar=g,t.a(b,x),l){var m=x.join(",");h&&(m=x.map(function(e){return h(e)}).join(",")),ta.show(m,e)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);delete n.dragging,delete n.draggingValueBar,ta.hide()}}]),gi);function gi(){return h(this,gi),c(this,(gi.__proto__||Object.getPrototypeOf(gi)).call(this))}function fi(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=we(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var vi=(i(pi,ot),t(pi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=ha(this,"value");if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,u=s?s.slice(0):null,c=n.valueItemInfo,d=fi(o,c);if(d&&s&&0<=s.indexOf(d)){var g=s.indexOf(d);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,i),na(i,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=ha(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&ti(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(n.disabled)na(i,"not-allowed");else{var l=n.valueItemInfo;fi(o,l)?(this._oldCursor=i.getView().style.cursor,na(i,"pointer")):na(i,"default")}}},{key:"onEnter",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n.disabled?na(i,"not-allowed"):na(i,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,i,o,a,r){na(i,"default")}}]),pi);function pi(){return h(this,pi),c(this,(pi.__proto__||Object.getPrototypeOf(pi)).call(this))}function yi(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var c=l/s;if(xi({x:a+n-u,y:r-i*c,width:u,height:l*c},o))return!0}if(n<h-2){var d=n/h;if(xi({x:a-t*d,y:r+l-u,width:n*d,height:u},o))return!0}return!1}return!1}var xi=ht.Default.containsPoint,bi=(i(mi,ot),t(mi,[{key:"onDown",value:function(e,h,t,i,o,a){var s=this,u=pa(t,h,this,i),l=ea(t,h,this),c=l.rootTree,r=l.scrollBarInfo,n=l.translateX,d=l.translateY,g=l.isScrollBarDragging,f=l.rectInfo,v=l.onClickBadge,p=l.onClickBack,y=l.onCheck,x=l.onSelect,b=l.onExpand,m=l.loadData,w=l.accordion,k=l.multiSelect,C=l.selectableFunc,V=l.expandableFunc,_=l.checkableFunc;if(g)l.isScrollBarDragging=!1;else if(!yi(r,n,d,u)&&f){for(var I=f.expandIconRects,T=f.checkIconRects,D=f.treeBackRects,S=f.badgeRects,L=0,R=S.length;L<R;L++){var P=S[L],B=P.treeItem,E=P.info,A=P.badgeRect;if(xi(A,u)&&!B.disabled)return v.call(this,B,E),void h.iv()}for(var M=0,O=T.length;M<O;M++){var H=T[M],W=(B=H.treeItem,H.checkIconRect);if(xi(W,u)&&!B.disabled&&_(B))return B.checked=!B.checked,y.call(this,B,B.checked),B.checkAfter(),B.checkBefore(),void h.iv()}for(var F=function(e,t){var i=I[e],o=i.treeItem,a=i.expandIconRect;if(xi(a,u)){if(o._isLoading)return{v:void 0};if(!o.disabled&&V(o)){w&&o.getSiblings().forEach(function(e){e.expanded=!1}),o.expanded=!o.expanded;var r=o.children,n=o.dataInfo,l=o.expanded;return 0===r.length&&n.children?(o.addChildren(n.children),b.call(s,o,o.expanded)):l&&0===r.length?new Promise(function(e){o._isLoading=!0,m.call(s,o,e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];o._isLoading=!1,o.addChildren(e),o.checkAfter(),b.call(s,o,o.expanded),h.iv()}):b.call(s,o,o.expanded),h.iv(),{v:void 0}}}},N=0,j=I.length;N<j;N++){var G=F(N);if("object"===(void 0===G?"undefined":ye(G)))return G.v}for(var z=function(e,t){var i=D[e],o=i.treeItem,a=i.backRect;if(xi(a,u)){if(!o.disabled&&C(o)){var r=c.getSelected(),n=[];r.forEach(function(e){var t=e.id,i=e.text;n.push({id:t,text:i}),k||e===o||(e.selected=!1)}),l.selectedInfos=n,o.selected=!o.selected,x.call(s,o,o.selected),h.iv()}return{v:void 0}}},Y=0,X=D.length;Y<X;Y++){var U=z(Y);if("object"===(void 0===U?"undefined":ye(U)))return U.v}p&&p()}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=pa(i,t,this,o),l=ea(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY,c=l.isScrollBarDragging,d=l.rectInfo,g=l.preHoverTreeItem,f=l.selectableFunc;if(!c)if(yi(h,s,u,n))g&&(g.disabled&&na(i,"default"),g._isHovering=!1,t.iv());else if(d){for(var v=d.treeBackRects,p=0,y=v.length;p<y;p++){var x=v[p],b=x.treeItem,m=x.backRect;if(xi(m,n)&&f(b)){g!==b&&(g&&(g._isHovering=!1),l.preHoverTreeItem=b),b.disabled?(na(i,"not-allowed"),g!==b&&t.iv()):b._isHovering||(na(i,"default"),b._isHovering=!0,t.iv());break}}p===y&&g&&(na(i,"default"),g._isHovering=!1,delete l.preHoverTreeItem,t.iv())}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.preHoverTreeItem;l&&(na(i,"default"),l._isHovering=!1,delete n.preHoverTreeItem,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=pa(i,t,this,o),l=ea(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY;yi(h,s,u,n)&&(l.isScrollBarDragging=!0),D.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){S.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);n&&(n.isScrollBarDragging=!1),L.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){P.apply(this,arguments)}}]),mi);function mi(){return h(this,mi),c(this,(mi.__proto__||Object.getPrototypeOf(mi)).call(this))}var wi=10,ki=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(u,e,t,i,o){var r=t.getValue("labelFont"),n=t.getColor("labelColor"),c=t.getValue("itemFont"),d=t.getColor("itemColor"),g=t.getValue("itemIconSize"),a=t.getValue("info");if(a){ht.Default.isArray(a)||(a=[a]);var f=e.x,l=e.y,v=(e.width,e.height,0),p=0,y=l;a.forEach(function(e,t){var i=e.label,o=e.datas,s=e.colors;0<t&&(y+=8,v+=8);var a=Mo(r,i);v+=a.height,p=a.width,ht.Default.drawText(u,i,r,n,f,y,a.width,a.height,"left"),y+=a.height+2,o.forEach(function(e,t){var i=we(e,2),o=i[0],a=i[1],r=null!=o?o+"："+a:a,n=Mo(c,r);v+=n.height+2,p=Math.max(p,n.width+g+3);var l=f;if(!ht.Default.isEmptyObject(s)){var h=g/2;u.fillStyle=s[t],u.beginPath(),u.moveTo(h,y+h),u.arc(h,y+h,h,0,2*Math.PI),u.fill(),l+=3+g}ht.Default.drawText(u,r,c,d,l,y,n.width,n.height,"left"),y+=n.height+2})}),ki=v,wi=p}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}}}]});var Ci,Vi=(Ci=ht.graph.GraphView,i(_i,Ci),t(_i,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===wi&&this.getHeight()===ki||(this._tipNode.setWidth(wi),this._tipNode.setHeight(ki),this.setWidth(wi),this.setHeight(ki),this.fitContent(!1,0))}}]),_i);function _i(){h(this,_i);var e=c(this,(_i.__proto__||Object.getPrototypeOf(_i)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(wi),e.setHeight(ki),e}var Ii=new Vi,Ti=(i(Di,ot),t(Di,[{key:"onDown",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){Qo(i,t,this);var n=ea(i,t,this),l=n.ui,h=n.option;if(n._moveTimer&&clearTimeout(n._moveTimer),h&&h.tooltip.show&&!n._dragging){var s=l.interactiveInfo,u=l.bounds.bodyRect,c=s.axisInfos,d=pa(i,t,this,o);if(ka(u,d)&&c.length){for(var g=l.valueAxis===_?d.y:d.x,f=void 0,v=1/0,p=c[0],y=0;y<p.length;y++){var x=Math.abs(p[y].position-g);x<v&&(v=x,f=y)}if(p[f]){var b=[],m=l.seriesColors.slice(0);c.forEach(function(e){var t=e[f];b.push({label:t.label,datas:t.series,colors:m.splice(0,t.series.length)})}),Ii.setInfo(b),ta.show(Ii.getView(),e)}n.hoverIndex!==f&&(n.hoverIndex=f,t.iv())}else delete n.hoverIndex,t.iv(),ta.hide()}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),ta.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Qo(i,t,this),l=ea(i,t,this),h=l.option,s=l.ui;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ta.hide());var u=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};ka(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Qo(i,t,this),l=ea(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Ta(h,s),t.iv()}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(n&&n._dragging){var d=n.ui,l=n.option,h=d.rectPoint1,s=d.rectPoint2,u=d.valueAxis,c=l.xAxis,g=l.yAxis,f=Ca(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){var t=e.type,i=[];if(v.x.push(i),p===t){var o=d.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&i.push(t)})}else if(E===t){var a=e._axisObj.timeRange;if(a){var r=we(a,2),n=r[0],l=r[1],h=l-n,s=d.bounds.bodyRect,u=Math.floor((f.x-s.x)/s.width*h+n),c=Math.floor((f.x-s.x+f.width)/s.width*h+n);u=Math.max(u,n),c=Math.min(c,l),i.push(u),i.push(c)}}}),g.forEach(function(e){var t=[];if(v.y.push(t),X===u){var i=we(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=d.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),Di);function Di(){return h(this,Di),c(this,(Di.__proto__||Object.getPrototypeOf(Di)).call(this))}var Si=(i(Li,ft),t(Li,[{key:"onUp",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(!n.disabled){var l=ha(this,"value");0<o.x&&o.x<a&&0<o.y&&o.y<r&&function(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(f.FORMAT)},a=new Wt(e,t,i,o),i.dropDown=a),a.open()}(t,i,n,"a@"+l)}}}]),Li);function Li(){return h(this,Li),c(this,(Li.__proto__||Object.getPrototypeOf(Li)).call(this))}function Ri(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var Pi=(i(Bi,ot),t(Bi,[{key:"onEnter",value:function(e,t,i,o,a,r){var n="pointer";ea(i,t,this).disabled&&(n="not-allowed"),na(i,n)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);na(i,"default"),n.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.buttonRects,h=(n.values,n.disabled),s=pa(i,t,this,o),u=null;h||(l&&(u=Ri(l,s)),u!==n.hoverIndex&&(n.hoverIndex=u,t.iv()))}},{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.buttonRects,h=n.values,s=n.disabled,u=n.onChange,c=pa(i,t,this,o),d=ha(this,"value"),g=null;if(!s&&d){l&&(g=Ri(l,c));var f=aa(g)?null:h[g],v=t.a(d);f!==v&&(t.a(d,f),u&&u(v,f,t,i))}}}]),Bi);function Bi(){return h(this,Bi),c(this,(Bi.__proto__||Object.getPrototypeOf(Bi)).apply(this,arguments))}var Ei=Math.PI,Ai=Math.pow,Mi=Math.sin,Oi={swing:function(e){return-Math.cos(e*Ei)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-Ai(2,10*(e-=1))*Mi(2*Ei*(e-.075)/.3)},elasticOut:function(e){return 0===e||1===e?e:Ai(2,-10*e)*Mi(2*Ei*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Ai(2,10*(e-=1))*Mi(2*Ei*(e-.1125)/.45)*-.5:Ai(2,-10*(e-=1))*Mi(2*Ei*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},Hi=(i(Wi,ot),t(Wi,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=pa(i,t,this,o),h=n.itemInfos,s=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(ka(v.rect,l)){g=v.index;break}}if(ba(g)&&s!==g){var p=ha(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var y=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Oi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+y*e)}})}else t.a(p,g)}ba(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=pa(i,t,this,o),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var c=h[u];if(ka(c.rect,l)){s=!0;break}}na(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=s.length,d=ha(this,"index"),g=h+u;0<=g&&g<c&&t.a(d,g)}}}]),Wi);function Wi(){return h(this,Wi),c(this,(Wi.__proto__||Object.getPrototypeOf(Wi)).apply(this,arguments))}var Fi=(i(Ni,ot),t(Ni,[{key:"onDown",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=pa(i,t,this,o),h=n.itemInfos,s=n.index,u=n.animation,c=n.onClickItem,d=n.dataSource,g=void 0;if(h&&h.length)for(var f=0;f<h.length;f++){var v=h[f];if(ka(v.rect,l)){g=v.index;break}}if(ba(g)&&s!==g){var p=ha(this,"index");if(p)if(u){n._animationObj&&n._animationObj.stop();var y=g-s;n._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Oi.easeOut,finishFunc:function(){delete n._animationObj},action:function(e){t.a(p,s+y*e)}})}else t.a(p,g)}ba(g)&&c&&c(d[g],g,t,i)}},{key:"onEnter",value:function(e,t,i,o,a,r){}},{key:"onMove",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=pa(i,t,this,o),h=n.itemInfos,s=!1;if(h&&h.length)for(var u=0;u<h.length;u++){var c=h[u];if(ka(c.rect,l)){s=!0;break}}na(i,s?"pointer":"default")}},{key:"onLeave",value:function(e,t,i,o,a,r){}},{key:"onScroll",value:function(e,t,i,o,a,r){var n=ea(i,t,this),l=n.scrollable,h=n.index,s=n.dataSource,u=0<e.scrollDelta?1:-1;if(l){var c=s.length,d=ha(this,"index"),g=h+u;0<=g&&g<c&&t.a(d,g)}}}]),Ni);function Ni(){return h(this,Ni),c(this,(Ni.__proto__||Object.getPrototypeOf(Ni)).apply(this,arguments))}var ji=new Vi,Gi=(i(zi,ot),t(zi,[{key:"onMove",value:function(e,t,i,o,a,r){Qo(i,t,this);var n=ea(i,t,this),l=n.ui,h=n.option;if(l&&h.tooltip.show){if(n._dragging)return delete n.hoverTime,delete n.hoverPositionX,t.iv(),void ta.hide();n._moveTimer&&clearTimeout(n._moveTimer);var s,u=pa(i,t,this,o),c=l.xAxisRange||h.xAxis[0]._axisObj.timeRange;if(c&&h.series){var d=l.seriesDatas,g=l.bounds.bodyRect,f=g.x,v=(g.y,c[0]),p=c[1],y={},x=[];if(s=h.series.map(function(e){return e.name}),ka(g,u)){for(var b in d.forEach(function(e,i){e&&e.forEach(function(e){var t=y[e[0]];(t=t||(y[e[0]]={time:e[0],series:[]})).series.push([s[i],e[1]])})}),y)x.push(y[b]);if(x.sort(function(e,t){return e.time>t.time?1:-1}),x.length){var m=Math.floor((u.x-f)/g.width*(p-v)+v),w=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],h=l.time;if(e===h)return l;if(r=Math.abs(e-h),ba(o)&&a<r){for(var s=1/0,u=void 0,c=0;c<t.length;c++){var d=t[c],g=Math.abs(e-d.time);g<s&&(u=d,s=g)}return s<a&&u?u:o}i=(t=h<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(m,x);if(w){var k=(0,h.xAxis[0]._axisObj.formatter)(w.time),C=l.seriesColors.slice(0),V=[{label:k,datas:w.series,colors:C.splice(0,w.series.length)}];ji.setInfo(V),m=w.time,n.hoverTime!==m&&(n.hoverTime=m,t.iv()),ta.show(ji.getView(),e)}}}else delete n.hoverTime,t.iv(),ta.hide()}}}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);void 0!==n.hoverTime&&(delete n.hoverTime,t.iv(),ta.hide())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Qo(i,t,this),l=ea(i,t,this),h=l.option,s=l.ui;if(l&&h.onRectSelected){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ta.hide());var u=s.bounds.bodyRect,c={x:o.x+n.rect.x,y:o.y+n.rect.y};ka(u,c)&&(l._dragging=!0,l.rectPoint1=c)}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Qo(i,t,this),l=ea(i,t,this);if(l&&l._dragging){var h=l.ui.bounds.bodyRect,s={x:o.x+n.rect.x,y:o.y+n.rect.y};l.rectPoint2=Ta(h,s),l._drawTimer&&clearTimeout(l._drawTimer),l._drawTimer=setTimeout(function(){t.iv(),delete l._drawTimer},2)}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=ea(i,t,this);if(n&&n._dragging){var u=n.ui,l=n.option,h=u.rectPoint1,s=u.rectPoint2,c=u.valueAxis,d=l.xAxis,g=l.yAxis,f=Ca(h,s);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};d.forEach(function(e){var t=[];v.x.push(t);var i=e._axisObj.timeRange;if(i){var o=we(i,2),a=o[0],r=o[1],n=r-a,l=u.bounds.bodyRect,h=Math.floor((f.x-l.x)/l.width*n+a),s=Math.floor((f.x-l.x+f.width)/l.width*n+a);h=Math.max(h,a),s=Math.min(s,r),t.push(h),t.push(s)}}),g.forEach(function(e){var t=[];if(v.y.push(t),X===c){var i=we(e._axisObj.valueRange,2),o=i[0],a=i[1],r=a-o,n=u.bounds.bodyRect,l=(n.height-f.height-f.y+n.y)/n.height*r+o,h=(n.height-f.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),l.onRectSelected(v,t,i)}}}]),zi);function zi(){return h(this,zi),c(this,(zi.__proto__||Object.getPrototypeOf(zi)).call(this))}var Yi=ht.Default.setImage;Yi("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),Yi("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),Yi("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,5,0,10]}]}),Yi("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",borderColor:"rgb(255,255,255)",closePath:!0,points:[0,0,10,0,5,10]}]}),Yi("ht.vector.treeDefIcon",{width:22,height:16,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),Yi("ht.vector.treeLoadIcon",{width:32,height:32,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),Yi("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),Yi("ht.vector.treeUnCheckIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),Yi("ht.vector.treeUnCheckAllIcon",{width:160,height:160,comps:[{type:"shape",background:"rgb(255,255,255)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]});var Xi=(t(Ui,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),Ui);function Ui(){h(this,Ui),(this._container=document.createElement("div")).className="ht-vector-tooltip"}function Ki(o,e,t,i,a){var r=a.seriesDatas[t],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=e.areaStyle||{},u=a.bounds,c=(u.xAxisRects,u.yAxisRects,u.bodyRect),d=(c.x,c.y),g=(c.width,c.height),f=la(i.color,t),v=i.xAxis[e.xAxisIndex||0],p=i.yAxis[e.yAxisIndex||0],y=(v._axisObj.unitWidth,p._axisObj.valueRange),x=a.hoverIndex,b=y[0],m=y[1]-b,w=v._axisObj.axisInfos,k=e.smooth,C=void 0,V=void 0;if(r&&r.length&&w){var _=[],I=a.interactiveInfo.axisInfos[a.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(w[t]){var i={x:w[t].position,y:d+(1-e/m)*g};_.push(i),I[t].series.push([n,e,i.x,i.y])}}),V=_.slice(0),k&&2<=_.length){var T=Da(_,"number"==typeof k?k:void 0);_=T.points,C=T.segments}if(o.save(),s.color){var D=_[0],S=_[_.length-1];ma(o,_,C),o.lineTo(S.x,d+g),o.lineTo(D.x,d+g),o.closePath(),o.fillStyle=Ra(o,s.color,c),o.fill()}var L=h.color||f;o.lineWidth=h.width||2,o.strokeStyle=Ra(o,L),a.seriesColors.push(L),h.pattern&&o.setLineDash(h.pattern),ma(o,_,C),o.stroke(),o.restore();var R=l.size||0,P=l.activeSize||3;R||1!==_.length||(R=1);var B=l.background,E=void 0===B?L:B,A=l.borderWidth,M=void 0===A?1:A,O=l.borderColor,H=void 0===O?L:O;if(R&&(o.beginPath(),V.forEach(function(e,t){var i=x===t?P:R;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),M&&H&&(o.lineWidth=M,o.strokeStyle=H,o.stroke()),E&&(o.fillStyle=E,o.fill())),void 0!==x&&P){var W=l.activeBackground,F=void 0===W?E:W,N=l.activeBorderColor,j=void 0===N?H:N,G=l.activeBorderWidth,z=void 0===G?M:G;a._hoverHandlers||(a._hoverHandlers=[]);var Y=V[x];if(!Y)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(Y.x,Y.y),o.arc(Y.x,Y.y,P,0,2*Math.PI),F&&(o.fillStyle=F,o.fill()),z&&j&&(o.lineWidth=z,o.strokeStyle=j,o.stroke())})}}}function Zi(n,e,t,i,o){var l=o.seriesDatas[t],a=e.name,r=(e.itemStyle,o.bounds),h=(r.xAxisRects,r.yAxisRects,r.bodyRect),s=(h.x,h.y),u=(h.width,h.height),c=e.color||la(i.color,t),d=i.xAxis[e.xAxisIndex||0],g=i.yAxis[e.yAxisIndex||0],f=d._axisObj.unitWidth,v=g._axisObj.valueRange,p=(o.hoverIndex,v[0]),y=v[1]-p,x=d._axisObj.axisInfos,b=e.shadow,m=e.barWidth||.8,w=o.barSeries,k=w.length,C=w.indexOf(e),V=o.barCategoryGap||0,_=(f-2*(1<=V?V:f*V))/k,I=e.drawBar;if(m<1&&(m*=_),l&&l.length&&x){var T=[],D=o.interactiveInfo.axisInfos[o.valueAxis===X?e.xAxisIndex||0:e.yAxisIndex||0];l.forEach(function(e,t){if(x[t]){var i={x:x[t].position,y:s+(1-e/y)*u};D[t].series.push([a,e,i.x,i.y]),T.push({x:i.x-f/2+_*C+(_-m)/2+V,y:i.y,width:m,height:(e-p)/y*u})}}),o.seriesColors.push(la(i.color,t)),n.save(),T.forEach(function(a,e){var r=void 0;r=Ra(n,"function"==typeof c?c(l[e],e,la(i.color,e)):c,a);function t(){if(n.fillStyle=r,b){var e=b.color||ht.Default.darker(r),t=b.opacity;if(ba(t)){var i=La(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=b.blur||0,n.shadowOffsetX=b.offsetX||0,n.shadowOffsetY=b.offsetY||0}n.fillRect(a.x,a.y,a.width,a.height)}I?I(n,l[e],a,{defaultDraw:t,color:r,data:o.data,view:o.view}):t()}),n.restore()}}function $i(e,t){var i=e.xAxis.map(function(e){return e._axisObj.boundHeight}),a=e.yAxis.map(function(e){return e._axisObj.boundWidth}),o=2;e.yAxis.forEach(function(e){o=Math.max(o,2+e._axisObj.labelHeight)}),t.contentRect.y+=o,t.contentRect.height-=o;var r=t.contentRect,n=0;t.valueAxis===X&&e.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=Mo(e.axisLabel.font,e.data[0]);a[0]=Math.max(t.width/2,a[0]),t=Mo(e.axisLabel.font,e.data[e.data.length-1]),n=Math.max(t.width/2,n)}else if(e.axisLabel.show&&e.type===E){var i=e._axisObj.formatter,o=Mo(e.axisLabel.font,i?i(Date.now()):"e");a[0]=Math.max(o.width/2,a[0]),n=Math.max(o.width/2,n)}});var l,h=r.x,s=r.y,u=r.width,c=r.height,d=[],g=[],f=h,v=s,p=u,y=c,x=0,b=0;a.forEach(function(e,t){p-=e,t&&(x+=e)}),i.forEach(function(e){y-=e,b+=e}),x<n&&(p=p-n+x),p=Math.max(0,p),y=Math.max(0,y),f=h,v=s+(1<i.length?b-i[0]:0),a.forEach(function(e,t){t?d.push({x:f,y:v,width:e,height:y}):(d.push({x:f,y:v,width:e,height:y}),f+=e+p)}),f=h+(0<a.length?a[0]:0),v=s,i.forEach(function(e,t){t?(g.push({x:f,y:v,width:p,height:e}),v+=e):g.push({x:f,y:v+c-e,width:p,height:e})}),l={x:h+a[0]||0,y:s+(1<i.length?b-i[0]:0),width:Math.max(0,p),height:Math.max(0,y)},t.bounds={xAxisRects:g,yAxisRects:d,bodyRect:l}}function qi(o,a,e){return(o=to(o)?o.slice(0):[o]).forEach(function(e,t){var i=io(a);ra(i,e),o[t]=i}),o}var Ji={show:!0,type:"value",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},Qi={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},eo=ht.Default,to=eo.isArray,io=eo.clone,oo=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],ao=(t(ro,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,t=this.ui.xAxisRange;if(t)this.timeRange=t;else{var a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),!a.length)return;var i=[];a.forEach(function(e){xa(e)&&i.push(e[0])}),i.sort(function(e,t){return t<e?1:-1}),this.timeRange=[i[0],i[i.length-1]]}var r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return Ia(new Date(e),n)}}this.formatter=r}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var o=this,e=this.series,a=this.seriesIndexs,r=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[a[t]];i&&(r=r.concat(i))});var t=[];return r.forEach(function(e){xa(e)?t.push(e[1]):t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues();this.valueRange||this.caluValueRange(t);var i=we(this.valueRange,2),o=i[0],a=i[1],r=o.toString().length>a.toString().length?o:a,n=e.axisLabel.formatter;return n&&(r=n(r)),_a(e.axisLabel.font,r,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e);if(ba(i)&&i/r%1==0)a=i/r;else if(1<n){for(var l=1,h=n/l;100<=parseInt(h);)h=n/(l*=10);for(h=Math.ceil(h)*l;h%r!=0||h/r%l!=0;)h+=l;n=h,aa(i)&&(i=h),a=n/r}else a=n/r;aa(o)&&0<=Math.min.apply(this,e)&&(o=0),aa(i)&&(i=n),o||i||(a=i=1),this.valueRange=[o,i,a]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}}]),ro);function ro(e,t,i){h(this,ro),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=ga(e.data,i.data,i.view)}var no=(i(lo,ao),t(lo,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){xa(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0;if(this.isValueAxis)return 2;var o=e.data,a=G;return o&&(e.type===E?(this.getTimeAxisTimes(),a=this.formatter(Date.now())):e.type===p&&o.forEach(function(e){e.toString().length>a.length&&(a=e)})),t?(t=Math.max(-45,t),t=Math.min(45,t),_a(e.axisLabel.font,a,t).height+4+i):Mo(e.axisLabel.font,G).height+4+i}},{key:"draw",value:function(a){var o=this,e=this.ui,t=this.axisOption,i=t.type===E,r=this.axisIndex,n=e.bounds.xAxisRects[r],l=e.boundaryGap,h=n.x,s=n.y,u=n.width,c=n.height,d=this.data||[],g=this.formatter||t.axisLabel.formatter,f=(t.axisLabel.interval,this.timeRange),v=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),r?(a.moveTo(h,s+c),a.lineTo(h+u,s+c)):(a.moveTo(h,s),a.lineTo(h+u,s)),a.stroke()),t.type===E){if(d=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>d.length&&(d=i.map(function(e){return e[0]}))}),!(f&&f[0]&&f[1]))return;v=f[1]-f[0]}var p=0,y=0,x=1,b=void 0;if(1<d.length?y=p=l?(x=1,u/(d.length-1+x)):(x=1,u/(d.length-1)):p=u/2,d&&d.length&&(this.unitWidth=p,b=1===d.length?this.axisInfos=[{position:h+p,label:g?g(d[0]):d[0]}]:this.axisInfos=d.map(function(e,t){return{position:(i?h+(e-f[0])/v*u:h+t*p)+l*p/2,label:g?g(e):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var m=t.axisLabel.font,w=t.axisLabel.color,k=t.axisLabel.align,C=t.axisTick.length,V=r?s:s+2+(t.axisTick.show?t.axisTick.length:0),_=0,I=[];if(d.forEach(function(e){g&&(e=g(e));var t=Mo(m,e);I.push(t),_+=t.width}),_>n.width&&!r&&(x=Math.ceil(_/n.width)),t.axisTick.show&&C){var T=ba(t.axisTick.interval)?t.axisTick.interval:x;0===T&&(T=1),a.strokeStyle=t.axisTick.color,a.beginPath(),d.forEach(function(e,t){if(t%T==0){var i=h+t*y;r?(a.moveTo(i,s+c),a.lineTo(i,s+c-C)):(a.moveTo(i,s),a.lineTo(i,s+C))}}),a.stroke()}if(t.axisLabel.show){var D=ba(t.axisLabel.interval)?t.axisLabel.interval:x;0===D&&(D=1),d.forEach(function(e,t){if(t%D==0){var i=I[t],o=b[t].position;aa(e)&&(e=""),g&&(e=g(e)),l?ht.Default.drawText(a,e.toString(),m,w,o-p/2,V,p,i.height,"center"):ht.Default.drawText(a,e.toString(),m,w,o-i.width/2,V,i.width,i.height,k)}})}if(t.splitLine.show){var S=ba(t.splitLine.interval)?t.splitLine.interval:x;0===S&&(S=1);var L=e.bounds.bodyRect,R=L.x,P=L.y,B=(L.width,L.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),d.forEach(function(e,t){if(t&&t%S==0){var i=R+t*y;a.moveTo(i,P),a.lineTo(i,P+B)}}),a.stroke()}}}}]),lo);function lo(e,t,i){h(this,lo);var o=c(this,(lo.__proto__||Object.getPrototypeOf(lo)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===_,t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===E&&o.initTimeAxis(),o}var ho=(i(so,ao),t(so,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption,t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0;return this.isValueAxis?t.width+i+4:50}},{key:"draw",value:function(o){var e=this.ui,t=this.axisOption,i=this.axisIndex,a=e.bounds.yAxisRects[i],r=a.x,n=a.y,l=a.width,h=a.height;if(!1!==t.show&&(t.axisLine.show&&(o.strokeStyle=t.axisLine.color,o.lineWidth=t.axisLine.width,o.beginPath(),i?(o.moveTo(r,n),o.lineTo(r,n+h)):(o.moveTo(r+l,n),o.lineTo(r+l,n+h)),o.stroke()),t.axisLabel.show)){for(var s=this.valueRange,u=we(s,3),c=u[0],d=u[1],g=u[2],f=d-c,v=[],p=0;p<=d&&c<=p;)v.push(p),p+=g;if(d!==v[v.length-1]&&v.push(d),c<0){for(p=0-g;c<=p;)v.unshift(p),p+=g;c!==v[0]&&v.unshift(c)}var y=void 0;t.axisTick.show&&(y=t.axisTick.length)&&(o.strokeStyle=t.axisTick.color,o.beginPath(),v.forEach(function(e){var t=n+h*(1-(e-c)/f);i?(o.moveTo(r,t),o.lineTo(r+y,t)):(o.moveTo(r+l,t),o.lineTo(r+l-y,t))}),o.stroke());var x=l-2-(t.axisTick.show?y:0),b=t.axisLabel.font,m=t.axisLabel.color,w="auto"===t.axisLabel.align?i?se:he:t.axisLabel.align,k=t.axisLabel.formatter,C=Mo(b,G),V=r+(i?y:0);if(v.forEach(function(e){var t=n+h*(1-(e-c)/f)-C.height/2;"function"==typeof k&&(e=k(e)),ht.Default.drawText(o,e.toString(),b,m,V,t,x,C.height,w)}),t.splitLine.show){var _=e.bounds.bodyRect,I=_.x,T=_.y,D=_.width,S=_.height;o.strokeStyle=t.splitLine.color,o.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&o.setLineDash(t.splitLine.pattern),o.beginPath(),v.forEach(function(e,t){if(0!==t){var i=T+S*(1-(e-c)/f);o.moveTo(I,i),o.lineTo(I+D,i)}}),o.stroke()}}}}]),so);function so(e,t,i){h(this,so);var o=c(this,(so.__proto__||Object.getPrototypeOf(so)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===X,t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===E&&o.initTimeAxis(),o}var uo=ht.Default,co=uo.clone,go=uo.unionPoint,fo={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},vo=(i(po,no),t(po,[{key:"draw",value:function(e){var t=this.ui,i=this.axisOption,o=this.axisIndex,a=t.bounds.xAxisRects[o],r=a.x,n=a.y,l=a.width,h=a.height,s=(i.data,this.getTimeAxisTimes()),u=this.formatter||i.axisLabel.formatter,c=this.timeRange,d=void 0;if(i.axisLine.show&&(e.strokeStyle=i.axisLine.color,e.lineWidth=i.axisLine.width,e.beginPath(),o?(e.moveTo(r,n+h),e.lineTo(r+l,n+h)):(e.moveTo(r,n),e.lineTo(r+l,n)),e.stroke()),s&&s.length){var g=Mo(u(Date.now()),i.axisLabel.font);if(i.type===E){if(!(c&&c[0]&&c[1]))return;d=c[1]-c[0]}var f=0,v=0;if(d){var p=Math.ceil((l+2)/g.width);f=l/p,v=d/p}else f=l/2;if(f&&(this.unitWidth=f,i.axisLabel.show||i.axisTick.show)){var y=i.axisLabel.font,x=i.axisLabel.color,b=i.axisLabel.align,m=i.axisTick.length,w=o?n:n+2+(i.axisTick.show?i.axisTick.length:0);if(i.axisTick.show&&m){e.strokeStyle=i.axisTick.color,e.beginPath();var k=r;if(d)for(;k<=r+l-1;)e.moveTo(k,n),e.lineTo(k,n+m),k+=f;else e.moveTo(k+l/2,n),e.lineTo(k+l/2,n+m);e.stroke()}if(i.axisLabel.show){var C=r,V=c[0];if(d)for(;C<=r+l-1;)ht.Default.drawText(e,u(V),y,x,C-g.width/2,w,g.width,g.height,b),C+=f,V+=v;else ht.Default.drawText(e,u(V),y,x,C+l/2-g.width/2,w,g.width,g.height,b)}}}}}]),po);function po(e,t,i){return h(this,po),c(this,(po.__proto__||Object.getPrototypeOf(po)).call(this,e,t,i))}function yo(o,e,t,i,a){var r=a.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0],l=n._axisObj.timeRange;if(r&&r.length){var h=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,h=void 0,s=0;s<a.length;s++)if(a[s][0]>=r){l=s;break}for(var u=a.length-1;0<=u;u--)if(a[u][0]<=n){h=u+1;break}a=a.slice(l,h)}if(!t)return a;var c=[],d=a.length;if(i){if(d<=i)return a;Array.prototype.push.apply(c,a.splice(d-i,i))}var g=[];if(!(t<(d=a.length)))return i&&a.push.apply(a,c),a;var f=2*(d/t|0);if(f<3)return i&&a.push.apply(a,c),a;for(var v=0;v<d;v+=f){for(var p=a.slice(v,Math.min(v+10,d)),y=p.length,x=p[0],b=p[0],m=1;m<y;m++){var w=p[m];w[1]<b[1]&&(b=w),w[1]>x[1]&&(x=w)}x[0]>b[1]?(g.push(b),g.push(x)):(g.push(x),g.push(b))}return c=g.concat(c)}(r,a.maxVisiblePoint,a.endProtectPoint,l),s=(e.name,e.itemStyle||{}),u=e.lineStyle||{},c=e.areaStyle||{},d=a.bounds.bodyRect,g=d.x,f=d.y,v=d.width,p=d.height,y=la(i.color,t),x=i.yAxis[e.yAxisIndex||0],b=(n._axisObj.unitWidth,x._axisObj.valueRange),m=b[0],w=b[1]-m,k=l[0],C=l[1]-k,V=e.smooth,_=[],I=void 0,T=void 0;if(h.forEach(function(e){var t=e[0],i=e[1],o={x:g+v*((t-k)/C),y:f+p*(1-Math.abs(i-m)/w)};_.push(o)}),T=_.slice(0),V&&2<=_.length){var D=Da(_,"number"==typeof V?V:void 0);_=D.points,I=D.segments}if(o.save(),c.color&&1<_.length){var S=_[0],L=_[_.length-1];ma(o,_,I),o.lineTo(L.x,f+p),o.lineTo(S.x,f+p),o.closePath(),o.fillStyle=Ra(o,c.color,d),o.fill()}var R=u.color||y;o.lineWidth=u.width||2,o.strokeStyle=Ra(o,R),a.seriesColors.push(R),u.pattern&&o.setLineDash(u.pattern),ma(o,_,I),o.stroke(),o.restore();var P=s.size||0,B=s.activeSize||3;P||1!==_.length||(P=1);var E=s.background,A=void 0===E?R:E,M=s.borderWidth,O=void 0===M?1:M,H=s.borderColor,W=void 0===H?R:H;if(P&&(o.beginPath(),T.forEach(function(e,t){var i=P;i&&(o.moveTo(e.x+i,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}),o.closePath(),A&&(o.fillStyle=A,o.fill()),O&&W&&(o.lineWidth=O,o.strokeStyle=W,o.stroke())),a.hoverTime&&B){var F=s.activeBackground,N=void 0===F?A:F,j=s.activeBorderColor,G=void 0===j?W:j,z=s.activeBorderWidth,Y=void 0===z?O:z;a._hoverHandlers||(a._hoverHandlers=[]);for(var X=void 0,U=0;U<h.length;U++)if(h[U][0]===a.hoverTime){X=T[U];break}if(!X)return;a._hoverHandlers.push(function(){o.beginPath(),o.moveTo(X.x,X.y),o.arc(X.x,X.y,B,0,2*Math.PI),N&&(o.fillStyle=N,o.fill()),Y&&G&&(o.lineWidth=Y,o.strokeStyle=G,o.stroke())})}}}function xo(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,h=e.innerRadius,s=h+l,u=n-r,c={x:s*o(r),y:s*a(r)},d={x:s*o(n),y:s*a(n)},g={x:h*o(r),y:h*a(r)},f={x:h*o(n),y:h*a(n)},v=t,p=v+Math.PI/2,y=p+Math.PI/2,x=y+Math.PI/2,b=[{x:s*o(v),y:s*a(v)},{x:s*o(p),y:s*a(p)},{x:s*o(y),y:s*a(y)},{x:s*o(x),y:s*a(x)}],m=[c,d,g,f],w=0;w<4;w++){var k=b[w],C=new i(c),V=new i(k),_=C.clone().normalize().dot(V.normalize()),I=Math.acos(_);0<C.x*V.y-V.x*C.y?I<u&&m.push(k):2*Math.PI-I<u&&m.push(k)}for(var T=-1/0,D=1/0,S=0,L=m.length;S<L;S++){var R=m[S].y;T=Math.max(T,R),D=Math.min(D,R)}return{minY:D,maxY:T}}function bo(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,h=e.seriesName,s=e.labelEmphasis,u=e.labelNormal,c=e.labelLineNormal,d=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=s.font,s.formatter):(g=u.font,u.formatter):"labelLine"===o&&(f=i?(g=d.font,d.formatter):(g=c.font,c.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?h:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),y=void 0,x=void 0;return g&&(x=(y=Mo(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:y,beginHeight:x}}var mo=ht.Default.isBoolean,wo=(t(ko,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!mo(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),h=e.getValue("label.emphasis.formatter"),s=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!mo(n)||n,position:l||"center",formatter:h||"",color:s,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),h=e.getValue("labelLine.normal.lineColor"),s=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!mo(t)||t,length:i||15,length2:o||10,formatter:a||"",width:r||1,type:n||"dashed",font:l||"12px serif",lineColor:h,textColor:s};var u=e.getValue("labelLine.emphasis.show"),c=e.getValue("labelLine.emphasis.length"),d=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),y=e.getValue("labelLine.emphasis.lineColor"),x=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!mo(u)||u,length:c||15,length2:d||10,formatter:g||"",width:f||2,type:v||"dashed",font:p||"13px serif",lineColor:y,textColor:x}}}]),ko);function ko(e){h(this,ko),this.initGLabel(e),this.initGLabelLine(e)}var Co=ht.Default.isEmptyObject,Vo=(t(_o,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"系列名":a,n=t.value,l=void 0===n?0:n,h=t.itemStyle,s=void 0===h?{}:h,u=t.labelLine,c=void 0===u?{}:u,d=t.label,g=void 0===d?{}:d,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,y=e.gLabelLineEmphasis,x=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:x,borderColor:"#000"},s),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,c.normal||{}),this.labelLineEmphasis=Object.assign({},y,c.emphasis||{}),Co(this.labelNormal.color)){var b=this.labelNormal.position;this.labelNormal.color="center"===b?x:"black"}if(Co(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?x:"black"}Co(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=x),Co(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=x),Co(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=x),Co(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=x),this.pieColor=x}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),h=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(h+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return bo(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,h=this.outerRadius,s=this.lineAngle,u=this.hoverOffset,c=t.length,d=i.length,g=e?l+n+u:l+n,f=e?h+u:h,v=o+(r?g:f)*Math.cos(s),p=a+(r?g:f)*Math.sin(s),y=void 0,x=void 0;if(e){var b=h+u+d;y=o+b*Math.cos(s),x=a+b*Math.sin(s)}else{var m=h+c;y=o+m*Math.cos(s),x=a+m*Math.sin(s)}return{x0:v,y0:p,x1:y,y1:x}}},{key:"getLabelLineLabelInfo",value:function(e){return bo(this,{isEmphasis:e,type:"labelLine"})}}]),_o);function _o(e,t){h(this,_o),Object.assign(this,e),this.initDefaultValue(t)}function Io(e,t,i,o,a){var r=ea(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,h=r.center,s=r.radius,u=r.foucusArcNum,c=r.hoverOffset,d=r.tooltip,g=void 0===d?{}:d,f=r.pieItems,v=pa(i,t,a,o);if(n){var p=ht.Math.Vector2,y=2*Math.PI,x=new p(h),b=s.outerRadius,m=s.innerRadius,w=ht.Default.getDistance(v,h);if(m<w&&w<(void 0!==u?b+c:b))for(var k=0,C=l.length;k<C;k++){var V=f[k],_=V.roseType,I=V.roseRadius;if(_&&(k===u?m+I+c:m+I)<w)k===u&&(delete r.foucusArcNum,t.iv());else{var T=new p(n[k]).sub(x),D=new p(v).sub(x),S=T.clone().normalize().dot(D.normalize()),L=Math.acos(S);if(0<T.x*D.y-D.x*T.y){if(L<l[k]){u!=k&&(r.foucusArcNum=k,t.iv());break}u===k&&(delete r.foucusArcNum,t.iv())}else{if(y-L<l[k]){u!=k&&(r.foucusArcNum=k,t.iv());break}u===k&&(delete r.foucusArcNum,t.iv())}}}else void 0!==u&&(delete r.foucusArcNum,t.iv())}if(g.show){var R=r.foucusArcNum;if(void 0!==R){var P=f[R],B=P.value,E=P.percent,A=P.name,M=P.seriesName,O=g.formatter,H=[];if(O)bo(P,{outFormatter:O}).labelTextArray.forEach(function(e,t){H.push([null,e])});else H=[["名称",A],["百分比",(100*E).toFixed(1)+"%"],["数值",B]];Do.setInfo({label:M,datas:H}),ta.show(Do.getView(),e)}else ta.hide()}}}var To=ht.Default.isBoolean,Do=new Vi,So=(i(Lo,ot),t(Lo,[{key:"onMove",value:function(e,t,i,o,a,r){Io(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o,a,r){Io(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i,o,a,r){var n=ea(i,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),ta.hide())}}]),Lo);function Lo(){return h(this,Lo),c(this,(Lo.__proto__||Object.getPrototypeOf(Lo)).call(this))}function Ro(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);Mo(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}var Po,Bo,Eo,Ao=/firefox/.test(window.navigator.userAgent.toLowerCase()),Mo=(Po={},Bo=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){Bo.font=e||ht.Default.labelFont;var i=Po[Bo.font];return i||(i=2*Bo.measureText("e").width,Po[Bo.font]=i),{width:Bo.measureText(t).width+2,height:i}}),Oo=function(e,t){if(!e)return Ho([],t);var i=function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/^\s+|\s+$/g,"")):""}(e).split(/\s+/g),o=[];return i.forEach(function(e){isNaN(e)||o.push(parseInt(e))}),Ho(o)},Ho=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},Wo=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},Fo=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),No(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),No(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},No=((Eo=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),jo=function(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),o)Array.prototype.push.apply(a,Ro(h,i,t));else{for(var s,u,c="",d=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?c+="1":c+="2"}c=(c=c.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var y=0;y<c.length;y++){c.charAt(y).match(/\_/g)&&(h=Go(h,y+1,"|"))}s=h.split("|"),u=c.split("_");for(var x=0,b=s.length;x<b;x++)d=v+s[x],g=Mo(t,d),"1"===u[x][0]?g.width>i?v?(a.push(v),v="",x--):(f=Ro(s[x],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(d),""):d:v=g.width>i?(f=Ro(d,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):d;v&&a.push(v)}}return a},Go=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)},zo=function(e,t,i,o,a,r){return e?(t=t&&new y(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,ke.activeDarker):r?null:ke.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,ke.hoverDarker):r?null:ke.emptyColor):r?null:t?t.getRGBA():ke.emptyColor):t};function Yo(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function Xo(e){var t=e.a(f.VALUE);return void 0===t?"":t}var Uo,Ko=(Uo=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;Uo||((Uo=document.createElement("input")).setAttribute("type","file"),Uo.setAttribute("id","hiddenFile"),Uo.style.width=0,Uo.style.height=0,Uo.addEventListener("change",function(e){document.body.removeChild(Uo),Uo=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)s?s(t[o])&&i.files.push(t[o]):i.files.push(t[o]);if(h&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},Zo(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},Zo(r,t[0],h)}else n(i)}),document.body.appendChild(Uo)),Uo.multiple=!!l,Uo.accept=t||"",Uo.click()});function Zo(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function $o(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null}var qo=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?a+=s:o+=s,u.push(s),1<(s=parseFloat(h[1]))?(a+=s,u.unshift(s)):(o+=s,u.push(s)),i.push(u)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):o+=r,i.push(r);for(n=0,l=i.length;n<l;n++)(r=i[n])<1?i[n]=Math.max(0,r/o*(t-a)):r instanceof Array&&(i[n]=r[0]+Math.max(0,r[1]/o*(t-a)));return i},Jo=function(e){var t=we(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},Qo=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}($o(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},ea=function(e,t,i){var o=$o(e,t);if(!o)return{};if(o.vectorInfos){for(var a=o.vectorInfos,r=0;r<a.length;r++)if(a[r].comp===i)return a[r]}else o.vectorInfos=[];var n={comp:i};return o.vectorInfos.push(n),n},ta=new Xi,ia=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),t.getView().removeChild(i)},oa=function(e){return null==e||""===e},aa=function(e){return null==e},ra=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":ye(r))||ht.Default.isArray(r)||o?t[a]=i[a]:e(t[a],i[a])}},na=function(e,t){e.getView().style.cursor=t},la=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},ha=function(e,t,i,o){var a=e[t];if(a&&a.func&&"string"==typeof a.func){var r=a.func.split("@"),n=we(r,2);n[0];return n[1]}return null},sa=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},ua=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},ca=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},da=function(e,t,i){var o=Qo(i,t,e).rect,a=t.getAnchor(),r=t.getWidth(),n=t.getHeight(),l=t.toGlobal({x:o.x-a.x*r,y:o.y-a.y*n}),h=t.toGlobal({x:o.x+o.width-a.x*r,y:o.y+o.height-a.y*n});return function(e,t){var i=t.getView().getBoundingClientRect(),o=t.getZoom(),a=t.tx(),r=t.ty(),n={};return n.height=e.height*o,n.width=e.width*o,n.x=i.left+a+e.x*o,n.y=i.top+r+e.y*o,n}(Ca(l,h),i)},ga=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},fa=function(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&h)n=(u=ht.Default).createGradient.apply(u,[e,l,n,h].concat(Pe(s)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())},va=function(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),ht.Default.drawRoundRect(e,a,r,n,l,o),e.closePath(),e.fill()},pa=function(e,t,i,o){var a=Qo(e,t,i);return{x:o.x+a.rect.x,y:o.y+a.rect.y}},ya=function(e){return ht.Default.clone(e)},xa=function(e){return ht.Default.isArray(e)},ba=function(e){return!aa(e)},ma=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},wa=function(e,t,i,o,a,r,n,l,h,s){ht.Default.drawText(e,t,i,o,a,r,n,l,h,s)},ka=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},Ca=function(e,t){return ht.Default.unionPoint(e,t)},Va=function(e,t){return ht.Default.intersectsRect(e,t)},_a=function(e,t,i){if(i){var o=Mo(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),h=new ht.Math.Vector2(o.width/2,o.height/2),s=Math.PI*(i/180);return a.rotateAround(h,s),r.rotateAround(h,s),n.rotateAround(h,s),l.rotateAround(h,s),Ca([a,r,n,l])}return Mo(e,t)},Ia=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},Ta=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},Da=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:null};for(var n=0;n<o;n++){var l=e[n],h=e[n-1]||l,s=e[n+1]||l,u=new ht.Math.Vector2(e[n]),c=new ht.Math.Vector2(h),d=new ht.Math.Vector2(s).clone().sub(c).multiplyScalar(i);if(0===n){a.push({x:u.x,y:u.y});var g=u.clone().add(d);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=u.clone().sub(d);a.push({x:f.x,y:f.y}),a.push({x:u.x,y:u.y}),r.push(4)}else{var v=u.clone().sub(d),p=u.clone().add(d);a.push({x:h?Math.max(h.x,v.x):v.x,y:v.y}),a.push({x:u.x,y:u.y}),a.push({x:s?Math.min(s.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},Sa=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},La=function(e){return ht.Default.toColorData(e)},Ra=function(e,t,i){if("object"!==(void 0===t?"undefined":ye(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,h=i.width,s=i.height,u=void 0;if("radial"===o){r=r||[0,0,0,1];var c=Math.min(h,s),d=[n+h*r[0],l+s*r[1],c*r[2],n+h*r[3],l+s*r[4],c*r[5]];u=e.createRadialGradient.apply(e,d),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}else{var g=[n+h*(r=r||[0,0,0,1])[0],l+s*r[1],n+h*r[2],l+s*r[3]];u=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}return u},Pa={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),h=i.getValue("icon"),s=i.getValue("iconPosition"),u=i.getValue("iconWidth"),c=i.getValue("iconHeight"),d=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),y=i.getColor("hoverTextColor"),x=i.getColor("activeTextColor"),b=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),k=i.getColor("hoverBorderColor"),C=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),_=i.getColor("background"),I=i.getColor("hoverBackground"),T=i.getColor("activeBackground"),D=i.getColor("disabledBackground"),S=i.getValue("borderRadius"),L=i.getValue("handleClick"),R=ea(a,o,i),P=Ho(q),B=(we(P,4),Oo(S)),E=we(B,4),A=E[0],M=E[1],O=E[2],H=E[3],W=t.x,F=t.y,N=t.width,j=t.height;if(n?(_=D,w=V,p=b,m=m||1):(_=zo(R,_,I,T,!0),w=zo(R,w,k,C,!0),g=zo(R,g,f,v,!1,!0),p=zo(R,p,y,x,!0)),e.fillStyle=_,e.beginPath(),ht.Default.drawRoundRect(e,W,F,N,j,A,M,H,O),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&ba(r))K(e,r,l,p,W,F,N,j,"center","middle");else if(h&&!ba(r))Z(e,$(h),"uniform",W+.5*(N-u),F+.5*(j-c),u,c,o,a,g);else if(h&&ba(r)){var G=Mo(l,r),z=void 0,Y=void 0;if(ne===s||le===s){var X=F+.5*(j-c-G.height-d);z={x:W,height:G.height,width:N},Y={x:W+.5*(N-u),width:u,height:c},ne===s?(z.y=X+c+d,Y.y=X):le===s&&(z.y=X,Y.y=X+G.height+d)}else{var U=W+.5*(N-u-G.width-d);z={width:G.width,y:F,height:j},Y={y:.5*(j-c),width:u,height:c},he===s?(z.x=U,Y.x=U+G.width+d):(z.x=U+u+d,Y.x=U)}K(e,r,l,p,z.x,z.y,z.width,z.height,"center","middle"),Z(e,$(h),"uniform",Y.x,Y.y,Y.width,Y.height,o,a,g)}R&&(R.disabled=n,R.onClick=L)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor")||u,d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("icon"),y=i.getValue("iconWidth"),x=i.getValue("iconHeight"),b=i.getValue("iconAlign"),m=i.getValue("font"),w=i.getValue("textAlign"),k=i.getColor("textColor"),C=i.getValue("maxLength"),V=i.getValue("inputType"),_=i.getValue("enterEndInputable"),I=i.getValue("onKeyDown"),T=i.getValue("onKeyUp"),D=i.getValue("onChange"),S=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",L=ea(a,o,i),R=L&&L.editing,P=L&&L.editingValue,B=Oo(g),E=we(B,4),A=E[0],M=E[1],O=E[2],H=E[3],W=Oo(d),F=we(W,4),N=F[0],j=F[1],G=F[2],z=F[3],Y=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;if(o&&R?(Z=v,u=c):Z=f,e.beginPath(),ht.Default.drawRoundRect(e,Y,X,U,K,N,j,z,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||R&&s&&c)&&(e.strokeStyle=R?c:u,e.lineWidth=s,e.stroke()),r=(ba(r)?r:"")+"",!P||!R){var $=!r&&n,q=r||n||"",J=r?k:l,Q=Math.max(0,U-H-M),ee=Math.max(0,K-A-O),te=Y+H,ie=X+A;R&&(q=n||"",J=l),q&&(e.save(),e.beginPath(),e.rect(te,ie,Q,ee),e.clip(),!$&&o&&"password"===V&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="•";return e}()),re(e,q,m,J,te,X+1,Q,K,w,"middle"),e.restore())}if(p){var oe=void 0;oe="left"===b?Y:"center"===b?Y+.5*(U-y):Y+U-y,ue(e,ce(p),"uniform",oe,.5*(K-x),y,x,o,a)}if(h){var ae=s/2;e.beginPath(),ht.Default.drawRoundRect(e,Y-ae,X-ae,U+s,K+s,N,j,z,G),e.fillStyle=S,e.closePath(),e.fill()}L&&(L.disabled=h,L.font=m,L.value=r,L.placeholder=n,L.textAlign=w,L.maxLength=C,L.textColor=k,L.inputType=V,L.enterEndInputable=_,L.onKeyUp=T,L.onKeyDown=I,L.onChange=D,L.padding=g,L.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getColor("min"),s=i.getColor("max"),u=i.getColor("step"),c=i.getValue("disabled"),d=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),y=i.getColor("background"),x=i.getColor("focusBackground")||y,b=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),k=i.getValue("iconAlign"),C=i.getValue("font"),V=i.getValue("textAlign"),_=i.getColor("textColor"),I=i.getValue("maxLength"),T=i.getValue("enterEndInputable"),D=i.getValue("buttonVisible"),S=i.getValue("onKeyDown"),L=i.getValue("onKeyUp"),R=i.getValue("onChange"),P=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",B=ea(a,o,i),E=B&&B.editing,A=B&&B.editingValue,M=Oo(p),O=we(M,4),H=O[0],W=O[1],F=O[2],N=O[3],j=Oo(v),G=we(j,4),z=G[0],Y=G[1],X=G[2],U=G[3],K=t.x,Z=t.y,$=t.width,q=t.height,J=void 0;if(o&&E?(J=x,g=f):J=y,e.beginPath(),ht.Default.drawRoundRect(e,K,Z,$,q,z,Y,U,X),e.closePath(),J&&(e.fillStyle=J,e.fill()),(d&&g||E&&d&&f)&&(e.strokeStyle=E?f:g,e.lineWidth=d,e.stroke()),!A&&0!==A||!E){var Q=ba(r)?r:ba(n)?n:"",ee=ba(r)?_:l,te=Math.max(0,$-N-W),ie=Math.max(0,q-H-F),oe=K+N,ae=Z+H;E&&(Q=ba(n)?n:"",ee=l),ba(Q)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),Ke(e,Q,C,ee,oe,Z+1,te,q,V,"middle"),e.restore())}if(D){var re=K+$-20,ne=Z+d/2,le=q-d,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),B&&(B.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(b){var se=void 0;se="left"===k?K:"center"===k?K+.5*($-m):K+$-m,Ze(e,$e(b),"uniform",se,.5*(q-w),m,w,o,a)}if(c){var ue=d/2;e.beginPath(),ht.Default.drawRoundRect(e,K-ue,Z-ue,$+d,q+d,z,Y,U,X),e.fillStyle=P,e.closePath(),e.fill()}B&&(B.disabled=c,B.font=C,B.value=r,B.placeholder=n,B.textAlign=V,B.maxLength=I,B.textColor=_,B.enterEndInputable=T,B.onKeyUp=L,B.onKeyDown=S,B.onChange=R,B.padding=p,B.step=u,B.min=h,B.max=s,B.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),c=i.getColor("focusBorderColor"),d=i.getValue("borderRadius"),g=i.getValue("padding"),f=i.getColor("background"),v=i.getColor("focusBackground")||f,p=i.getValue("textAlign"),y=i.getColor("textColor"),x=i.getValue("lineHeight"),b=i.getValue("font"),m=i.getValue("wordBreak"),w=i.getValue("maxLength"),k=i.getValue("enterEndInputable"),C=i.getValue("onKeyUp"),V=i.getValue("onKeyDown"),_=i.getValue("onChange"),I=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",T=ea(a,o,i),D=T&&T.editing,S=T&&T.editingValue,L=Oo(g),R=we(L,4),P=R[0],B=R[1],E=R[2],A=R[3],M=Oo(d),O=we(M,4),H=O[0],W=O[1],F=O[2],N=O[3],j=e.x,G=e.y,z=e.width,Y=e.height,X=void 0;if(o&&D?(X=v,u=c):X=f,t.beginPath(),ht.Default.drawRoundRect(t,j,G,z,Y,H,W,N,F),t.closePath(),X&&(t.fillStyle=X,t.fill()),(s&&u||D&&s&&c)&&(t.strokeStyle=D?c:u,t.lineWidth=s,t.stroke()),r=(ba(r)?r:"")+"",!S||!D){var U=r||n||"",K=r?y:l,Z=Math.max(0,z-A-B),$=Math.max(0,Y-P-E);if(D&&(U=n||"",K=l),U){t.save(),t.beginPath(),t.rect(j+A,G+P,Z,$),t.clip();var q=jo(U,b,Z,m),J=G+P;q.forEach(function(e){G+Y<J||(ee(t,e,b,K,j+A,J,Z,x,p,"middle"),J+=x)}),t.restore()}}if(h){var Q=s/2;t.beginPath(),ht.Default.drawRoundRect(t,j-Q,G-Q,z+s,Y+s,H,W,N,F),t.fillStyle=I,t.closePath(),t.fill()}T&&(T.disabled=h,T.font=b,T.value=r,T.placeholder=n,T.textAlign=p,T.maxLength=w,T.textColor=y,T.enterEndInputable=k,T.padding=g,T.wordBreak=m,T.onKeyUp=C,T.onKeyDown=V,T.onChange=_,T.lineHeight=x,T.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),c=i.getColor("disabledBackground"),d=(i.getValue("symbol"),ea(a,o,i)),g=n?s:l,f=t.x,v=t.y,p=t.width,y=t.height,x=Math.min(p,y);o&&(r?(g=u,h=c):d.pressed?n?g=ht.Default.darker(g,ke.activeDarker):h=ht.Default.darker(h,ke.activeDarker):d.hover&&(n?g=ht.Default.darker(g,ke.hoverDarker):h=ht.Default.darker(h,ke.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*x,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*x,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=b),d&&(d.disabled=r,d.onChange=i.getValue("onChange"),d.group=i.getValue("group"),d.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),h=i.getColor("activeBorderColor"),s=i.getColor("disabledBorderColor"),u=i.getColor("background"),c=i.getColor("activeBackground"),d=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=ea(a,o,i),y=t.x,x=t.y,b=t.width,m=t.height,w=Math.min(b,m);u=r?c:u,u=n?(l=s,f=v,d):zo(o,u,null,null,!0),r&&!n&&(l=h),m<b?y+=.5*(b-m):b<m&&(x+=.5*(m-b)),e.beginPath(),ht.Default.drawRoundRect(e,y,x,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(y+.125*w,x+.5*w),e.lineTo(y+w*(3/8),x+.75*w),e.lineTo(y+.8125*w,x+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=k),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),s=i.getValue("focusBorderColor"),u=i.getValue("borderRadius"),c=i.getValue("textColor"),d=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),y=i.getValue("dropDownIconColor"),x=i.getValue("dropDownIconWidth"),b=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=ea(a,o,i),k=Oo(u),C=we(k,4),V=C[0],_=C[1],I=C[2],T=C[3],D=t.x,S=t.y,L=t.width,R=t.height,P=D+L+5,B=S+R+5,E=!1,A=void 0;if(r?l=c=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),ht.Default.drawRoundRect(e,D,S,L,R,V,_,T,I),e.closePath(),e.clip();for(var M=S,O=0;M<B;M+=5,O++){E=O%2!=0;for(var H=D;H<P;H+=5)e.fillStyle=E?te:Q,e.fillRect(H,M,5,5),E=!E}}else{P=(A={x:D+4,y:S+4,width:1.66*(R-8),height:R-8}).x+A.width,B=A.y+A.height,e.beginPath(),e.rect(A.x,A.y,A.width,A.height),e.closePath(),e.clip();for(var W=A.y,F=0;W<B;W+=5,F++){E=F%2!=0;for(var N=A.x;N<P;N+=5)e.fillStyle=E?te:Q,e.fillRect(N,W,5,5),E=!E}}e.restore(),e.beginPath(),ht.Default.drawRoundRect(e,D,S,L,R,V,_,T,I),e.closePath(),d&&f?(e.fillStyle=d,e.fill()):d&&!f&&(e.fillStyle=d,e.fillRect(A.x,A.y,A.width,A.height),ie.setColor(d),j(e,ie,g,c,A.x+A.width+4,S,L-A.width-8,R,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&z(e,J(p||"ht.vector.dropDownIcon"),"uniform",D+L-8-x,S+.5*(R-b),x,b,o,a,y),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getValue("borderColor"),c=i.getValue("disabledBorderColor"),d=i.getValue("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getValue("background"),p=i.getValue("disabledBackground"),y=i.getValue("focusBackground")||v,x=i.getValue("icon"),b=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),k=i.getValue("font"),C=i.getValue("textAlign"),V=i.getValue("textColor"),_=i.getValue("disabledTextColor"),I=i.getValue("dropDownIcon"),T=i.getValue("dropDownIconColor"),D=i.getValue("dropDownIconWidth"),S=i.getValue("dropDownIconHeight"),L=i.getValue("drawUnMatchValue"),R=ea(a,o,i),P=R&&R.editing,B=Oo(f),E=we(B,4),A=E[0],M=E[1],O=E[2],H=E[3],W=Oo(g),F=we(W,4),N=F[0],j=F[1],G=F[2],z=F[3],Y=t.x,X=t.y,U=t.width,K=t.height,Z=void 0;o?h?(Z=p,u=c,V=_,s=s||1):P?(Z=y,u=d):Z=v:Z=v,e.beginPath(),ht.Default.drawRoundRect(e,Y,X,U,K,N,j,z,G),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||P&&s&&d)&&(e.strokeStyle=P?d:u,e.lineWidth=s,e.stroke());var $="";if(L)$=r;else if(!aa(r)&&l)for(var q=0,J=l.length;q<J;q++)if(l[q].value===r){$=l[q].label,x=l[q].icon;break}$||(x=null,aa(r)||($=r+""));var Q=$||n||"",ee=Math.max(0,U-H-M),te=Math.max(0,K-A-O),ie=Y+H,oe=X+A;if(aa(r)&&!h&&(V=ke.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),ve(e,Q,k,V,x?ie+b:ie,oe,ee,te,C,"middle"),e.restore(),x){var ae=void 0;ae="left"===w?ie:"center"===w?Y+.5*(U-b):Y+U-b-M,pe(e,xe(x),"uniform",ae,.5*(K-m),b,m,o,a)}pe(e,xe(I||"ht.vector.dropDownIcon"),"uniform",Y+U-8-D,X+.5*(K-S),D,S,o,a,T),R&&(R.disabled=h,R.dataSource=l,R.dropIconWidth=i.getValue("dropIconWidth"),R.dropIconHeight=i.getValue("dropIconHeight"),R.dropRowHeight=i.getValue("dropRowHeight"),R.dropWidth=i.getValue("dropWidth"),R.dropBackground=i.getValue("dropBackground"),R.dropLabelFont=i.getValue("dropLabelFont"),R.dropLabelColor=i.getValue("dropLabelColor"),R.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),R.dropActiveBackground=i.getValue("dropActiveBackground"),R.dropHoverBackground=i.getValue("dropHoverBackground"),R.dropMaxHeight=i.getValue("dropMaxHeight"),R.onChange=i.getValue("onChange"),R.dropBorderColor=i.getValue("dropBorderColor"),R.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),h=i.getValue("max"),s=i.getValue("showTick"),u=i.getValue("tickEvery"),c=i.getColor("tickColor"),d=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),y=i.getValue("labelEvery"),x=i.getColor("labelColor"),b=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),k=i.getValue("shadowBlur"),C=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),_=i.getValue("shadowOffsetY");Ce=i.getValue("clockwise"),Ve=i.getValue("min"),be=i.getValue("startAngle"),me=i.getValue("endAngle"),oe=Math.abs(h-Ve),ae=Math.abs(me-be);var I=t.x,T=t.y,D=t.width,S=t.height,L=Math.min(D,S)/2,R=U(l,Ce);if(e.save(),w&&(e.shadowColor=C,e.shadowBlur=k,e.shadowOffsetX=V,e.shadowOffsetY=_),e.translate(I+.5*D,T+.5*S),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var P=Ve;P<=h;P+=g){var B=U(P,Ce),E=L*Math.cos(B),A=L*Math.sin(B);e.moveTo(.84*E,.84*A),e.lineTo(E,A)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=c,e.lineWidth=d;for(var M=Ve;M<=h;M+=u){var O=U(M,Ce),H=L*Math.cos(O),W=L*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&y){m=Y(m,L),e.font=b,e.fillStyle=x,e.textAlign="center",e.textBaseline="middle";for(var F=Ve;F<=h;F+=y){var N=U(F,Ce),j=m*Math.cos(N),G=m*Math.sin(N);e.fillText(F,j,G)}}var z=.05*(r=Y(r,L));e.rotate(R),e.beginPath(),e.moveTo(-1.5*z,0),e.lineTo(0,-z),e.lineTo(r,0),e.lineTo(0,z),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(v,p,o,y,x){var a,i=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),r=o.getColor("tdBackground"),b=o.getValue("thHeight"),n=o.getValue("tdHeight"),m=o.getValue("textLineHeight"),s=o.getColor("thColor"),w=o.getColor("tdColor"),u=o.getValue("thFont"),k=o.getValue("tdFont"),C=o.getValue("borderWidth"),l=o.getColor("borderColor"),h=o.getColor("columnLineColor"),V=o.getValue("columnLineWidth"),c=o.getValue("columnLinePattern"),d=o.getColor("rowLineColor"),_=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),I=o.getValue("showHeadRowLine"),T=o.getValue("cellPadding"),D=o.getValue("showHead"),S=o.getColor("hoverBackground"),L=o.getColor("hoverColor"),R=o.getColor("selectBackground"),P=o.getColor("selectColor"),B=o.getValue("translateY")||0,E=o.getValue("translateX")||0,f=o.getValue("scrollable"),A=o.getValue("autoHideScrollBar"),M=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),H=o.getValue("scrollBarWidthAbsolute"),W=o.getValue("drawRow"),F=o.getValue("multiple"),N=o.getValue("onSelectRow"),j=o.getValue("onHoverCell"),G=o.getValue("onClickCell"),z=o.getValue("selectedIndex")||[],Y=o.getValue("visibleFunc"),X=o.getValue("columnVisibleFunc"),U=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),Z=o.getValue("resizeLineColor"),$=o.getValue("resizeInteractiveSize"),q=o.getValue("showHeadColumnLineOnly"),J=ea(x,y,o),Q=p.x,ee=p.y,te=p.width,ie=p.height,oe=te-2*C,ae=ie-2*C,re=void 0,ne=[],le=[],he=[],se=[];if(D&&(re=[Q+C,ee+C,oe,b]),a=[Q+C,ee+b*D+C,te,ae-b*D],aa(z)||ht.Default.isArray(z)||(z=[z]),v.save(),v.beginPath(),v.rect(Q,ee,te,ie),v.clip(),t&&D&&(v.fillStyle=t,v.fillRect.apply(v,Pe(re))),r&&(v.fillStyle=r,v.fillRect.apply(v,Pe(a))),i&&0<i.length&&(i.forEach(function(e,t){(X&&X(e,t,y,x)||!X)&&(he.push(e),se.push(t))}),he.length)){var ue=he.length,ce=qo(he,oe-V*(ue-1)),de=e.length,ge=[],fe=[],ve=J.customColWidths||[],pe=Q+C+E;if(D){var ye=1;x&&x.getZoom&&(ye=x.getZoom()),$*=1/ye;for(var xe=function(e){var t=he[e],i=t.drawHeadCell,o=ce[e]-2*T,a=t.headColor||t.color||s;"function"==typeof a&&(a=a(t)),pe+=T,v.save(),v.beginPath();var r,n=t.displayName||t.key,l=u,h=[pe,ee+C,o,b];v.rect.apply(v,h),v.clip(),r=function(){Be.apply(void 0,[v,n,l,a].concat(h,[t.align||"left","middle"]))},i?i(v,n,Jo(h),{color:a,font:l,defaultDraw:r,data:y,column:t,colIndex:se[e]}):r(),v.restore(),pe+=o+V+T,fe.push({x:pe-$/2-V/2,y:ee,width:$,height:b})},be=0;be<ue;be++)xe(be)}v.save(),v.beginPath(),v.rect(Q+C,ee+C+(D?b:0),oe,ae-b*D),v.clip();var me=ee;if(e&&0<de&&(e.forEach(function(e,t){(Y&&Y(e,t,y,x)||!Y)&&(ne.push(e),le.push(t))}),ne.forEach(function(e,t){ge.push(function(r,n,l,e,t){var h=Math.max(l,e);return t.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(He);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h}(e,le[t],m,n,i))}),!F&&1<z.length&&(z=z.slice(0,1)),ne.forEach(function(h,s){var u=le[s],c=ge[s],d=me+_*(u+I*D*1)+b*D+C+B,e={x:Q,y:d,width:te,height:c};if(me+=c,pe=Q+C+E,Oe(Jo(a),e)){W&&W.call(o,v,h,u,e,le.indexOf(u),y,x);var g=J&&J.hoverIndex===u,f=z&&-1!==z.indexOf(u);f&&R?(v.fillStyle=R,v.fillRect(Q,d,te,c)):!f&&g&&S&&(v.fillStyle=S,v.fillRect(Q,d,te,c));for(var t=function(e){var a=he[e],t=se[e],i=a.drawCell,r=ce[e]-2*T,n=a.bodyColor||a.color||w;if(f&&P&&(n=P),!f&&g&&L&&(n=L),"function"==typeof n&&(n=n(h[a.key],h)),!Oe({x:pe+=T,y:d,width:r,height:c},p))return pe+=r+V+T,"continue";var l=h[a.key];a.format&&(l=a.format(l,h,u,t)),v.save(),v.beginPath(),v.rect(pe,d,r,c),v.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,l=s+1),e)0<r&&Ee(v,Ae(l),"centerUniform",pe,d+1,r,c-2,y,x);else{if(oa(l))return;var t="string"==typeof l?l.match(He):null;if(t?t.length:0){var i=l.split(He),o=d;"middle"===a.vAlign?o=d+(c-i.length*m)/2:"bottom"===a.vAlign&&(o=d+(c-i.length*m)),i.forEach(function(e){Be(v,e,k,n,pe,o,r,m,a.align||"left",a.vAlign||"middle"),o+=m})}else Be(v,l,k,n,pe,d,r,c,a.align||"left",a.vAlign||"middle")}}i?i(v,l,{x:pe,y:d,width:r,height:c},{column:a,colIndex:t,row:h,rowIndex:u,font:k,color:n,defaultDraw:o,data:y}):o();pe+=r+V+T,v.restore()},i=0;i<ue;i++)t(i)}})),J&&(J.rowHeights=ge,J.colWidths=ce,J.headHeight=D?b:0,J.rowLineWidth=_,J.columnLineWidth=V,J.translateX=E,J.translateY=B,J.autoHideScrollBar=A,J.multiple=F,J.selectedIndex=z,J.dataSource=e,J.columns=i,J.onSelectRow=N,J.onHoverCell=j,J.onClickCell=G,J.rawDatas=ne,J.rawIndexs=le,J.rawCols=he,J.rawColIndexs=se,J.headRect=re,J.bodyRect=a,J.resizable=U,J.resizeRects=fe,J.customColWidths=ve,J.onClickHeadCell=o.getValue("onClickHeadCell"),J.pannable=o.getValue("pannable"),J.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),J.scrollSpeed=o.getValue("scrollSpeed")),_){var we=ee+C+b*D+B;v.beginPath(),I&&D&&(we+=_/2,v.moveTo(Q,we),v.lineTo(Q+te,we),we+=_/2);for(be=0;be<de&&(we+=ge[be]+_/2,!(ee+ie<we));be++)we<ee||(v.moveTo(Q,we),v.lineTo(Q+te,we)),we+=_/2;v.strokeStyle=d,v.lineWidth=_,g&&1<g.length&&v.setLineDash(g),v.stroke()}if(v.restore(),V){var ke=Q+C+E,Ce=ee+(q&&D?b:ie);v.beginPath();for(var Ve=0;Ve<ue;Ve++)ke+=ce[Ve]+V/2,v.moveTo(ke,ee),v.lineTo(ke,Ce),ke+=V/2;v.strokeStyle=h,v.lineWidth=V,c&&1<c.length&&v.setLineDash(c),v.stroke()}if(y&&J&&f){var _e=V?V*(ue-1):0,Ie=_?(de-1)*_:0;ce.forEach(function(e){_e+=e}),ge.forEach(function(e){Ie+=e});var Te={x:Q+C,y:ee+C+(D?b:0),width:oe,height:ae-(D?b:0)},De={width:_e,height:Ie},Se={x:E,y:B},Le=x.getZoom?x.getZoom():1;Lt(v,Te,De,Se,{visible:!A||J.scrollBarVisible,color:M,barWidth:H?O/Le:O,gap:2/Le},J)}}if(C&&Me(v,l,Q,ee,te,ie,C),J.resizeDragPoint&&Z&&K){var Re=J.resizeDragPoint.x;v.strokeStyle=Z,v.lineWidth=K,v.beginPath(),v.moveTo(Re,ee),v.lineTo(Re,ee+ie),v.stroke()}v.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),_=t.getValue("startAngle"),l=t.getValue("endAngle"),h=t.getValue("tooltip.show"),s=t.getValue("tooltip.formatter"),I=t.getValue("roseType"),u=t.getValue("seriesName"),T=t.getValue("hoverOffset"),c=t.getValue("avoidLabelOverlap"),d=t.getValue("color");if(a instanceof Array){l<_&&(l=_),360<l-_&&(l=_+360),_=-Math.PI/180*_,l=Math.PI/180*l;var g=e.x,f=e.y,v=e.width,p=e.height,y=Math.min(v,p),x=0,b=0,m=-_,w=we(r,2),k=w[0],D=void 0===k?0:k,C=w[1],S=void 0===C?.5:C,L=we(n,2),R=L[0],P=void 0===R?.5:R,B=L[1],E=void 0===B?.5:B,A=l-Math.abs(_);0<=D&&D<=1&&(D*=y/2),0<=S&&S<=1&&(S*=y/2),P=0<=P&&P<=1?P*v+g:P+g,E=0<=E&&E<=1?E*p+f:E+f;var M=a.map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),O=M.reduce(function(e,t){return e+t},0),H=M.map(function(e){return e/O}),W=Math.max.apply(Math,Pe(M)),F=S-D,N=M.map(function(e){return e/W*F}),j=ea(o,i,t),G=[],z=void 0,Y=[],X=[],U=[],K=[],Z=void 0;if(j){0<a.length&&(z=new wo(t),a.forEach(function(e,t){if(e){var i=H[t],o=N[t],a=i*A,r=m+a/2;x+=a,G.push(new Vo({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:x,arcStartAngle:b,seriesName:u,index:t,data:e,centerX:P,centerY:E,outerRadius:S,innerRadius:D,roseType:I,hoverOffset:T,color:d},z)),m+=a,b=x}}),m=-_,x=b=_),Z=j.foucusArcNum;for(var $=0,q=G.length;$<q;$++){var J=G[$].arcAngle;Y.push({x:P+S*Math.cos(m),y:E+S*Math.sin(m)}),X.push(J),m+=J,$===q-1&&(m=-_)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),h=l.x0,s=l.y0,u=l.x1,c=l.y1,d=r.getLabelLineLabelInfo(n),g=d.labelTextArray,f=d.textHeight,v=d.beginHeight;t.push({x0:h,y0:s,x1:u,y1:c,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(G,U,Z),c&&function(e,c,t,d,g){for(var i=[],o=[],a=0;a<e.length;a++)e[a].x0<c?i.push(e[a]):o.push(e[a]);function r(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2,o=e[e.length-1].allTextHeight/2,a=g-i-o,r=e.length,n=0,l=0,h=e.length;l<h;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var s=a/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=c+t*(d+10),e[u].y1=i+u*s}}0<i.length&&r(i,-1),0<o.length&&r(o,1)}(U,P,0,S,p);for(var Q=0,ee=G.length;Q<ee;Q++){var te=G[Q],ie=(de=Z===Q)?te.labelLineEmphasis:te.labelLineNormal,oe=ie.show,ae=ie.width,re=ie.type,ne=ie.font,le=ie.lineColor,he=ie.textColor;if(!1!==oe){var se=function(){var e=U[Q],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;if(c&&!s)return{v:void 0};V.save(),V.lineWidth=ae,V.font=ne,V.strokeStyle=le,V.fillStyle=he,V.setLineDash("dashed"===re?[2,2]:[]);var u=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),V.moveTo(t,i),c&&V.lineTo(P+u*(S+5),i),V.lineTo(o,a),o+=u*h,V.lineTo(o,a),l.forEach(function(e,t){V.fillText(e,o+3*u,a-n/2+r*t)}),V.stroke(),V.restore()}();if("object"===(void 0===se?"undefined":ye(se)))return se.v}}V.save(),V.translate(P,E),V.rotate(-_),pe("fill"),pe("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(G,K),V.save(),V.textAlign="center",V.textBaseline="top";for(var ue=0,ce=G.length;ue<ce;ue++){te=G[ue];var de,ge=(de=Z===ue)?te.labelEmphasis:te.labelNormal,fe=(oe=ge.show,ge.position),ve=ge.color;ne=ge.font;!1!==oe&&function(){V.save(),V.font=ne,V.fillStyle=ve;var e=K[ue],i="center"===fe?P:e.textX,o="center"===fe?E:e.textY,t=te.getLabelInfo(de),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),j&&(j.arcPoints=Y,j.arcAngles=X,j.center={x:P,y:E},j.radius={outerRadius:S,innerRadius:D},j.hoverOffset=T,j.tooltip={show:!To(h)||h,formatter:s||""},j.pieItems=G)}}function pe(e){for(var t=0,i=G.length;t<i;t++){var o=G[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,h=l.color,s=l.borderWidth,u=l.borderColor,c=l.borderType,d=void 0;if("stroke"===e&&0<s||"fill"===e){if(V.save(),V.beginPath(),V.moveTo(D*Math.cos(r),D*Math.sin(r)),Z===t?(d=I?n+T+D:S+T,V.arc(0,0,d,r,a,!1),V.arc(0,0,D,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(d=I?n+D:S,V.arc(0,0,d,r,a,!1),V.arc(0,0,D,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof h)V.fillStyle=h;else if("object"===(void 0===h?"undefined":ye(h))){var g=h.type,f=h.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,D,0,0,d);else if("linear"===g){var p=xo(o,_),y=p.minY,x=p.maxY;v=V.createLinearGradient(0,y,0,x)}if(v&&f instanceof Array){for(var b=0,m=f.length;b<m;b++){var w=f[b],k=w.offset,C=w.color;void 0!==k&&void 0!==C&&v.addColorStop(k,C)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=s,V.setLineDash("dashed"===c?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,e,t,i,o){t.getValue("value");var c=t.getValue("max"),d=t.getValue("min"),a=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),h=t.getValue("labelDistance"),s=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("direction"),v=t.getValue("paddingBefore"),p=t.getValue("paddingAfter"),y=t.getColor("background"),x=t.getValue("smallTickEvery"),b=t.getColor("smallTickColor"),m=t.getValue("smallTickWidth"),w=t.getValue("smallTickLongness"),k=t.getValue("mediumTickEvery"),C=t.getColor("mediumTickColor"),V=t.getValue("mediumTickWidth"),_=t.getValue("mediumTickLongness"),I=t.getValue("largeTickEvery"),T=t.getColor("largeTickColor"),D=t.getValue("largeTickWidth"),S=t.getValue("largeTickLongness"),L=t.getValue("reverse"),R=e.x,P=e.y,B=e.width,E=e.height;y&&(u.fillStyle=y,u.fillRect(R,P,B,E));var A=c-d,M=E;f!==se&&f!==he||(M=B);var O=[{every:x,color:b,longness:w,width:m},{every:k,color:C,longness:_,width:V},{every:I,color:T,longness:S,width:D}];if(L){if(O.forEach(function(e){if(e.every){var t=de(e.longness,M);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=R+B-v,o=(B-v-p)*(e.every/A),a=f===ne?P:P+E;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i-=o}else{var n=P+E-v,l=(E-v-p)*(e.every/A),h=f===se?R:R+B;f===he&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),a){var H=de(h,M);if(u.fillStyle=n,u.font=r,f===ne||f===le){var W=R+B-v+s,F=a/A*(B-v-p),N=(f===ne?P:P+E)+g;if(f===le)H=0-H-Mo(r,"1").height;else u.textBaseline="hanging";for(var j=d;j<=c;j+=a){var G=Mo(r,j);l===ge?_e(u,j,r,n,W-.5*G.width,N+H,G.width,G.height,l,"middle"):l===he?u.fillText(j,W-Mo(r,j).width+2,N+H):l===se&&u.fillText(j,W,N+H),W-=F}}else{var z=P+E-v+g,Y=a/A*(E-v-p),X=(f===se?R:R+B)+s;u.textBaseline="middle",f===he&&(H=0-H);for(var U=d;U<=c;U+=a){var K=U+"";f===he?u.fillText(K,X+H-Mo(r,K).width+2,z):u.fillText(K,X+H,z),z-=Y}}}}else if(O.forEach(function(e){if(e.every){var t=de(e.longness,M);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var i=R+v,o=(B-v-p)*(e.every/A),a=f===ne?P:P+E;f===le&&(t=0-t);for(var r=d;r<=c;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i+=o}else{var n=P+v,l=(E-v-p)*(e.every/A),h=f===se?R:R+B;f===he&&(t=0-t);for(var s=d;s<=c;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),a){var Z=de(h,M);if(u.fillStyle=n,u.font=r,f===ne||f===le){var $=R+v+s,q=a/A*(B-v-p),J=(f===ne?P:P+E)+g;if(f===le)Z=0-Z-Mo(r,"1").height;else u.textBaseline="hanging";for(var Q=d;Q<=c;Q+=a){var ee=Mo(r,Q);l===ge?_e(u,Q,r,n,$-.5*ee.width,J+Z,ee.width,ee.height,l,"middle"):l===he?u.fillText(Q,$-Mo(r,Q).width+2,J+Z):l===se&&u.fillText(Q,$,J+Z),$+=q}}else{var te=P+v+g,ie=a/A*(E-v-p),oe=(f===se?R:R+B)+s;u.textBaseline="middle",f===he&&(Z=0-Z);for(var ae=d;ae<=c;ae+=a){var re=ae+"";f===he?u.fillText(re,oe+Z-Mo(r,re).width+2,te):u.fillText(re,oe+Z,te),te+=ie}}}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),c=t.getValue("padding"),d=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),y=e.x,x=e.y,b=e.width,m=e.height,w=Oo(c),k=we(w,4),C=k[0],V=k[1],_=k[2],I=k[3],T=Oo(f),D=we(T,4),S=D[0],L=D[1],R=D[2],P=D[3];i.beginPath(),ht.Default.drawRoundRect(i,y,x,b,m,S,L,P,R),i.closePath(),fa(i,{borderWidth:g,borderColor:d,dash:v,dashPattern:p,background:u});var B=I,E=C,A=0,M=b-I-V,O=r.split(/\n/),H=O.length*s+C+_,W=I+C;O.forEach(function(e){var t=Mo(n,e);A=Math.max(A,t.width),F(i,e,n,h,B,E,M,s,l,"middle"),E+=s}),W+=A,o&&o.constructor===ht.Node&&(o.getWidth()===W&&o.getHeight()===H||(o.setSize(W,H),o.setSize3d(W,100,H)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),y=i.getValue("sliderOffsetY"),x=i.getColor("barBackground"),b=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),k=i.getValue("barWidth"),C=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),D=i.getColor("toolTipFormat"),S=ea(a,o,i);l=Math.min(n,Math.max(r,l));var L=t.x,R=t.y,P=t.width,B=t.height,E=Math.abs(n-r),A={x:L+V,y:R+(B-k)/2,width:P-2*V,height:k};C<1&&(C*=k),va(e,A,x,C);var M=ht.Default.clone(A);M.width*=(l-r)/E,m&&(b=ht.Default.createGradient(e,m,b,w,A.x,A.y,A.width,A.height)),va(e,M,b,C);var O=M.x+M.width-f/2+p,H=M.y+(k-v)/2+y;s?Ie(e,ht.Default.getImage(s),O,H,f,v):(c<1&&(c*=Math.min(f,v)),e.beginPath(),W(e,O,H,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=I,e.fillRect(L,R,P,B)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.showToolTip=T,S.toolTipFormat=D,S.barRect=A,S.onChange=i.getValue("onChange"),S.sliderRect={x:O,y:H,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),c=i.getValue("sliderBorderRadius"),d=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),y=i.getValue("sliderOffsetY"),x=i.getColor("barBackground"),b=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),k=i.getValue("barWidth"),C=i.getValue("barBorderRadius"),V=i.getValue("padding"),_=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),D=i.getColor("toolTipFormat"),S=ea(a,o,i),L=t.x,R=t.y,P=t.width,B=t.height,E=we(l,2),A=E[0],M=E[1];A=Math.max(r,A),M=Math.min(n,M);var O=Math.abs(n-r),H={x:L+V,y:R+(B-k)/2,width:P-2*V,height:k};C<1&&(C*=k),va(e,H,x,C);var W=ht.Default.clone(H);W.width*=(M-A)/O,W.x+=(A-r)/O*H.width,m&&(b=ht.Default.createGradient(e,m,b,w,H.x,H.y,H.width,H.height)),va(e,W,b,C);var F=W.x-f/2+p,N=W.x+W.width-f/2+p,j=W.y+(k-v)/2+y;s?(De(e,ht.Default.getImage(s),F,j,f,v),De(e,ht.Default.getImage(s),N,j,f,v)):(c<1&&(c*=Math.min(f,v)),e.beginPath(),Te(e,F,j,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke()),e.beginPath(),Te(e,N,j,f,v,c),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=d,e.stroke())),_&&(e.fillStyle=I,e.fillRect(L,R,P,B)),S&&(S.disabled=_,S.value=l,S.max=n,S.min=r,S.step=h,S.valueBarDraggable=i.getValue("valueBarDraggable"),S.onChange=i.getValue("onChange"),S.showToolTip=T,S.toolTipFormat=D,S.barRect=H,S.valueBarRect=W,S.sliderRect={x:F,y:j,width:f,height:v},S.sliderRect2={x:N,y:j,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),c=t.getColor("focusBorderColor"),d=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),y=t.getColor("itemTextColor"),x=t.getColor("itemBorderWidth"),b=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),k=t.getColor("itemGradient"),C=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),_=t.getValue("itemHGap"),I=t.getValue("itemVGap"),T=t.getValue("closeIconOnLeft"),D=t.getValue("closeIconSize"),S=t.getColor("closeIconColor"),L=t.getValue("padding"),R=ea(o,i,t),P=R&&R.editing,B=e.x,E=e.y,A=e.width,M=e.height,O=Oo(L),H=we(O,4),W=H[0],F=H[1],N=H[2],j=H[3],G=Oo(d),z=we(G,4),Y=z[0],X=z[1],U=z[2],K=z[3],Z=void 0;i&&P?(Z=f,u=c):Z=g,r.beginPath(),ht.Default.drawRoundRect(r,B,E,A,M,Y,X,K,U),r.closePath(),Z&&(r.fillStyle=Z,r.fill()),(s&&u||P&&s&&c)&&(r.strokeStyle=P?c:u,r.lineWidth=s,r.stroke());var $=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){$.push(n[t]);break}});var q=[],J=Oo(V),Q=we(J,4),ee=Q[0],te=Q[1],ie=Q[2],oe=Q[3],ae=[B+j-x/2,E+W-x/2,A-j-F+x,M-W-N+x+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<$.length){var le=[B+j+x/2,E+W+x/2,A-j-F-x,M-W-N-x],he=le[0],se=le[1],ue=0,ce=Oo(m),de=we(ce,4),ge=de[0],fe=de[1],ve=de[2],pe=de[3],ye=w;$.forEach(function(e){var t=e.label||e.value,i=Mo(p,t);ne=ne||i.height,ue&&he+i.width+_+x+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+I+x+ee+ie,re++);var o=[he,se,i.width+oe+te+D+2,i.height+ee+ie];x&&(r.beginPath(),r.strokeStyle=b,Se.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(k&&C&&(ye=Re.apply(void 0,[r,k,w,C].concat(o))),r.fillStyle=ye,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,D,o[3]-ie-ee];T&&(a[0]=o[0]+oe,o[0]+=D+2),o[2]=o[2]-D-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=S,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-D)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-D)/2+D),r.moveTo(a[0]+a[2],a[1]+(a[3]-D)/2),r.lineTo(a[0],a[1]+(a[3]-D)/2+D),r.stroke(),Le.apply(void 0,[r,t,p,y].concat(o,["center","middle"])),he+=i.width+_+x+oe+te+D+2,ue++})}else if(l){var xe=Mo(p,l),be=[B+j,E+W,A-j-F,xe.height+ee+ie];Le.apply(void 0,[r,l,p,ke.placeholderColor].concat(be,["left","middle"])),ne=xe.height}if(r.restore(),h){var me=[B-s/2,E-s/2,A+s,M+s];r.save(),r.beginPath(),Se.apply(void 0,[r].concat(me,[Y,X,K,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=W+N+(ee+ie+ne)*re+I*(re-1)),R&&(R.value=a,R.valueItemInfo=q,R.disabled=h,R.dataSource=n,R.dropIconWidth=t.getValue("dropIconWidth"),R.dropIconHeight=t.getValue("dropIconHeight"),R.dropRowHeight=t.getValue("dropRowHeight"),R.dropWidth=t.getValue("dropWidth"),R.dropBackground=t.getValue("dropBackground"),R.dropLabelFont=t.getValue("dropLabelFont"),R.dropLabelColor=t.getValue("dropLabelColor"),R.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),R.dropActiveBackground=t.getValue("dropActiveBackground"),R.dropHoverBackground=t.getValue("dropHoverBackground"),R.dropMaxHeight=t.getValue("dropMaxHeight"),R.onChange=t.getValue("onChange"),R.hideSelected=t.getValue("hideSelected"),R.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),c=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),d=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),y=t.getColor("borderColor"),x=t.getValue("borderWidth")||0,b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),k=Oo(d),C=we(k,4),V=C[0],_=(C[1],C[2],C[3]),I=e.x+x/2,T=e.y+x/2,D=e.width-x,S=e.height-x,L=[I,T,D,S];if(h.save(),n)if(h.beginPath(),le===c){var R=D-10;h.moveTo(I,T),h.lineTo(I+D,T),h.lineTo(I+D,T+S-10),h.lineTo(I+R*l+10,T+S-10),h.lineTo(I+R*l+5,T+S),h.lineTo(I+R*l,T+S-10),h.lineTo(I,T+S-10),h.closePath(),L=[I,T,D,S-10]}else if(se===c){var P=S-10;h.moveTo(I+10,T),h.lineTo(I+D,T),h.lineTo(I+D,T+S),h.lineTo(I+10,T+S),h.lineTo(I+10,T+P*l+10),h.lineTo(I,T+P*l+5),h.lineTo(I+10,T+P*l),h.closePath(),L=[I+10,T,D-10,S]}else if(he===c){var B=S-10;h.moveTo(I,T),h.lineTo(I+D-10,T),h.lineTo(I+D-10,T+B*l),h.lineTo(I+D,T+B*l+5),h.lineTo(I+D-10,T+B*l+10),h.lineTo(I+D-10,T+S),h.lineTo(I,T+S),h.closePath(),L=[I,T,D-10,S]}else{var E=D-10;h.moveTo(I+E*l,T+10),h.lineTo(I+E*l+5,T),h.lineTo(I+E*l+10,T+10),h.lineTo(I+D,T+10),h.lineTo(I+D,T+S),h.lineTo(I,T+S),h.lineTo(I,T+10),h.closePath(),L=[I,T+10,D,S-10]}else h.beginPath(),h.rect(I,T,D,S);if(fa(h,{borderWidth:x,borderColor:y,background:o,bgGradient:a,bgGradientColor:r,contentRect:L,dash:b,dashPattern:m}),o){var A;if(a)o=(A=ht.Default).createGradient.apply(A,[h,a,o,r].concat(Pe(L)));h.fillStyle=o,h.fill()}if(y&&x&&(h.lineWidth=x,h.strokeStyle=y,h.stroke()),h.textAlign="left",i){i.length;var M=T+V+(c===ne?10:0);i.forEach(function(e,t){var r=I+_+(c===se?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=ga(e.text,s,u),o=Mo(e.font||v,i);n=Math.max(n,o.height),l[t]=o.width}),e.forEach(function(e,t){var i=ga(e.text,s,u),o=ga(e.font,s,u)||v,a=ga(e.vAlign,s,u)||w;h.fillStyle=ga(e.color,s,u)||p,h.font=o,"top"===(h.textBaseline=a)?h.fillText(i,r,M):"middle"===a?h.fillText(i,r,M+n/2):h.fillText(i,r,M+n),r+=l[t]+f}),M+=g+n})}h.restore()},textBox:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),u=t.getColor("color"),c=t.getValue("lineHeight"),d=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),y=t.getValue("borderWidth"),x=t.getValue("borderRadius"),b=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),k=t.getColor("bgGradientColor"),C=Oo(g),V=we(C,4),_=V[0],I=V[1],T=V[2],D=V[3],S=Oo(x),L=we(S,4),R=L[0],P=L[1],B=L[2],E=L[3];if(i.beginPath(),ht.Default.drawRoundRect(i,e.x,e.y,e.width,e.height,R,P,E,B),i.closePath(),fa(i,{borderWidth:y,borderColor:p,dash:b,dashPattern:m,background:f,bgGradient:w,bgGradientColor:k,contentRect:[e.x,e.y,e.width,e.height]}),r&&o){i.save();var A=e.x,M=e.y,O=A+D,H=M+_,W=parseInt(e.width)-D-I,F=parseInt(e.height)-_-T,N=jo(r,l,W,h);if(n&&N.length*c>F){var j=W+"-"+F+l+c,G=qe[j];G=G||(qe[j]={});var z=0,Y=0,X=void 0,U=void 0,K=void 0,Z=void 0,$=void 0,q=void 0;if(s="top",G&&G[r])U=1/(X=G[r]),Z=X*c,q=parseInt(W*U),i.scale(X,X),N=jo(r,l,q,h);else{for(;z<4;){if(U=1/(X=Math.sqrt(F/((N.length+Y)*c))),Z=X*c,q=parseInt(W*U),$&&i.scale($,$),i.scale(X,X),(K=jo(r,l,q,h)).length*Z>F)Y+=Math.ceil((K.length*Z-F)/Z+.5),$=U;else{if(!(K.length*Z<F&&Math.abs(F-K.length*Z)>2*Z)){N=K;break}Y-=Math.floor((F-K.length*Z)/Z),$=U}4==++z&&(N=K)}G[r]=X}O=(A+D)*U,H=(M+_)*U,N.forEach(function(e,t){ht.Default.drawText(i,e,l,u,O,H,q,Z,d,s),H+=c})}else if(v&&(N.length+1)*c<F){var J=W+"-"+F+l+c,Q=qe[J];Q=Q||(qe[J]={});var ee=0,te=void 0,ie=void 0,oe=void 0,ae=void 0,re=void 0,ne=void 0;if(s="top",Q&&Q[r])ie=1/(te=Q[r]),ae=te*c,ne=parseInt(W*ie),i.scale(te,te),N=jo(r,l,ne,h);else{for(var le=Math.sqrt(F/(N.length*c));ee<4;){if(ie=1/(te=le),ae=te*c,ne=parseInt(W*ie),re&&i.scale(re,re),i.scale(te,te),!((oe=jo(r,l,ne,h)).length*ae>F||oe.length*ae<F&&F-oe.length*ae>.8*ae)){N=oe;break}re=ie,le*=Math.sqrt(F/(oe.length*ae)),4==++ee&&(N=oe)}Q[r]=te}O=(A+D)*ie,H=(M+_)*ie,N.forEach(function(e,t){ht.Default.drawText(i,e,l,u,O,H,ne,ae,d,s),H+=c})}else"middle"===s?H+=(F-N.length*c)/2:"bottom"===s&&(H+=F-N.length*c),N.forEach(function(e,t){ht.Default.drawText(i,e,l,u,O,H,W,c,d,s),H+=c});i.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),h=i.getValue("align"),s=i.getValue("vAlign"),u=i.getColor("color"),c=i.getValue("padding"),d=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),y=i.getValue("dashPattern"),x=i.getValue("bgGradient"),b=i.getColor("bgGradientColor"),m=Oo(c),w=we(m,4),k=w[0],C=w[1],V=w[2],_=w[3],I=Oo(v),T=we(I,4),D=T[0],S=T[1],L=T[2],R=T[3];e.beginPath(),ht.Default.drawRoundRect(e,t.x,t.y,t.width,t.height,D,S,R,L),e.closePath(),fa(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:y,background:d,bgGradient:x,bgGradientColor:b,contentRect:[t.x,t.y,t.width,t.height]});for(var P=[t.x+_,t.y+k,t.width-_-C,t.height-k-V],B=P[2],E="",A=0;A<n.length;A++){E+=n[A];var M=Mo(l,E+"...").width;if(M<=B&&A==n.length-1){n=E;break}if(B<M){n=(E=E.slice(0,E.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,u].concat(P,[h,s]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),u=t.getColor("background"),c=t.getColor("borderColor"),d=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),y=t.getColor("bgGradientColor"),x=t.getValue("wordBreak"),b=t.getValue("vGap"),m=t.getValue("hGap"),w=Oo(h),k=we(w,4),C=k[0],V=k[1],_=k[2],I=k[3],T=Oo(g),D=we(T,4),S=D[0],L=D[1],R=D[2],P=D[3];if(o.beginPath(),ht.Default.drawRoundRect(o,e.x,e.y,e.width,e.height,S,L,P,R),o.closePath(),fa(o,{borderWidth:d,borderColor:c,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:y,contentRect:[e.x,e.y,e.width,e.height]}),r){var B={x:e.x+I,y:e.y+C,width:e.width-I-V,height:e.height-C-_},E=B.x,A=B.y,M=B.width,O=function(e,g,f,v,p){var y=[];return e.split("\n").forEach(function(e){if(""===e&&(e=G),p)Array.prototype.push.apply(y,je(e,f,g,v));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++){e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2"}a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++){a.charAt(s).match(/\_/g)&&(e=Go(e,s+1,"|"))}t=e.split("|"),i=a.split("_");for(var u=(o=Mo(g,"图")).height/3,c=0,d=t.length;c<d;c++)r=l+t[c],u+=o.height*t[c].length+v,"1"===i[c][0]?f<u?(l?(y.push(l),l="",c--):(n=je(t[c],f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1]),u=o.height/3):u===f?(y.push(r),l="",u=o.height/3):l=r:f<u?(n=je(r,f,g,v),Array.prototype.push.apply(y,n.slice(0,n.length-1)),l=n[n.length-1],u=o.height/3):l=r;l&&y.push(l)}}),y}(r,n,B.height,b,x),H=Mo(n,"图"),W=H.width,F=H.height,N=void 0,j=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,s?(N=E+M-W,j=A,O.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,j),j+=b+F}j=A,N=N-W-m})):(N=E,j=A,O.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,N,j),j+=b+F}j=A,N+=W+m})),o.restore()}},tree:function(Be,Ee,e,Ae,Me){var t=e.getValue("dataSource"),Oe=e.getValue("itemHeight"),He=e.getValue("indent"),We=e.getValue("badgeHeight"),Fe=e.getValue("badgeSpace"),Ne=e.getValue("badgeRadius"),je=e.getValue("translateX"),Ge=e.getValue("translateY"),ze=e.getValue("treeFont"),Ye=e.getValue("badgeFont"),i=e.getColor("textColor"),Xe=e.getColor("hoverBackColor"),Ue=e.getColor("hoverTextColor"),Ke=e.getColor("selectBackColor"),Ze=e.getColor("selectTextColor"),o=e.getColor("backColor"),$e=e.getColor("borderColor"),a=e.getColor("lineColor"),r=e.getColor("scrollBarColor"),qe=e.getValue("showLine"),Je=e.getValue("showCheckbox"),Qe=e.getValue("showBorder"),et=e.getValue("showIcon"),tt=e.getValue("showBadge"),n=e.getValue("scrollable"),l=e.getValue("autoHideScrollBar"),h=e.getValue("scrollBarWidth"),s=e.getValue("scrollBarWidthAbsolute"),it=e.getValue("expandIconSize"),ot=e.getValue("iconSize"),at=e.getValue("checkIconSize"),rt=e.getValue("space"),nt=e.getValue("visibleFunc")||function(){return!0},lt=Mt(e.getValue("openIcon")),ht=Mt(e.getValue("closeIcon")),st=Mt(e.getValue("loadingIcon")),ut=Mt(e.getValue("defaultIcon")),ct=Mt(e.getValue("checkIcon")),dt=Mt(e.getValue("unCheckIcon")),gt=Mt(e.getValue("unCheckAllIcon")),ft=void 0,vt=void 0,pt=void 0,yt=void 0,xt=void 0,bt=void 0,mt=void 0;lt||(lt=Mt("ht.vector.treeOpenIcon"),ft=e.getColor("openIconColor")),ht||(ht=Mt("ht.vector.treeCloseIcon"),vt=e.getColor("closeIconColor")),st||(st=Mt("ht.vector.treeLoadIcon"),pt=e.getColor("loadingIconColor")),ut||(ut=Mt("ht.vector.treeDefIcon"),yt=e.getColor("defaultIconColor")),ct||(ct=Mt("ht.vector.treeCheckIcon"),xt=e.getColor("checkIconColor")),dt||(dt=Mt("ht.vector.treeUnCheckIcon"),bt=e.getColor("unCheckIconColor")),gt||(gt=Mt("ht.vector.treeUnCheckAllIcon"),mt=e.getColor("unCheckAllIconColor"));var wt=Ee.x,kt=Ee.y,Ct=Ee.width,u=Ee.height,Vt=0,_t=0,It=Et({showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),c=ea(Me,Ae,e),d=null;if(c){c.rootTree?(d=c.rootTree).clearExitChildsMap():(d=new Rt(Ae),c.rootTree=d);for(var g=0,f=t.length;g<f;g++){var v=t[g];v&&Bt(v,d)}d.traverseChildsMap(function(e,t){t.parent.removeChildren(t)}),d.clearChildsMap(),d.traverseExitChildsMap(function(e,t){d.addChildsMapById(e,t),Je&&t.checked&&(t.checkAfter(),t.checkBefore())})}if(d){Be.save(),Be.fillStyle=o,Be.beginPath(),Be.fillRect(wt,kt,Ct,u),Be.fill(),Be.restore(),Be.save(),Be.font=ze,Be.fillStyle=i,Be.strokeStyle=a,Be.setLineDash([1,1]),Be.lineWidth=.5,Be.lineJoin="miter",Be.textBaseline="middle",Be.textAlign="start",Be.beginPath(),Be.rect(wt,kt,Ct,u),Be.clip();for(var p=d.children,Tt=null,Dt={expandIconRects:[],treeBackRects:[],checkIconRects:[],badgeRects:[]},y=0,x=p.length;y<x;y++)St(p[y]);Be.restore();var b=Me.getZoom?Me.getZoom():1,m=s?h/b:h,w=Vt+m,k=_t;if(Ct<Vt-2&&(k=_t+m),c&&(c.translateX=je,c.translateY=Ge,c.rectInfo=Dt,c.scrollBarInfo={x:wt,y:kt,width:Ct,height:u,boundWidth:w,boundHeight:k,absoluteScrollBarWidth:m},c.autoHideScrollBar=l,c.accordion=e.getValue("accordion"),c.multiSelect=e.getValue("multiSelect"),c.loadData=e.getValue("loadData")||function(e,t){return t()},c.onCheck=e.getValue("onCheck")||function(){},c.onExpand=e.getValue("onExpand")||function(){},c.onSelect=e.getValue("onSelect")||function(){},c.onClickBack=e.getValue("onClickBack")||function(){},c.onClickBadge=e.getValue("onClickBadge")||function(){},c.selectableFunc=e.getValue("selectableFunc")||function(){return!0},c.expandableFunc=e.getValue("expandableFunc")||function(){return!0},c.checkableFunc=e.getValue("checkableFunc")||function(){return!0}),n){var C={x:wt,y:kt,width:Ct,height:u},V={width:w,height:k},_={x:je,y:Ge};k<u&&0!==Ge&&(V.height=u-Ge),Lt(Be,C,V,_,{visible:!l||c.scrollBarVisible,color:r,gap:0,barWidth:m},c||{})}}function St(e){if(nt(e)){var t=e.text,i=e.parent,o=Mo(ze,t).width,a=i._treeItemRect;e._treeItemRect={x:a?a.x+He:wt+je+He,y:Tt?Tt._treeItemRect.y+Oe:kt+Ge,width:o+It,height:Oe};var r=e.text,n=e.children,l=e.expanded,h=e.selected,s=e.disabled,u=e.isLeaf,c=e.icon,d=e.badges,g=e._checkStatus,f=e._isLoading,v=e._isHovering,p=e._treeItemRect,y=function(e,t,i){var o=i.showCheckbox,a=i.showIcon,r=i.expandIconSize,n=i.iconSize,l=i.checkIconSize,h=i.space,s=Et(i),u=e.x,c=e.y,d=e.width,g=e.height,f={x:u,y:c+(g-r)/2,width:r,height:r},v={x:f.x+r+h,y:c+(g-l)/2,width:l,height:l},p={x:null,y:c+(g-n)/2,width:n,height:n},y={x:null,y:c,width:d-s,height:g},x={x:t.x,y:c,width:t.width,height:g};return p.x=o?v.x+l+h:f.x+r+h,y.x=a?p.x+n+h:p.x,{expandIconRect:f,checkIconRect:v,iconRect:p,textRect:y,backRect:x}}(p,Ee,{showCheckbox:Je,showIcon:et,expandIconSize:it,iconSize:ot,checkIconSize:at,space:rt}),x=y.expandIconRect,b=y.checkIconRect,m=y.iconRect,w=y.textRect,k=y.backRect;if(e._elementRect=y,Tt=e,_t+=Oe,Vt=Math.max(Vt,w.x-je+o),Ke&&h&&Ot(Ee,k)){var C=k.x,V=k.y,_=k.width,I=k.height;Be.save(),Be.fillStyle=Ke,Be.fillRect(C,V,_,I),Be.restore()}if(Ot(Ee,p)){if(Xe&&v){var T=k.x,D=k.y,S=k.width,L=k.height;Be.save(),Be.fillStyle=Xe,Be.fillRect(T,D,S,L),Be.restore()}if(Ke&&h){var R=k.x,P=k.y,B=k.width,E=k.height;Be.save(),Be.fillStyle=Ke,Be.fillRect(R,P,B,E),Be.restore()}if(!u){var A=x.x,M=x.y,O=x.width,H=x.height,W=void 0,F=void 0;F=f?(W=st,pt):l?(W=ht,vt):(W=lt,ft),At(Be,W,"fill",A,M,O,H,Ae,Me,F),Dt.expandIconRects.push({treeItem:e,expandIconRect:x})}if(Je){var N=b.x,j=b.y,G=b.width,z=b.height,Y=void 0,X=void 0;X="check"===g?(Y=ct,xt):"unCheckAll"===g?(Y=gt,mt):(Y=dt,bt),At(Be,Y,"fill",N,j,G,z,Ae,Me,X),Dt.checkIconRects.push({treeItem:e,checkIconRect:b})}if(et){var U=m.x,K=m.y,Z=m.width,$=m.height,q=void 0,J=void 0;c?q=Mt(c):(q=ut,J=yt),At(Be,q,"fill",U,K,Z,$,Ae,Me,J)}if(Qe){var Q=k.x,ee=k.y,te=k.width,ie=k.height;Be.save(),Be.strokeStyle=$e,Be.setLineDash([]),Be.beginPath(),Be.strokeRect(Q+.25,ee+.25,te-.5,ie),Be.stroke(),Be.restore()}if(tt&&0<d.length){var oe=Ct,ae=k.y+(k.height-We)/2;Be.save(),Be.font=Ye,Be.textAlign="center",Be.fillStyle="#777777",Be.strokeStyle="white",Be.lineWidth=1,Be.setLineDash([]);for(var re=0,ne=d.length;re<ne;re++){var le=d[re],he=le.text,se=le.textColor,ue=le.backColor,ce=Mo(Ye,he).width;oe-=(ce+=2*Ne)+Fe,ue&&(Be.fillStyle=ue),Be.beginPath(),Ht(Be,oe,ae,ce,We,Ne),Be.closePath(),Be.fill(),se&&(Be.strokeStyle=se),Be.strokeText(he,oe+ce/2,ae+We/2),Be.stroke(),Dt.badgeRects.push({treeItem:e,info:le,badgeRect:{x:oe,y:ae,width:ce,height:We}})}Be.restore()}if(qe){var de=function(e,t){return e?"checkIconRect":t?"iconRect":"textRect"}(Je,et),ge=Pt(y[de]).leftMiddle,fe=Pt(x),ve=fe.rightMiddle,pe=fe.topMiddle,ye=fe.middleMiddle;Be.beginPath(),u?Be.moveTo(ye.x,ye.y):Be.moveTo(ve.x,ve.y),Be.lineTo(ge.x,ge.y);var xe=e.getPreVisibleSibling(nt);if(xe){var be=xe._elementRect,me=xe.isLeaf,we=be.expandIconRect,ke=Pt(we),Ce=ke.bottomMiddle,Ve=ke.middleMiddle;me?Be.moveTo(Ve.x,Ve.y):Be.moveTo(Ce.x,Ce.y),u?Be.lineTo(ye.x,ye.y):Be.lineTo(pe.x,pe.y)}else{var _e=e.parent._elementRect;if(_e){var Ie=Pt(_e[de]).bottomMiddle;Be.moveTo(ye.x,Ie.y),u?Be.lineTo(ye.x,ye.y):Be.lineTo(pe.x,pe.y)}}Be.stroke()}if(h&&Ze?(Be.save(),Be.fillStyle=Ze,Be.fillText(r,w.x,w.y+Oe/2),Be.restore()):v&&Ue?(Be.save(),Be.fillStyle=Ue,Be.fillText(r,w.x,w.y+Oe/2),Be.restore()):Be.fillText(r,w.x,w.y+Oe/2),s){var Te=k.x,De=k.y,Se=k.width,Le=k.height;Be.save(),Be.fillStyle="rgba(192, 192, 192, 0.5)",Be.fillRect(Te,De,Se,Le),Be.restore()}Dt.treeBackRects.push({treeItem:e,backRect:k})}if(l)for(var Re=0,Pe=n.length;Re<Pe;Re++)St(n[Re])}}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=(i.getValue("maxVisiblePoint"),i.getValue("endProtectPoint"),i.getValue("boundaryGap")),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor")};if(r&&r.length){var v={color:h&&h.length?h:oo,xAxis:qi(n,Qi),yAxis:qi(l,Ji),series:r,tooltip:f,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:co(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:ga(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new no(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new ho(e,v,p)}),$i(v,p),o){var y=ea(a,o,i);if(y){var x=y;p.hoverIndex=x.hoverIndex,p._dragging=x._dragging,p.rectPoint1=x.rectPoint1,p.rectPoint2=x.rectPoint2,x._dragging&&x.rectPoint1&&x.rectPoint2&&(p.selectRect=go(x.rectPoint1,x.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){"bar"===e.type&&!1!==e.visible&&(n.barSeries.push(e),ba(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;"line"===i?o=Ki:"bar"===i&&(o=Zi),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var b=p.selectRect,m=b.x,w=b.y,k=b.width,C=b.height;t.fillStyle=d,t.fillRect(m,w,k,C),t.strokeStyle=c,t.strokeRect(m,w,k,C)}if(o){var V=ea(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],h=i.getValue("borderWidth"),s=i.getValue("borderRadius"),u=i.getValue("font"),c=i.getColor("labelColor"),d=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),y=i.getColor("activeLabelColor"),x=i.getColor("activeBorderColor"),b=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),k=i.getColor("disabledBackground"),C=i.getValue("vertical"),V=i.getValue("onChange"),_=i.getValue("disabled"),I=ea(a,o,i),T=t.x,D=t.y,S=t.width,L=t.height,R=Math.min(n.length,l.length);if(R){if(tt=it=null,ba(r)){var P=n.indexOf(r);it=0<=P?P:null}I&&ba(I.hoverIndex)&&(tt=I.hoverIndex);for(var B=[],E=0;E<R;E++)E!==tt&&E!==it&&B.push(E);ba(tt)&&tt===it?B.push(tt):(ba(it)&&B.push(it),ba(tt)&&B.push(tt));var A,M,O,H,W,F,N,j,G,z,Y,X,U,K,Z,$,q,J,Q,ee,te,ie,oe,ae,re,ne,le,he,se=[];if(C)for(var ue=L/R,ce=0;ce<B.length;ce++){var de=B[ce],ge=l[de],fe={x:T,y:D+de*ue,width:S,height:ue};se.push({rect:fe,index:de});var ve=Ge(de,_,c,f,y,m),pe=Ge(de,_,d,v,x,w),ye=Ge(de,_,g,p,b,k);Z=e,$=fe,q=ze(de,R),J=s,Q=ge,ee=u,te=ve,ie=h,oe=pe,ae=ye,void 0,re=$.x,ne=$.y,le=$.width,he=$.height,Z.save(),Z.beginPath(),0===q?et(Z,re,ne,le,he,J,J,0,0):1===q?et(Z,re,ne,le,he,0):2===q?et(Z,re,ne,le,he,0,0,J,J):et(Z,re,ne,le,he,J),Z.closePath(),ae&&(Z.fillStyle=ae,Z.fill()),oe&&ie&&(Z.strokeStyle=oe,Z.stroke()),Z.clip(),Qe(Z,Q,ee,te,re,ne,le,he,"center","middle"),Z.restore()}else for(var xe=S/R,be=0;be<B.length;be++){var me=B[be],we=l[me],ke={x:T+xe*me,y:D,width:xe,height:L};se.push({rect:ke,index:me});var Ce=Ge(me,_,c,f,y,m),Ve=Ge(me,_,d,v,x,w),_e=Ge(me,_,g,p,b,k);A=e,M=ke,O=ze(me,R),H=s,W=we,F=u,N=Ce,j=h,G=Ve,z=_e,void 0,Y=M.x,X=M.y,U=M.width,K=M.height,A.save(),A.beginPath(),0===O?et(A,Y,X,U,K,H,0,H,0):1===O?et(A,Y,X,U,K,0):2===O?et(A,Y,X,U,K,0,H,0,H):et(A,Y,X,U,K,H),A.closePath(),z&&(A.fillStyle=z,A.fill()),G&&j&&(A.strokeStyle=G,A.stroke()),A.clip(),Qe(A,W,F,N,Y,X,U,K,"center","middle"),A.restore()}I&&(I.disabled=_,I.onChange=V,I.buttonRects=se,I.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),h=i.getValue("vertical"),s=i.getValue("index"),u=i.getValue("gap"),c=i.getValue("itemWidth"),d=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),y=i.getValue("drawItem"),x=i.getValue("animation"),b=i.getValue("onClickItem"),m=ea(a,o,i),w=t.x,k=t.y,C=t.width,V=t.height,_=s%1;if(s|=0,p&&(e.fillStyle=p,e.fillRect(w,k,C,V)),r&&r.length){var I,T,D=1-l,S=[],L=void 0;if(I=(1-n)/(L=h?Ye(d,V,u,n):Ye(c,C,u,n)),T=D/L,e.save(),e.beginPath(),e.rect(w,k,C,V),e.clip(),h){for(var R=w+C/2,P=k+V/2-d/2-u-_*d,B=0;B<L;B++){var E=n+I*(L-B-1-_),A=l+T*(L-B-1-_),M=s-B-1;if(M<0||M>=r.length)break;var O=r[M],H=[(R-c*E/2)/E,(P-=d*E)/E,c,d];e.save(),e.globalAlpha=A,e.scale(E,E),y?y(e,O,Jo(H),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,H)),wa.apply(void 0,[e,O,v,f].concat(H,[ge,fe]))),e.restore(),P-=u,S.push({index:M,rect:{x:H[0]*E,y:H[1]*E,width:H[2]*E,height:H[3]*E}})}P=k+V/2+d/2+u-_*(d+u);for(var W=0;W<L;W++){var F=n+I*(L-W-1+_),N=l+T*(L-W-1+_),j=s+W+1;if(j<0||j>=r.length)break;var G=r[j],z=[(R-c*F/2)/F,P/F,c,d];e.save(),e.globalAlpha=N,e.scale(F,F),y?y(e,G,Jo(z),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,z)),wa.apply(void 0,[e,G,v,f].concat(z,[ge,fe]))),e.restore(),P+=d*F+u,S.push({index:j,rect:{x:z[0]*F,y:z[1]*F,width:z[2]*F,height:z[3]*F}})}P=k+V/2-d/2-_*d;var Y=r[s];if(Y){var X=1-I*_,U=1-T*_,K=[(R-c*X/2)/X,P/X,c,d];e.save(),e.globalAlpha=U,e.scale(X,X),y?y(e,Y,Jo(K),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,K)),wa.apply(void 0,[e,Y,v,f].concat(K,[ge,fe]))),e.restore(),S.push({index:s,rect:{x:K[0]*X,y:K[1]*X,width:K[2]*X,height:K[3]*X}})}}else{for(var Z=k+V/2,$=w+C/2-c/2-u-_*c,q=0;q<L;q++){var J=n+I*(L-q-1-_),Q=l+T*(L-q-1-_),ee=s-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[($-=c*J)/J,(Z-d*J/2)/J,c,d];e.save(),e.globalAlpha=Q,e.scale(J,J),y?y(e,te,Jo(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),wa.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),$-=u,S.push({index:ee,rect:{x:ie[0]*J,y:ie[1]*J,width:ie[2]*J,height:ie[3]*J}})}$=w+C/2+c/2+u-_*(c+u);for(var oe=0;oe<L;oe++){var ae=n+I*(L-oe-1+_),re=l+T*(L-oe-1+_),ne=s+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],he=[$/ae,(Z-d*ae/2)/ae,c,d];e.save(),e.globalAlpha=re,e.scale(ae,ae),y?y(e,le,Jo(he),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,he)),wa.apply(void 0,[e,le,v,f].concat(he,[ge,fe]))),e.restore(),$+=c*ae+u,S.push({index:ne,rect:{x:he[0]*ae,y:he[1]*ae,width:he[2]*ae,height:he[3]*ae}})}$=w+C/2-c/2-_*c;var se=r[s];if(se){var ue=1-I*_,ce=1-T*_,de=[$/ue,(Z-d*ue/2)/ue,c,d];e.save(),e.globalAlpha=ce,e.scale(ue,ue),y?y(e,se,Jo(de),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,de)),wa.apply(void 0,[e,se,v,f].concat(de,[ge,fe]))),e.restore(),S.push({index:s,rect:{x:de[0]*ue,y:de[1]*ue,width:de[2]*ue,height:de[3]*ue}})}}e.restore(),m&&(m.itemInfos=S,m.index=s,m.animation=x,m.dataSource=r,m.onClickItem=b,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),h=i.getValue("itemWidth"),s=i.getValue("itemHeight"),u=i.getColor("itemBackground"),c=i.getColor("itemColor"),d=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(ea(a,o,i),t.x),y=t.y,x=t.width,b=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,y,x,b)),r&&r.length){e.save(),e.beginPath(),e.rect(p,y,x,b),e.clip();var m=r.length;if(n){var w=s+l,k=y+v,C=p+(x-h)/2,V=0;if((k%=w*r.length)<=y)for(;;){if(Va({x:C,y:k,width:h,height:s},t))break;V++,k+=w}else if(y<k)for(;;){if(!Va({x:C,y:k,width:h,height:s},t)&&k<y){k+=w,V++;break}k-=w,V--}for(;;){var _={x:C,y:k,width:h,height:s};if(!Va(_,t))break;var I,T=V%m;T<0&&(T=m+V),I=r[T],f?f(e,I,_,o,a):(u&&(e.fillStyle=u,e.fillRect(C,k,h,s)),wa(e,I,d,c,C,k,h,s,ge,fe)),k+=w,V++}}else{var D=h+l,S=y+(b-s)/2,L=p+v,R=0;if((L%=D*r.length)<=p)for(;;){if(Va({x:L,y:S,width:h,height:s},t))break;R++,L+=D}else if(p<L)for(;;){if(!Va({x:L,y:S,width:h,height:s},t)&&L<p){L+=D,R++;break}L-=D,R--}for(;;){var P={x:L,y:S,width:h,height:s};if(!Va(P,t))break;var B,E=R%m;E<0&&(E=m+R),B=r[E],f?f(e,B,P,o,a):(u&&(e.fillStyle=u,e.fillRect(L,S,h,s)),wa(e,B,d,c,L,S,h,s,ge,fe)),L+=D,R++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),c=i.getValue("rectSelectBorderColor"),d=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern")};if(r&&r.length){var y={color:h&&h.length?h:defaultColors,xAxis:qi(n,fo),yAxis:qi(l,Ji),series:r,tooltip:p,onRectSelected:u,rectSelectBorderColor:c,rectSelectBackground:d},x={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,rect:e,contentRect:ya(e),valueAxis:X,seriesDatas:r.map(function(e){return!1===e.visible?[]:ga(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(y.xAxis.forEach(function(e){e._axisObj=new vo(e,y,x)}),y.yAxis.forEach(function(e){e._axisObj=new ho(e,y,x)}),$i(y,x),o){var b=ea(a,o,i);if(b){var m=b;x.hoverTime=m.hoverTime,x._dragging=m._dragging,x.rectPoint1=m.rectPoint1,x.rectPoint2=m.rectPoint2,m._dragging&&m.rectPoint1&&m.rectPoint2&&(x.selectRect=Ca(m.rectPoint1,m.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),y.xAxis.forEach(function(e){e._axisObj.draw(t)}),y.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&yo(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.timeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,h=n.y,s=n.width,u=n.height,c=l+(a.hoverTime-t)/r*s,d=o.tooltip,g=d.lineColor,f=d.lineWidth,v=d.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(c,h),i.lineTo(c,h+u),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,y,x),x.selectRect){var w=x.selectRect,k=w.x,C=w.y,V=w.width,_=w.height;t.fillStyle=d,t.fillRect(k,C,V,_),t.strokeStyle=c,t.strokeRect(k,C,V,_)}if(o){var I=ea(a,o,i);I.ui=x,I.option=y}}}},pieInteractor:new So,buttonInteractor:new pt,inputInteractor:new lt,textAreaInteractor:new rt,radioInteractor:new xt,checkboxInteractor:new mt,colorPickerInteractor:new jt,dateTimePickerInteractor:new zt,comboBoxInteractor:new ii,tableInteractor:new ri,sliderInteractor:new si,rangeSliderInteractor:new di,multipleComboBoxInteractor:new vi,treeInteractor:new bi,chartInteractor:new Ti,inputNumberInteractor:new dt,dateRangePickerInteractor:new Si,radioButtonInteractor:new Pi,carouselInteractor:new Hi,timeAxisChartInteractor:new Gi,carouselInteractor2:new Fi,Color:y,ListView:qt,ListDropDown:Qt,getVectorInfo:ea,caluMultilineSize:function(e,t){var i=e.a("ht.content"),o=e.a(f.FONT),a=e.a(f.LINE_HEIGHT),r=e.a(f.PADDING),n=Oo(r),l=we(n,4),h=l[0],s=l[1],u=l[2],c=l[3],d=i.split(/\n/),g=0;return d.forEach(function(e){var t=Mo(o,e);g=Math.max(g,t.width)}),{width:g+c+s,height:d.length*a+h+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=Oo(i),c=we(u,4),d=c[0],g=c[1],f=c[2],v=c[3]+g+t,p=d+f+t;o&&(a===se||a===he?v+=10:p+=10);var y=0,x=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var i=ga(e.text,n,l),o=Mo(e.font||s,i);a=Math.max(a,o.height),r+=o.width}),y=Math.max(y,r),x+=a}),x+=(e.length-1)*r),{width:v+=y,height:p+=x}}},Ba="0.0.6";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),Pa.openColorDropDown=It,Pa.openDateTimeDropDown=St,Pa.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(f.FORM_ITEM_NAME),i=e.a(f.FORM_ITEM_GROUP);if(t)n[t]=Xo(e);else if(i&&!n[f.FORM_ITEM_GROUP])if(e.__inputType===b)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(f.FORM_ITEM_GROUP)&&a.a(f.CHECKED)){n[i]=Xo(a);break}}else if(e.__inputType===k){var r=[];l.each(function(e){i===e.a(f.FORM_ITEM_GROUP)&&e.a(f.CHECKED)&&r.push(Xo(e))}),n[i]=r}}),n},Pa.selectFile=Ko,Pa.getVersion=function(){return Ba},Pa}();
!function(){"use strict";var p;ht.Default.setImage("ht.watermark",{width:400,height:400,attachStyle:"close",comps:[{type:"text",text:"图扑软件",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[174.33111,152.28285,50,50]},{type:"text",text:"Hightopo",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[196.45735,176.22095,50,50]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.15,rotation:-.7854,points:[112.93689,247.93891,112.93689,232.2239,125.71074,219.47888,141.39691,219.47888,141.39691,219.47888,157.11193,219.47888,169.85694,232.25273,169.85694,247.93891,169.85694,247.93891,169.85694,263.65391,157.08309,276.39894,141.39691,276.39894,112.93689,276.39894,112.93689,247.93891],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[103.74837,261.6275,97.69304,261.6275,92.79112,256.72557,92.79112,250.67025,92.79112,250.67025,92.79112,244.61491,97.69304,239.71299,103.74837,239.71299,103.74837,239.71299,109.80369,239.71299,114.70563,244.61491,114.70563,250.67025,114.70563,261.6275,103.74837,261.6275],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(140,140,140,0.19)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[124.64535,247.52737,121.214,247.52737,118.47469,245.0764,118.47469,242.04874,118.47469,236.57011,147.30957,236.57011,150.74092,236.57011,153.48024,239.02107,153.48024,242.04874,153.48024,242.04874,153.48024,245.0764,150.71209,247.52737,147.30957,247.52737],segments:[1,4,2,2,4,2,4]},{type:"shape",background:"rgba(140,140,140,0.19)",gradient:"linear.north",gradientColor:"rgba(140,140,140,0.00)",fillRule:"evenodd",opacity:.5,shadowColor:"rgba(0,0,0,0.39)",rotation:-.7854,points:[142.40436,267.14926,148.64376,267.14926,152.08969,267.14926,154.88317,264.92047,154.88317,262.17653,154.88317,242.28081,142.40436,242.28081],segments:[1,2,4,2,2]}]}),p=400,setTimeout(function(c){c||((c=new ht.graph.GraphView).addToDOM(),c.getView().style.pointerEvents="none"),c.addTopPainter(function(t){for(var e=c.getViewRect(),a=e.x,o=e.y,r=e.width,i=e.height,n=o;n*p<i;n++)for(var s=0;s*p<r;s++)ht.Default.drawImage(t,ht.Default.getImage("ht.watermark"),a+s*p,o+n*p,p,p)})},500)}();
